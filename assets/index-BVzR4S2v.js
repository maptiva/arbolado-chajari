(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&a(f)}).observe(document,{childList:!0,subtree:!0});function n(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function a(l){if(l.ep)return;l.ep=!0;const u=n(l);fetch(l.href,u)}})();function Op(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Dm={exports:{}},Ju={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Iv;function BS(){if(Iv)return Ju;Iv=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(a,l,u){var f=null;if(u!==void 0&&(f=""+u),l.key!==void 0&&(f=""+l.key),"key"in l){u={};for(var _ in l)_!=="key"&&(u[_]=l[_])}else u=l;return l=u.ref,{$$typeof:r,type:a,key:f,ref:l!==void 0?l:null,props:u}}return Ju.Fragment=t,Ju.jsx=n,Ju.jsxs=n,Ju}var Lv;function HS(){return Lv||(Lv=1,Dm.exports=BS()),Dm.exports}var dt=HS(),km={exports:{}},Kt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xv;function jS(){if(xv)return Kt;xv=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),_=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),S=Symbol.iterator;function I(N){return N===null||typeof N!="object"?null:(N=S&&N[S]||N["@@iterator"],typeof N=="function"?N:null)}var M={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},q=Object.assign,F={};function Z(N,at,gt){this.props=N,this.context=at,this.refs=F,this.updater=gt||M}Z.prototype.isReactComponent={},Z.prototype.setState=function(N,at){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,at,"setState")},Z.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function it(){}it.prototype=Z.prototype;function ut(N,at,gt){this.props=N,this.context=at,this.refs=F,this.updater=gt||M}var st=ut.prototype=new it;st.constructor=ut,q(st,Z.prototype),st.isPureReactComponent=!0;var St=Array.isArray,Tt={H:null,A:null,T:null,S:null,V:null},kt=Object.prototype.hasOwnProperty;function z(N,at,gt,_t,wt,It){return gt=It.ref,{$$typeof:r,type:N,key:at,ref:gt!==void 0?gt:null,props:It}}function O(N,at){return z(N.type,at,void 0,void 0,void 0,N.props)}function D(N){return typeof N=="object"&&N!==null&&N.$$typeof===r}function j(N){var at={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(gt){return at[gt]})}var B=/\/+/g;function G(N,at){return typeof N=="object"&&N!==null&&N.key!=null?j(""+N.key):at.toString(36)}function U(){}function ce(N){switch(N.status){case"fulfilled":return N.value;case"rejected":throw N.reason;default:switch(typeof N.status=="string"?N.then(U,U):(N.status="pending",N.then(function(at){N.status==="pending"&&(N.status="fulfilled",N.value=at)},function(at){N.status==="pending"&&(N.status="rejected",N.reason=at)})),N.status){case"fulfilled":return N.value;case"rejected":throw N.reason}}throw N}function be(N,at,gt,_t,wt){var It=typeof N;(It==="undefined"||It==="boolean")&&(N=null);var vt=!1;if(N===null)vt=!0;else switch(It){case"bigint":case"string":case"number":vt=!0;break;case"object":switch(N.$$typeof){case r:case t:vt=!0;break;case w:return vt=N._init,be(vt(N._payload),at,gt,_t,wt)}}if(vt)return wt=wt(N),vt=_t===""?"."+G(N,0):_t,St(wt)?(gt="",vt!=null&&(gt=vt.replace(B,"$&/")+"/"),be(wt,at,gt,"",function(Jn){return Jn})):wt!=null&&(D(wt)&&(wt=O(wt,gt+(wt.key==null||N&&N.key===wt.key?"":(""+wt.key).replace(B,"$&/")+"/")+vt)),at.push(wt)),1;vt=0;var Ee=_t===""?".":_t+":";if(St(N))for(var Wt=0;Wt<N.length;Wt++)_t=N[Wt],It=Ee+G(_t,Wt),vt+=be(_t,at,gt,It,wt);else if(Wt=I(N),typeof Wt=="function")for(N=Wt.call(N),Wt=0;!(_t=N.next()).done;)_t=_t.value,It=Ee+G(_t,Wt++),vt+=be(_t,at,gt,It,wt);else if(It==="object"){if(typeof N.then=="function")return be(ce(N),at,gt,_t,wt);throw at=String(N),Error("Objects are not valid as a React child (found: "+(at==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":at)+"). If you meant to render a collection of children, use an array instead.")}return vt}function rt(N,at,gt){if(N==null)return N;var _t=[],wt=0;return be(N,_t,"","",function(It){return at.call(gt,It,wt++)}),_t}function Et(N){if(N._status===-1){var at=N._result;at=at(),at.then(function(gt){(N._status===0||N._status===-1)&&(N._status=1,N._result=gt)},function(gt){(N._status===0||N._status===-1)&&(N._status=2,N._result=gt)}),N._status===-1&&(N._status=0,N._result=at)}if(N._status===1)return N._result.default;throw N._result}var pt=typeof reportError=="function"?reportError:function(N){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var at=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof N=="object"&&N!==null&&typeof N.message=="string"?String(N.message):String(N),error:N});if(!window.dispatchEvent(at))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",N);return}console.error(N)};function re(){}return Kt.Children={map:rt,forEach:function(N,at,gt){rt(N,function(){at.apply(this,arguments)},gt)},count:function(N){var at=0;return rt(N,function(){at++}),at},toArray:function(N){return rt(N,function(at){return at})||[]},only:function(N){if(!D(N))throw Error("React.Children.only expected to receive a single React element child.");return N}},Kt.Component=Z,Kt.Fragment=n,Kt.Profiler=l,Kt.PureComponent=ut,Kt.StrictMode=a,Kt.Suspense=g,Kt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Tt,Kt.__COMPILER_RUNTIME={__proto__:null,c:function(N){return Tt.H.useMemoCache(N)}},Kt.cache=function(N){return function(){return N.apply(null,arguments)}},Kt.cloneElement=function(N,at,gt){if(N==null)throw Error("The argument must be a React element, but you passed "+N+".");var _t=q({},N.props),wt=N.key,It=void 0;if(at!=null)for(vt in at.ref!==void 0&&(It=void 0),at.key!==void 0&&(wt=""+at.key),at)!kt.call(at,vt)||vt==="key"||vt==="__self"||vt==="__source"||vt==="ref"&&at.ref===void 0||(_t[vt]=at[vt]);var vt=arguments.length-2;if(vt===1)_t.children=gt;else if(1<vt){for(var Ee=Array(vt),Wt=0;Wt<vt;Wt++)Ee[Wt]=arguments[Wt+2];_t.children=Ee}return z(N.type,wt,void 0,void 0,It,_t)},Kt.createContext=function(N){return N={$$typeof:f,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null},N.Provider=N,N.Consumer={$$typeof:u,_context:N},N},Kt.createElement=function(N,at,gt){var _t,wt={},It=null;if(at!=null)for(_t in at.key!==void 0&&(It=""+at.key),at)kt.call(at,_t)&&_t!=="key"&&_t!=="__self"&&_t!=="__source"&&(wt[_t]=at[_t]);var vt=arguments.length-2;if(vt===1)wt.children=gt;else if(1<vt){for(var Ee=Array(vt),Wt=0;Wt<vt;Wt++)Ee[Wt]=arguments[Wt+2];wt.children=Ee}if(N&&N.defaultProps)for(_t in vt=N.defaultProps,vt)wt[_t]===void 0&&(wt[_t]=vt[_t]);return z(N,It,void 0,void 0,null,wt)},Kt.createRef=function(){return{current:null}},Kt.forwardRef=function(N){return{$$typeof:_,render:N}},Kt.isValidElement=D,Kt.lazy=function(N){return{$$typeof:w,_payload:{_status:-1,_result:N},_init:Et}},Kt.memo=function(N,at){return{$$typeof:v,type:N,compare:at===void 0?null:at}},Kt.startTransition=function(N){var at=Tt.T,gt={};Tt.T=gt;try{var _t=N(),wt=Tt.S;wt!==null&&wt(gt,_t),typeof _t=="object"&&_t!==null&&typeof _t.then=="function"&&_t.then(re,pt)}catch(It){pt(It)}finally{Tt.T=at}},Kt.unstable_useCacheRefresh=function(){return Tt.H.useCacheRefresh()},Kt.use=function(N){return Tt.H.use(N)},Kt.useActionState=function(N,at,gt){return Tt.H.useActionState(N,at,gt)},Kt.useCallback=function(N,at){return Tt.H.useCallback(N,at)},Kt.useContext=function(N){return Tt.H.useContext(N)},Kt.useDebugValue=function(){},Kt.useDeferredValue=function(N,at){return Tt.H.useDeferredValue(N,at)},Kt.useEffect=function(N,at,gt){var _t=Tt.H;if(typeof gt=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return _t.useEffect(N,at)},Kt.useId=function(){return Tt.H.useId()},Kt.useImperativeHandle=function(N,at,gt){return Tt.H.useImperativeHandle(N,at,gt)},Kt.useInsertionEffect=function(N,at){return Tt.H.useInsertionEffect(N,at)},Kt.useLayoutEffect=function(N,at){return Tt.H.useLayoutEffect(N,at)},Kt.useMemo=function(N,at){return Tt.H.useMemo(N,at)},Kt.useOptimistic=function(N,at){return Tt.H.useOptimistic(N,at)},Kt.useReducer=function(N,at,gt){return Tt.H.useReducer(N,at,gt)},Kt.useRef=function(N){return Tt.H.useRef(N)},Kt.useState=function(N){return Tt.H.useState(N)},Kt.useSyncExternalStore=function(N,at,gt){return Tt.H.useSyncExternalStore(N,at,gt)},Kt.useTransition=function(){return Tt.H.useTransition()},Kt.version="19.1.1",Kt}var Pv;function Np(){return Pv||(Pv=1,km.exports=jS()),km.exports}var X=Np();const mf=Op(X);var Vm={exports:{}},tc={},Um={exports:{}},zm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mv;function qS(){return Mv||(Mv=1,(function(r){function t(rt,Et){var pt=rt.length;rt.push(Et);t:for(;0<pt;){var re=pt-1>>>1,N=rt[re];if(0<l(N,Et))rt[re]=Et,rt[pt]=N,pt=re;else break t}}function n(rt){return rt.length===0?null:rt[0]}function a(rt){if(rt.length===0)return null;var Et=rt[0],pt=rt.pop();if(pt!==Et){rt[0]=pt;t:for(var re=0,N=rt.length,at=N>>>1;re<at;){var gt=2*(re+1)-1,_t=rt[gt],wt=gt+1,It=rt[wt];if(0>l(_t,pt))wt<N&&0>l(It,_t)?(rt[re]=It,rt[wt]=pt,re=wt):(rt[re]=_t,rt[gt]=pt,re=gt);else if(wt<N&&0>l(It,pt))rt[re]=It,rt[wt]=pt,re=wt;else break t}}return Et}function l(rt,Et){var pt=rt.sortIndex-Et.sortIndex;return pt!==0?pt:rt.id-Et.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var f=Date,_=f.now();r.unstable_now=function(){return f.now()-_}}var g=[],v=[],w=1,S=null,I=3,M=!1,q=!1,F=!1,Z=!1,it=typeof setTimeout=="function"?setTimeout:null,ut=typeof clearTimeout=="function"?clearTimeout:null,st=typeof setImmediate<"u"?setImmediate:null;function St(rt){for(var Et=n(v);Et!==null;){if(Et.callback===null)a(v);else if(Et.startTime<=rt)a(v),Et.sortIndex=Et.expirationTime,t(g,Et);else break;Et=n(v)}}function Tt(rt){if(F=!1,St(rt),!q)if(n(g)!==null)q=!0,kt||(kt=!0,G());else{var Et=n(v);Et!==null&&be(Tt,Et.startTime-rt)}}var kt=!1,z=-1,O=5,D=-1;function j(){return Z?!0:!(r.unstable_now()-D<O)}function B(){if(Z=!1,kt){var rt=r.unstable_now();D=rt;var Et=!0;try{t:{q=!1,F&&(F=!1,ut(z),z=-1),M=!0;var pt=I;try{e:{for(St(rt),S=n(g);S!==null&&!(S.expirationTime>rt&&j());){var re=S.callback;if(typeof re=="function"){S.callback=null,I=S.priorityLevel;var N=re(S.expirationTime<=rt);if(rt=r.unstable_now(),typeof N=="function"){S.callback=N,St(rt),Et=!0;break e}S===n(g)&&a(g),St(rt)}else a(g);S=n(g)}if(S!==null)Et=!0;else{var at=n(v);at!==null&&be(Tt,at.startTime-rt),Et=!1}}break t}finally{S=null,I=pt,M=!1}Et=void 0}}finally{Et?G():kt=!1}}}var G;if(typeof st=="function")G=function(){st(B)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,ce=U.port2;U.port1.onmessage=B,G=function(){ce.postMessage(null)}}else G=function(){it(B,0)};function be(rt,Et){z=it(function(){rt(r.unstable_now())},Et)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(rt){rt.callback=null},r.unstable_forceFrameRate=function(rt){0>rt||125<rt?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<rt?Math.floor(1e3/rt):5},r.unstable_getCurrentPriorityLevel=function(){return I},r.unstable_next=function(rt){switch(I){case 1:case 2:case 3:var Et=3;break;default:Et=I}var pt=I;I=Et;try{return rt()}finally{I=pt}},r.unstable_requestPaint=function(){Z=!0},r.unstable_runWithPriority=function(rt,Et){switch(rt){case 1:case 2:case 3:case 4:case 5:break;default:rt=3}var pt=I;I=rt;try{return Et()}finally{I=pt}},r.unstable_scheduleCallback=function(rt,Et,pt){var re=r.unstable_now();switch(typeof pt=="object"&&pt!==null?(pt=pt.delay,pt=typeof pt=="number"&&0<pt?re+pt:re):pt=re,rt){case 1:var N=-1;break;case 2:N=250;break;case 5:N=1073741823;break;case 4:N=1e4;break;default:N=5e3}return N=pt+N,rt={id:w++,callback:Et,priorityLevel:rt,startTime:pt,expirationTime:N,sortIndex:-1},pt>re?(rt.sortIndex=pt,t(v,rt),n(g)===null&&rt===n(v)&&(F?(ut(z),z=-1):F=!0,be(Tt,pt-re))):(rt.sortIndex=N,t(g,rt),q||M||(q=!0,kt||(kt=!0,G()))),rt},r.unstable_shouldYield=j,r.unstable_wrapCallback=function(rt){var Et=I;return function(){var pt=I;I=Et;try{return rt.apply(this,arguments)}finally{I=pt}}}})(zm)),zm}var Ov;function FS(){return Ov||(Ov=1,Um.exports=qS()),Um.exports}var Bm={exports:{}},On={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nv;function GS(){if(Nv)return On;Nv=1;var r=Np();function t(g){var v="https://react.dev/errors/"+g;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var w=2;w<arguments.length;w++)v+="&args[]="+encodeURIComponent(arguments[w])}return"Minified React error #"+g+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var a={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},l=Symbol.for("react.portal");function u(g,v,w){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:S==null?null:""+S,children:g,containerInfo:v,implementation:w}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function _(g,v){if(g==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return On.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,On.createPortal=function(g,v){var w=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(t(299));return u(g,v,null,w)},On.flushSync=function(g){var v=f.T,w=a.p;try{if(f.T=null,a.p=2,g)return g()}finally{f.T=v,a.p=w,a.d.f()}},On.preconnect=function(g,v){typeof g=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,a.d.C(g,v))},On.prefetchDNS=function(g){typeof g=="string"&&a.d.D(g)},On.preinit=function(g,v){if(typeof g=="string"&&v&&typeof v.as=="string"){var w=v.as,S=_(w,v.crossOrigin),I=typeof v.integrity=="string"?v.integrity:void 0,M=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;w==="style"?a.d.S(g,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:S,integrity:I,fetchPriority:M}):w==="script"&&a.d.X(g,{crossOrigin:S,integrity:I,fetchPriority:M,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},On.preinitModule=function(g,v){if(typeof g=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var w=_(v.as,v.crossOrigin);a.d.M(g,{crossOrigin:w,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&a.d.M(g)},On.preload=function(g,v){if(typeof g=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var w=v.as,S=_(w,v.crossOrigin);a.d.L(g,w,{crossOrigin:S,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},On.preloadModule=function(g,v){if(typeof g=="string")if(v){var w=_(v.as,v.crossOrigin);a.d.m(g,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:w,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else a.d.m(g)},On.requestFormReset=function(g){a.d.r(g)},On.unstable_batchedUpdates=function(g,v){return g(v)},On.useFormState=function(g,v,w){return f.H.useFormState(g,v,w)},On.useFormStatus=function(){return f.H.useHostTransitionStatus()},On.version="19.1.1",On}var Dv;function RE(){if(Dv)return Bm.exports;Dv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Bm.exports=GS(),Bm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kv;function ZS(){if(kv)return tc;kv=1;var r=FS(),t=Np(),n=RE();function a(e){var i="https://react.dev/errors/"+e;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)i+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+e+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var i=e,o=e;if(e.alternate)for(;i.return;)i=i.return;else{e=i;do i=e,(i.flags&4098)!==0&&(o=i.return),e=i.return;while(e)}return i.tag===3?o:null}function f(e){if(e.tag===13){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function _(e){if(u(e)!==e)throw Error(a(188))}function g(e){var i=e.alternate;if(!i){if(i=u(e),i===null)throw Error(a(188));return i!==e?null:e}for(var o=e,h=i;;){var p=o.return;if(p===null)break;var y=p.alternate;if(y===null){if(h=p.return,h!==null){o=h;continue}break}if(p.child===y.child){for(y=p.child;y;){if(y===o)return _(p),e;if(y===h)return _(p),i;y=y.sibling}throw Error(a(188))}if(o.return!==h.return)o=p,h=y;else{for(var C=!1,x=p.child;x;){if(x===o){C=!0,o=p,h=y;break}if(x===h){C=!0,h=p,o=y;break}x=x.sibling}if(!C){for(x=y.child;x;){if(x===o){C=!0,o=y,h=p;break}if(x===h){C=!0,h=y,o=p;break}x=x.sibling}if(!C)throw Error(a(189))}}if(o.alternate!==h)throw Error(a(190))}if(o.tag!==3)throw Error(a(188));return o.stateNode.current===o?e:i}function v(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e;for(e=e.child;e!==null;){if(i=v(e),i!==null)return i;e=e.sibling}return null}var w=Object.assign,S=Symbol.for("react.element"),I=Symbol.for("react.transitional.element"),M=Symbol.for("react.portal"),q=Symbol.for("react.fragment"),F=Symbol.for("react.strict_mode"),Z=Symbol.for("react.profiler"),it=Symbol.for("react.provider"),ut=Symbol.for("react.consumer"),st=Symbol.for("react.context"),St=Symbol.for("react.forward_ref"),Tt=Symbol.for("react.suspense"),kt=Symbol.for("react.suspense_list"),z=Symbol.for("react.memo"),O=Symbol.for("react.lazy"),D=Symbol.for("react.activity"),j=Symbol.for("react.memo_cache_sentinel"),B=Symbol.iterator;function G(e){return e===null||typeof e!="object"?null:(e=B&&e[B]||e["@@iterator"],typeof e=="function"?e:null)}var U=Symbol.for("react.client.reference");function ce(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===U?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case q:return"Fragment";case Z:return"Profiler";case F:return"StrictMode";case Tt:return"Suspense";case kt:return"SuspenseList";case D:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case M:return"Portal";case st:return(e.displayName||"Context")+".Provider";case ut:return(e._context.displayName||"Context")+".Consumer";case St:var i=e.render;return e=e.displayName,e||(e=i.displayName||i.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case z:return i=e.displayName||null,i!==null?i:ce(e.type)||"Memo";case O:i=e._payload,e=e._init;try{return ce(e(i))}catch{}}return null}var be=Array.isArray,rt=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Et=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,pt={pending:!1,data:null,method:null,action:null},re=[],N=-1;function at(e){return{current:e}}function gt(e){0>N||(e.current=re[N],re[N]=null,N--)}function _t(e,i){N++,re[N]=e.current,e.current=i}var wt=at(null),It=at(null),vt=at(null),Ee=at(null);function Wt(e,i){switch(_t(vt,i),_t(It,e),_t(wt,null),i.nodeType){case 9:case 11:e=(e=i.documentElement)&&(e=e.namespaceURI)?nv(e):0;break;default:if(e=i.tagName,i=i.namespaceURI)i=nv(i),e=iv(i,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}gt(wt),_t(wt,e)}function Jn(){gt(wt),gt(It),gt(vt)}function ns(e){e.memoizedState!==null&&_t(Ee,e);var i=wt.current,o=iv(i,e.type);i!==o&&(_t(It,e),_t(wt,o))}function Rr(e){It.current===e&&(gt(wt),gt(It)),Ee.current===e&&(gt(Ee),Yu._currentValue=pt)}var Oi=Object.prototype.hasOwnProperty,nr=r.unstable_scheduleCallback,Fs=r.unstable_cancelCallback,tl=r.unstable_shouldYield,Gs=r.unstable_requestPaint,ln=r.unstable_now,is=r.unstable_getCurrentPriorityLevel,qe=r.unstable_ImmediatePriority,Fe=r.unstable_UserBlockingPriority,mi=r.unstable_NormalPriority,el=r.unstable_LowPriority,Zs=r.unstable_IdlePriority,hu=r.log,rs=r.unstable_setDisableYieldValue,Ni=null,Je=null;function Un(e){if(typeof hu=="function"&&rs(e),Je&&typeof Je.setStrictMode=="function")try{Je.setStrictMode(Ni,e)}catch{}}var En=Math.clz32?Math.clz32:il,nl=Math.log,no=Math.LN2;function il(e){return e>>>=0,e===0?32:31-(nl(e)/no|0)|0}var pi=256,Di=4194304;function ti(e){var i=e&42;if(i!==0)return i;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ei(e,i,o){var h=e.pendingLanes;if(h===0)return 0;var p=0,y=e.suspendedLanes,C=e.pingedLanes;e=e.warmLanes;var x=h&134217727;return x!==0?(h=x&~y,h!==0?p=ti(h):(C&=x,C!==0?p=ti(C):o||(o=x&~e,o!==0&&(p=ti(o))))):(x=h&~y,x!==0?p=ti(x):C!==0?p=ti(C):o||(o=h&~e,o!==0&&(p=ti(o)))),p===0?0:i!==0&&i!==p&&(i&y)===0&&(y=p&-p,o=i&-i,y>=o||y===32&&(o&4194048)!==0)?i:p}function ni(e,i){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&i)===0}function Ks(e,i){switch(e){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function io(){var e=pi;return pi<<=1,(pi&4194048)===0&&(pi=256),e}function ir(){var e=Di;return Di<<=1,(Di&62914560)===0&&(Di=4194304),e}function ss(e){for(var i=[],o=0;31>o;o++)i.push(e);return i}function xe(e,i){e.pendingLanes|=i,i!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function rl(e,i,o,h,p,y){var C=e.pendingLanes;e.pendingLanes=o,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=o,e.entangledLanes&=o,e.errorRecoveryDisabledLanes&=o,e.shellSuspendCounter=0;var x=e.entanglements,V=e.expirationTimes,$=e.hiddenUpdates;for(o=C&~o;0<o;){var ot=31-En(o),ct=1<<ot;x[ot]=0,V[ot]=-1;var J=$[ot];if(J!==null)for($[ot]=null,ot=0;ot<J.length;ot++){var et=J[ot];et!==null&&(et.lane&=-536870913)}o&=~ct}h!==0&&Ir(e,h,0),y!==0&&p===0&&e.tag!==0&&(e.suspendedLanes|=y&~(C&~i))}function Ir(e,i,o){e.pendingLanes|=i,e.suspendedLanes&=~i;var h=31-En(i);e.entangledLanes|=i,e.entanglements[h]=e.entanglements[h]|1073741824|o&4194090}function Lr(e,i){var o=e.entangledLanes|=i;for(e=e.entanglements;o;){var h=31-En(o),p=1<<h;p&i|e[h]&i&&(e[h]|=i),o&=~p}}function ro(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function so(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function rr(){var e=Et.p;return e!==0?e:(e=window.event,e===void 0?32:wv(e.type))}function ao(e,i){var o=Et.p;try{return Et.p=e,i()}finally{Et.p=o}}var ki=Math.random().toString(36).slice(2),De="__reactFiber$"+ki,tn="__reactProps$"+ki,sr="__reactContainer$"+ki,un="__reactEvents$"+ki,xt="__reactListeners$"+ki,sl="__reactHandles$"+ki,ii="__reactResources$"+ki,ar="__reactMarker$"+ki;function as(e){delete e[De],delete e[tn],delete e[un],delete e[xt],delete e[sl]}function ri(e){var i=e[De];if(i)return i;for(var o=e.parentNode;o;){if(i=o[sr]||o[De]){if(o=i.alternate,i.child!==null||o!==null&&o.child!==null)for(e=ov(e);e!==null;){if(o=e[De])return o;e=ov(e)}return i}e=o,o=e.parentNode}return null}function _i(e){if(e=e[De]||e[sr]){var i=e.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return e}return null}function zn(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e.stateNode;throw Error(a(33))}function or(e){var i=e[ii];return i||(i=e[ii]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function ke(e){e[ar]=!0}var al=new Set,os={};function Vi(e,i){gi(e,i),gi(e+"Capture",i)}function gi(e,i){for(os[e]=i,e=0;e<i.length;e++)al.add(i[e])}var ls=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Bn={},Ys={};function fu(e){return Oi.call(Ys,e)?!0:Oi.call(Bn,e)?!1:ls.test(e)?Ys[e]=!0:(Bn[e]=!0,!1)}function us(e,i,o){if(fu(i))if(o===null)e.removeAttribute(i);else{switch(typeof o){case"undefined":case"function":case"symbol":e.removeAttribute(i);return;case"boolean":var h=i.toLowerCase().slice(0,5);if(h!=="data-"&&h!=="aria-"){e.removeAttribute(i);return}}e.setAttribute(i,""+o)}}function cs(e,i,o){if(o===null)e.removeAttribute(i);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttribute(i,""+o)}}function si(e,i,o,h){if(h===null)e.removeAttribute(o);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(o);return}e.setAttributeNS(i,o,""+h)}}var lr,Ui;function zi(e){if(lr===void 0)try{throw Error()}catch(o){var i=o.stack.trim().match(/\n( *(at )?)/);lr=i&&i[1]||"",Ui=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+lr+e+Ui}var hs=!1;function Bi(e,i){if(!e||hs)return"";hs=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var h={DetermineComponentFrameRoot:function(){try{if(i){var ct=function(){throw Error()};if(Object.defineProperty(ct.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ct,[])}catch(et){var J=et}Reflect.construct(e,[],ct)}else{try{ct.call()}catch(et){J=et}e.call(ct.prototype)}}else{try{throw Error()}catch(et){J=et}(ct=e())&&typeof ct.catch=="function"&&ct.catch(function(){})}}catch(et){if(et&&J&&typeof et.stack=="string")return[et.stack,J.stack]}return[null,null]}};h.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(h.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(h.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=h.DetermineComponentFrameRoot(),C=y[0],x=y[1];if(C&&x){var V=C.split(`
`),$=x.split(`
`);for(p=h=0;h<V.length&&!V[h].includes("DetermineComponentFrameRoot");)h++;for(;p<$.length&&!$[p].includes("DetermineComponentFrameRoot");)p++;if(h===V.length||p===$.length)for(h=V.length-1,p=$.length-1;1<=h&&0<=p&&V[h]!==$[p];)p--;for(;1<=h&&0<=p;h--,p--)if(V[h]!==$[p]){if(h!==1||p!==1)do if(h--,p--,0>p||V[h]!==$[p]){var ot=`
`+V[h].replace(" at new "," at ");return e.displayName&&ot.includes("<anonymous>")&&(ot=ot.replace("<anonymous>",e.displayName)),ot}while(1<=h&&0<=p);break}}}finally{hs=!1,Error.prepareStackTrace=o}return(o=e?e.displayName||e.name:"")?zi(o):""}function te(e){switch(e.tag){case 26:case 27:case 5:return zi(e.type);case 16:return zi("Lazy");case 13:return zi("Suspense");case 19:return zi("SuspenseList");case 0:case 15:return Bi(e.type,!1);case 11:return Bi(e.type.render,!1);case 1:return Bi(e.type,!0);case 31:return zi("Activity");default:return""}}function se(e){try{var i="";do i+=te(e),e=e.return;while(e);return i}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function ge(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Hn(e){var i=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function ai(e){var i=Hn(e)?"checked":"value",o=Object.getOwnPropertyDescriptor(e.constructor.prototype,i),h=""+e[i];if(!e.hasOwnProperty(i)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var p=o.get,y=o.set;return Object.defineProperty(e,i,{configurable:!0,get:function(){return p.call(this)},set:function(C){h=""+C,y.call(this,C)}}),Object.defineProperty(e,i,{enumerable:o.enumerable}),{getValue:function(){return h},setValue:function(C){h=""+C},stopTracking:function(){e._valueTracker=null,delete e[i]}}}}function Hi(e){e._valueTracker||(e._valueTracker=ai(e))}function At(e){if(!e)return!1;var i=e._valueTracker;if(!i)return!0;var o=i.getValue(),h="";return e&&(h=Hn(e)?e.checked?"true":"false":e.value),e=h,e!==o?(i.setValue(e),!0):!1}function de(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var ur=/[\n"\\]/g;function Ve(e){return e.replace(ur,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function cn(e,i,o,h,p,y,C,x){e.name="",C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?e.type=C:e.removeAttribute("type"),i!=null?C==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+ge(i)):e.value!==""+ge(i)&&(e.value=""+ge(i)):C!=="submit"&&C!=="reset"||e.removeAttribute("value"),i!=null?xr(e,C,ge(i)):o!=null?xr(e,C,ge(o)):h!=null&&e.removeAttribute("value"),p==null&&y!=null&&(e.defaultChecked=!!y),p!=null&&(e.checked=p&&typeof p!="function"&&typeof p!="symbol"),x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?e.name=""+ge(x):e.removeAttribute("name")}function oo(e,i,o,h,p,y,C,x){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(e.type=y),i!=null||o!=null){if(!(y!=="submit"&&y!=="reset"||i!=null))return;o=o!=null?""+ge(o):"",i=i!=null?""+ge(i):o,x||i===e.value||(e.value=i),e.defaultValue=i}h=h??p,h=typeof h!="function"&&typeof h!="symbol"&&!!h,e.checked=x?e.checked:!!h,e.defaultChecked=!!h,C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"&&(e.name=C)}function xr(e,i,o){i==="number"&&de(e.ownerDocument)===e||e.defaultValue===""+o||(e.defaultValue=""+o)}function Ln(e,i,o,h){if(e=e.options,i){i={};for(var p=0;p<o.length;p++)i["$"+o[p]]=!0;for(o=0;o<e.length;o++)p=i.hasOwnProperty("$"+e[o].value),e[o].selected!==p&&(e[o].selected=p),p&&h&&(e[o].defaultSelected=!0)}else{for(o=""+ge(o),i=null,p=0;p<e.length;p++){if(e[p].value===o){e[p].selected=!0,h&&(e[p].defaultSelected=!0);return}i!==null||e[p].disabled||(i=e[p])}i!==null&&(i.selected=!0)}}function Re(e,i,o){if(i!=null&&(i=""+ge(i),i!==e.value&&(e.value=i),o==null)){e.defaultValue!==i&&(e.defaultValue=i);return}e.defaultValue=o!=null?""+ge(o):""}function ji(e,i,o,h){if(i==null){if(h!=null){if(o!=null)throw Error(a(92));if(be(h)){if(1<h.length)throw Error(a(93));h=h[0]}o=h}o==null&&(o=""),i=o}o=ge(i),e.defaultValue=o,h=e.textContent,h===o&&h!==""&&h!==null&&(e.value=h)}function hn(e,i){if(i){var o=e.firstChild;if(o&&o===e.lastChild&&o.nodeType===3){o.nodeValue=i;return}}e.textContent=i}var jn=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function fs(e,i,o){var h=i.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?h?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="":h?e.setProperty(i,o):typeof o!="number"||o===0||jn.has(i)?i==="float"?e.cssFloat=o:e[i]=(""+o).trim():e[i]=o+"px"}function cr(e,i,o){if(i!=null&&typeof i!="object")throw Error(a(62));if(e=e.style,o!=null){for(var h in o)!o.hasOwnProperty(h)||i!=null&&i.hasOwnProperty(h)||(h.indexOf("--")===0?e.setProperty(h,""):h==="float"?e.cssFloat="":e[h]="");for(var p in i)h=i[p],i.hasOwnProperty(p)&&o[p]!==h&&fs(e,p,h)}else for(var y in i)i.hasOwnProperty(y)&&fs(e,y,i[y])}function Pr(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Qs=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ds=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function qn(e){return ds.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var ms=null;function Mr(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var hr=null,en=null;function ol(e){var i=_i(e);if(i&&(e=i.stateNode)){var o=e[tn]||null;t:switch(e=i.stateNode,i.type){case"input":if(cn(e,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),i=o.name,o.type==="radio"&&i!=null){for(o=e;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+Ve(""+i)+'"][type="radio"]'),i=0;i<o.length;i++){var h=o[i];if(h!==e&&h.form===e.form){var p=h[tn]||null;if(!p)throw Error(a(90));cn(h,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(i=0;i<o.length;i++)h=o[i],h.form===e.form&&At(h)}break t;case"textarea":Re(e,o.value,o.defaultValue);break t;case"select":i=o.value,i!=null&&Ln(e,!!o.multiple,i,!1)}}}var Vt=!1;function fn(e,i,o){if(Vt)return e(i,o);Vt=!0;try{var h=e(i);return h}finally{if(Vt=!1,(hr!==null||en!==null)&&(Ch(),hr&&(i=hr,e=en,en=hr=null,ol(i),e)))for(i=0;i<e.length;i++)ol(e[i])}}function ae(e,i){var o=e.stateNode;if(o===null)return null;var h=o[tn]||null;if(h===null)return null;o=h[i];t:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(e=e.type,h=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!h;break t;default:e=!1}if(e)return null;if(o&&typeof o!="function")throw Error(a(231,i,typeof o));return o}var dn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),yi=!1;if(dn)try{var qi={};Object.defineProperty(qi,"passive",{get:function(){yi=!0}}),window.addEventListener("test",qi,qi),window.removeEventListener("test",qi,qi)}catch{yi=!1}var xn=null,oe=null,Or=null;function Nr(){if(Or)return Or;var e,i=oe,o=i.length,h,p="value"in xn?xn.value:xn.textContent,y=p.length;for(e=0;e<o&&i[e]===p[e];e++);var C=o-e;for(h=1;h<=C&&i[o-h]===p[y-h];h++);return Or=p.slice(e,1<h?1-h:void 0)}function Ie(e){var i=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&i===13&&(e=13)):e=i,e===10&&(e=13),32<=e||e===13?e:0}function Fn(){return!0}function Xs(){return!1}function He(e){function i(o,h,p,y,C){this._reactName=o,this._targetInst=p,this.type=h,this.nativeEvent=y,this.target=C,this.currentTarget=null;for(var x in e)e.hasOwnProperty(x)&&(o=e[x],this[x]=o?o(y):y[x]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?Fn:Xs,this.isPropagationStopped=Xs,this}return w(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Fn)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Fn)},persist:function(){},isPersistent:Fn}),i}var mn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Dr=He(mn),fr=w({},mn,{view:0,detail:0}),ps=He(fr),_s,Zt,Fi,nn=w({},fr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:gs,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Fi&&(Fi&&e.type==="mousemove"?(_s=e.screenX-Fi.screenX,Zt=e.screenY-Fi.screenY):Zt=_s=0,Fi=e),_s)},movementY:function(e){return"movementY"in e?e.movementY:Zt}}),vi=He(nn),ll=w({},nn,{dataTransfer:0}),ul=He(ll),dr=w({},fr,{relatedTarget:0}),Ws=He(dr),lo=w({},mn,{animationName:0,elapsedTime:0,pseudoElement:0}),uo=He(lo),co=w({},mn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),$s=He(co),Js=w({},mn,{data:0}),Pn=He(Js),cl={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Gi={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ti={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ho(e){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(e):(e=Ti[e])?!!i[e]:!1}function gs(){return ho}var ta=w({},fr,{key:function(e){if(e.key){var i=cl[e.key]||e.key;if(i!=="Unidentified")return i}return e.type==="keypress"?(e=Ie(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Gi[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:gs,charCode:function(e){return e.type==="keypress"?Ie(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ie(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),ea=He(ta),pn=w({},nn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),na=He(pn),hl=w({},fr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:gs}),kr=He(hl),d=w({},mn,{propertyName:0,elapsedTime:0,pseudoElement:0}),E=He(d),A=w({},nn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),P=He(A),Q=w({},mn,{newState:0,oldState:0}),tt=He(Q),yt=[9,13,27,32],Ut=dn&&"CompositionEvent"in window,Qt=null;dn&&"documentMode"in document&&(Qt=document.documentMode);var he=dn&&"TextEvent"in window&&!Qt,Pe=dn&&(!Ut||Qt&&8<Qt&&11>=Qt),Gn=" ",oi=!1;function Zn(e,i){switch(e){case"keyup":return yt.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ei(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var wi=!1;function ia(e,i){switch(e){case"compositionend":return Ei(i);case"keypress":return i.which!==32?null:(oi=!0,Gn);case"textInput":return e=i.data,e===Gn&&oi?null:e;default:return null}}function rd(e,i){if(wi)return e==="compositionend"||!Ut&&Zn(e,i)?(e=Nr(),Or=oe=xn=null,wi=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Pe&&i.locale!=="ko"?null:i.data;default:return null}}var bi={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ys(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i==="input"?!!bi[e.type]:i==="textarea"}function Fc(e,i,o,h){hr?en?en.push(h):en=[h]:hr=h,i=Mh(i,"onChange"),0<i.length&&(o=new Dr("onChange","change",null,o,h),e.push({event:o,listeners:i}))}var Kn=null,fo=null;function ra(e){Wy(e,0)}function fl(e){var i=zn(e);if(At(i))return e}function sa(e,i){if(e==="change")return i}var du=!1;if(dn){var aa;if(dn){var mu="oninput"in document;if(!mu){var mr=document.createElement("div");mr.setAttribute("oninput","return;"),mu=typeof mr.oninput=="function"}aa=mu}else aa=!1;du=aa&&(!document.documentMode||9<document.documentMode)}function mo(){Kn&&(Kn.detachEvent("onpropertychange",Gc),fo=Kn=null)}function Gc(e){if(e.propertyName==="value"&&fl(fo)){var i=[];Fc(i,fo,e,Mr(e)),fn(ra,i)}}function pu(e,i,o){e==="focusin"?(mo(),Kn=i,fo=o,Kn.attachEvent("onpropertychange",Gc)):e==="focusout"&&mo()}function sd(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return fl(fo)}function pr(e,i){if(e==="click")return fl(i)}function ad(e,i){if(e==="input"||e==="change")return fl(i)}function oa(e,i){return e===i&&(e!==0||1/e===1/i)||e!==e&&i!==i}var Yn=typeof Object.is=="function"?Object.is:oa;function Qn(e,i){if(Yn(e,i))return!0;if(typeof e!="object"||e===null||typeof i!="object"||i===null)return!1;var o=Object.keys(e),h=Object.keys(i);if(o.length!==h.length)return!1;for(h=0;h<o.length;h++){var p=o[h];if(!Oi.call(i,p)||!Yn(e[p],i[p]))return!1}return!0}function po(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function _u(e,i){var o=po(e);e=0;for(var h;o;){if(o.nodeType===3){if(h=e+o.textContent.length,e<=i&&h>=i)return{node:o,offset:i-e};e=h}t:{for(;o;){if(o.nextSibling){o=o.nextSibling;break t}o=o.parentNode}o=void 0}o=po(o)}}function dl(e,i){return e&&i?e===i?!0:e&&e.nodeType===3?!1:i&&i.nodeType===3?dl(e,i.parentNode):"contains"in e?e.contains(i):e.compareDocumentPosition?!!(e.compareDocumentPosition(i)&16):!1:!1}function _o(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var i=de(e.document);i instanceof e.HTMLIFrameElement;){try{var o=typeof i.contentWindow.location.href=="string"}catch{o=!1}if(o)e=i.contentWindow;else break;i=de(e.document)}return i}function go(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i&&(i==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||i==="textarea"||e.contentEditable==="true")}var ml=dn&&"documentMode"in document&&11>=document.documentMode,Si=null,la=null,vs=null,pl=!1;function Zc(e,i,o){var h=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;pl||Si==null||Si!==de(h)||(h=Si,"selectionStart"in h&&go(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),vs&&Qn(vs,h)||(vs=h,h=Mh(la,"onSelect"),0<h.length&&(i=new Dr("onSelect","select",null,i,o),e.push({event:i,listeners:h}),i.target=Si)))}function Zi(e,i){var o={};return o[e.toLowerCase()]=i.toLowerCase(),o["Webkit"+e]="webkit"+i,o["Moz"+e]="moz"+i,o}var ua={animationend:Zi("Animation","AnimationEnd"),animationiteration:Zi("Animation","AnimationIteration"),animationstart:Zi("Animation","AnimationStart"),transitionrun:Zi("Transition","TransitionRun"),transitionstart:Zi("Transition","TransitionStart"),transitioncancel:Zi("Transition","TransitionCancel"),transitionend:Zi("Transition","TransitionEnd")},_l={},Kc={};dn&&(Kc=document.createElement("div").style,"AnimationEvent"in window||(delete ua.animationend.animation,delete ua.animationiteration.animation,delete ua.animationstart.animation),"TransitionEvent"in window||delete ua.transitionend.transition);function Vr(e){if(_l[e])return _l[e];if(!ua[e])return e;var i=ua[e],o;for(o in i)if(i.hasOwnProperty(o)&&o in Kc)return _l[e]=i[o];return e}var Yc=Vr("animationend"),Ai=Vr("animationiteration"),yo=Vr("animationstart"),od=Vr("transitionrun"),gl=Vr("transitionstart"),ld=Vr("transitioncancel"),gu=Vr("transitionend"),Qc=new Map,Ts="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ts.push("scrollEnd");function Ci(e,i){Qc.set(e,i),Vi(i,[e])}var Es=new WeakMap;function Xn(e,i){if(typeof e=="object"&&e!==null){var o=Es.get(e);return o!==void 0?o:(i={value:e,source:i,stack:se(i)},Es.set(e,i),i)}return{value:e,source:i,stack:se(i)}}var Wn=[],ca=0,Ri=0;function vo(){for(var e=ca,i=Ri=ca=0;i<e;){var o=Wn[i];Wn[i++]=null;var h=Wn[i];Wn[i++]=null;var p=Wn[i];Wn[i++]=null;var y=Wn[i];if(Wn[i++]=null,h!==null&&p!==null){var C=h.pending;C===null?p.next=p:(p.next=C.next,C.next=p),h.pending=p}y!==0&&Eo(o,p,y)}}function To(e,i,o,h){Wn[ca++]=e,Wn[ca++]=i,Wn[ca++]=o,Wn[ca++]=h,Ri|=h,e.lanes|=h,e=e.alternate,e!==null&&(e.lanes|=h)}function ws(e,i,o,h){return To(e,i,o,h),Ur(e)}function ha(e,i){return To(e,null,null,i),Ur(e)}function Eo(e,i,o){e.lanes|=o;var h=e.alternate;h!==null&&(h.lanes|=o);for(var p=!1,y=e.return;y!==null;)y.childLanes|=o,h=y.alternate,h!==null&&(h.childLanes|=o),y.tag===22&&(e=y.stateNode,e===null||e._visibility&1||(p=!0)),e=y,y=y.return;return e.tag===3?(y=e.stateNode,p&&i!==null&&(p=31-En(o),e=y.hiddenUpdates,h=e[p],h===null?e[p]=[i]:h.push(i),i.lane=o|536870912),y):null}function Ur(e){if(50<Bu)throw Bu=0,sm=null,Error(a(185));for(var i=e.return;i!==null;)e=i,i=e.return;return e.tag===3?e.stateNode:null}var bs={};function Xc(e,i,o,h){this.tag=e,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function $n(e,i,o,h){return new Xc(e,i,o,h)}function yl(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ki(e,i){var o=e.alternate;return o===null?(o=$n(e.tag,i,e.key,e.mode),o.elementType=e.elementType,o.type=e.type,o.stateNode=e.stateNode,o.alternate=e,e.alternate=o):(o.pendingProps=i,o.type=e.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=e.flags&65011712,o.childLanes=e.childLanes,o.lanes=e.lanes,o.child=e.child,o.memoizedProps=e.memoizedProps,o.memoizedState=e.memoizedState,o.updateQueue=e.updateQueue,i=e.dependencies,o.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},o.sibling=e.sibling,o.index=e.index,o.ref=e.ref,o.refCleanup=e.refCleanup,o}function yu(e,i){e.flags&=65011714;var o=e.alternate;return o===null?(e.childLanes=0,e.lanes=i,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=o.childLanes,e.lanes=o.lanes,e.child=o.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=o.memoizedProps,e.memoizedState=o.memoizedState,e.updateQueue=o.updateQueue,e.type=o.type,i=o.dependencies,e.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),e}function wo(e,i,o,h,p,y){var C=0;if(h=e,typeof e=="function")yl(e)&&(C=1);else if(typeof e=="string")C=RS(e,o,wt.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case D:return e=$n(31,o,i,p),e.elementType=D,e.lanes=y,e;case q:return zr(o.children,p,y,i);case F:C=8,p|=24;break;case Z:return e=$n(12,o,i,p|2),e.elementType=Z,e.lanes=y,e;case Tt:return e=$n(13,o,i,p),e.elementType=Tt,e.lanes=y,e;case kt:return e=$n(19,o,i,p),e.elementType=kt,e.lanes=y,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case it:case st:C=10;break t;case ut:C=9;break t;case St:C=11;break t;case z:C=14;break t;case O:C=16,h=null;break t}C=29,o=Error(a(130,e===null?"null":typeof e,"")),h=null}return i=$n(C,o,i,p),i.elementType=e,i.type=h,i.lanes=y,i}function zr(e,i,o,h){return e=$n(7,e,h,i),e.lanes=o,e}function vu(e,i,o){return e=$n(6,e,null,i),e.lanes=o,e}function vl(e,i,o){return i=$n(4,e.children!==null?e.children:[],e.key,i),i.lanes=o,i.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},i}var Ss=[],fa=0,s=null,c=0,m=[],T=0,b=null,R=1,k="";function Y(e,i){Ss[fa++]=c,Ss[fa++]=s,s=e,c=i}function nt(e,i,o){m[T++]=R,m[T++]=k,m[T++]=b,b=e;var h=R;e=k;var p=32-En(h)-1;h&=~(1<<p),o+=1;var y=32-En(i)+p;if(30<y){var C=p-p%5;y=(h&(1<<C)-1).toString(32),h>>=C,p-=C,R=1<<32-En(i)+p|o<<p|h,k=y+e}else R=1<<y|o<<p|h,k=e}function mt(e){e.return!==null&&(Y(e,1),nt(e,1,0))}function bt(e){for(;e===s;)s=Ss[--fa],Ss[fa]=null,c=Ss[--fa],Ss[fa]=null;for(;e===b;)b=m[--T],m[T]=null,k=m[--T],m[T]=null,R=m[--T],m[T]=null}var Lt=null,Mt=null,qt=!1,Se=null,Ue=!1,_n=Error(a(519));function li(e){var i=Error(a(418,""));throw ma(Xn(i,e)),_n}function Wc(e){var i=e.stateNode,o=e.type,h=e.memoizedProps;switch(i[De]=e,i[tn]=h,o){case"dialog":Jt("cancel",i),Jt("close",i);break;case"iframe":case"object":case"embed":Jt("load",i);break;case"video":case"audio":for(o=0;o<ju.length;o++)Jt(ju[o],i);break;case"source":Jt("error",i);break;case"img":case"image":case"link":Jt("error",i),Jt("load",i);break;case"details":Jt("toggle",i);break;case"input":Jt("invalid",i),oo(i,h.value,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name,!0),Hi(i);break;case"select":Jt("invalid",i);break;case"textarea":Jt("invalid",i),ji(i,h.value,h.defaultValue,h.children),Hi(i)}o=h.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||i.textContent===""+o||h.suppressHydrationWarning===!0||ev(i.textContent,o)?(h.popover!=null&&(Jt("beforetoggle",i),Jt("toggle",i)),h.onScroll!=null&&Jt("scroll",i),h.onScrollEnd!=null&&Jt("scrollend",i),h.onClick!=null&&(i.onclick=Oh),i=!0):i=!1,i||li(e)}function $c(e){for(Lt=e.return;Lt;)switch(Lt.tag){case 5:case 13:Ue=!1;return;case 27:case 3:Ue=!0;return;default:Lt=Lt.return}}function bo(e){if(e!==Lt)return!1;if(!qt)return $c(e),qt=!0,!1;var i=e.tag,o;if((o=i!==3&&i!==27)&&((o=i===5)&&(o=e.type,o=!(o!=="form"&&o!=="button")||Em(e.type,e.memoizedProps)),o=!o),o&&Mt&&li(e),$c(e),i===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));t:{for(e=e.nextSibling,i=0;e;){if(e.nodeType===8)if(o=e.data,o==="/$"){if(i===0){Mt=vr(e.nextSibling);break t}i--}else o!=="$"&&o!=="$!"&&o!=="$?"||i++;e=e.nextSibling}Mt=null}}else i===27?(i=Mt,La(e.type)?(e=Am,Am=null,Mt=e):Mt=i):Mt=Lt?vr(e.stateNode.nextSibling):null;return!0}function da(){Mt=Lt=null,qt=!1}function Jc(){var e=Se;return e!==null&&(hi===null?hi=e:hi.push.apply(hi,e),Se=null),e}function ma(e){Se===null?Se=[e]:Se.push(e)}var Me=at(null),Yi=null,_r=null;function Br(e,i,o){_t(Me,i._currentValue),i._currentValue=o}function gr(e){e._currentValue=Me.current,gt(Me)}function So(e,i,o){for(;e!==null;){var h=e.alternate;if((e.childLanes&i)!==i?(e.childLanes|=i,h!==null&&(h.childLanes|=i)):h!==null&&(h.childLanes&i)!==i&&(h.childLanes|=i),e===o)break;e=e.return}}function Tl(e,i,o,h){var p=e.child;for(p!==null&&(p.return=e);p!==null;){var y=p.dependencies;if(y!==null){var C=p.child;y=y.firstContext;t:for(;y!==null;){var x=y;y=p;for(var V=0;V<i.length;V++)if(x.context===i[V]){y.lanes|=o,x=y.alternate,x!==null&&(x.lanes|=o),So(y.return,o,e),h||(C=null);break t}y=x.next}}else if(p.tag===18){if(C=p.return,C===null)throw Error(a(341));C.lanes|=o,y=C.alternate,y!==null&&(y.lanes|=o),So(C,o,e),C=null}else C=p.child;if(C!==null)C.return=p;else for(C=p;C!==null;){if(C===e){C=null;break}if(p=C.sibling,p!==null){p.return=C.return,C=p;break}C=C.return}p=C}}function Ao(e,i,o,h){e=null;for(var p=i,y=!1;p!==null;){if(!y){if((p.flags&524288)!==0)y=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var C=p.alternate;if(C===null)throw Error(a(387));if(C=C.memoizedProps,C!==null){var x=p.type;Yn(p.pendingProps.value,C.value)||(e!==null?e.push(x):e=[x])}}else if(p===Ee.current){if(C=p.alternate,C===null)throw Error(a(387));C.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(e!==null?e.push(Yu):e=[Yu])}p=p.return}e!==null&&Tl(i,e,o,h),i.flags|=262144}function th(e){for(e=e.firstContext;e!==null;){if(!Yn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Co(e){Yi=e,_r=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Mn(e){return H_(Yi,e)}function eh(e,i){return Yi===null&&Co(e),H_(e,i)}function H_(e,i){var o=i._currentValue;if(i={context:i,memoizedValue:o,next:null},_r===null){if(e===null)throw Error(a(308));_r=i,e.dependencies={lanes:0,firstContext:i},e.flags|=524288}else _r=_r.next=i;return o}var Cb=typeof AbortController<"u"?AbortController:function(){var e=[],i=this.signal={aborted:!1,addEventListener:function(o,h){e.push(h)}};this.abort=function(){i.aborted=!0,e.forEach(function(o){return o()})}},Rb=r.unstable_scheduleCallback,Ib=r.unstable_NormalPriority,rn={$$typeof:st,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ud(){return{controller:new Cb,data:new Map,refCount:0}}function Tu(e){e.refCount--,e.refCount===0&&Rb(Ib,function(){e.controller.abort()})}var Eu=null,cd=0,El=0,wl=null;function Lb(e,i){if(Eu===null){var o=Eu=[];cd=0,El=fm(),wl={status:"pending",value:void 0,then:function(h){o.push(h)}}}return cd++,i.then(j_,j_),i}function j_(){if(--cd===0&&Eu!==null){wl!==null&&(wl.status="fulfilled");var e=Eu;Eu=null,El=0,wl=null;for(var i=0;i<e.length;i++)(0,e[i])()}}function xb(e,i){var o=[],h={status:"pending",value:null,reason:null,then:function(p){o.push(p)}};return e.then(function(){h.status="fulfilled",h.value=i;for(var p=0;p<o.length;p++)(0,o[p])(i)},function(p){for(h.status="rejected",h.reason=p,p=0;p<o.length;p++)(0,o[p])(void 0)}),h}var q_=rt.S;rt.S=function(e,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&Lb(e,i),q_!==null&&q_(e,i)};var Ro=at(null);function hd(){var e=Ro.current;return e!==null?e:Ae.pooledCache}function nh(e,i){i===null?_t(Ro,Ro.current):_t(Ro,i.pool)}function F_(){var e=hd();return e===null?null:{parent:rn._currentValue,pool:e}}var wu=Error(a(460)),G_=Error(a(474)),ih=Error(a(542)),fd={then:function(){}};function Z_(e){return e=e.status,e==="fulfilled"||e==="rejected"}function rh(){}function K_(e,i,o){switch(o=e[o],o===void 0?e.push(i):o!==i&&(i.then(rh,rh),i=o),i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,Q_(e),e;default:if(typeof i.status=="string")i.then(rh,rh);else{if(e=Ae,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=i,e.status="pending",e.then(function(h){if(i.status==="pending"){var p=i;p.status="fulfilled",p.value=h}},function(h){if(i.status==="pending"){var p=i;p.status="rejected",p.reason=h}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,Q_(e),e}throw bu=i,wu}}var bu=null;function Y_(){if(bu===null)throw Error(a(459));var e=bu;return bu=null,e}function Q_(e){if(e===wu||e===ih)throw Error(a(483))}var pa=!1;function dd(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function md(e,i){e=e.updateQueue,i.updateQueue===e&&(i.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function _a(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ga(e,i,o){var h=e.updateQueue;if(h===null)return null;if(h=h.shared,(pe&2)!==0){var p=h.pending;return p===null?i.next=i:(i.next=p.next,p.next=i),h.pending=i,i=Ur(e),Eo(e,null,o),i}return To(e,h,i,o),Ur(e)}function Su(e,i,o){if(i=i.updateQueue,i!==null&&(i=i.shared,(o&4194048)!==0)){var h=i.lanes;h&=e.pendingLanes,o|=h,i.lanes=o,Lr(e,o)}}function pd(e,i){var o=e.updateQueue,h=e.alternate;if(h!==null&&(h=h.updateQueue,o===h)){var p=null,y=null;if(o=o.firstBaseUpdate,o!==null){do{var C={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};y===null?p=y=C:y=y.next=C,o=o.next}while(o!==null);y===null?p=y=i:y=y.next=i}else p=y=i;o={baseState:h.baseState,firstBaseUpdate:p,lastBaseUpdate:y,shared:h.shared,callbacks:h.callbacks},e.updateQueue=o;return}e=o.lastBaseUpdate,e===null?o.firstBaseUpdate=i:e.next=i,o.lastBaseUpdate=i}var _d=!1;function Au(){if(_d){var e=wl;if(e!==null)throw e}}function Cu(e,i,o,h){_d=!1;var p=e.updateQueue;pa=!1;var y=p.firstBaseUpdate,C=p.lastBaseUpdate,x=p.shared.pending;if(x!==null){p.shared.pending=null;var V=x,$=V.next;V.next=null,C===null?y=$:C.next=$,C=V;var ot=e.alternate;ot!==null&&(ot=ot.updateQueue,x=ot.lastBaseUpdate,x!==C&&(x===null?ot.firstBaseUpdate=$:x.next=$,ot.lastBaseUpdate=V))}if(y!==null){var ct=p.baseState;C=0,ot=$=V=null,x=y;do{var J=x.lane&-536870913,et=J!==x.lane;if(et?(le&J)===J:(h&J)===J){J!==0&&J===El&&(_d=!0),ot!==null&&(ot=ot.next={lane:0,tag:x.tag,payload:x.payload,callback:null,next:null});t:{var jt=e,Dt=x;J=i;var Te=o;switch(Dt.tag){case 1:if(jt=Dt.payload,typeof jt=="function"){ct=jt.call(Te,ct,J);break t}ct=jt;break t;case 3:jt.flags=jt.flags&-65537|128;case 0:if(jt=Dt.payload,J=typeof jt=="function"?jt.call(Te,ct,J):jt,J==null)break t;ct=w({},ct,J);break t;case 2:pa=!0}}J=x.callback,J!==null&&(e.flags|=64,et&&(e.flags|=8192),et=p.callbacks,et===null?p.callbacks=[J]:et.push(J))}else et={lane:J,tag:x.tag,payload:x.payload,callback:x.callback,next:null},ot===null?($=ot=et,V=ct):ot=ot.next=et,C|=J;if(x=x.next,x===null){if(x=p.shared.pending,x===null)break;et=x,x=et.next,et.next=null,p.lastBaseUpdate=et,p.shared.pending=null}}while(!0);ot===null&&(V=ct),p.baseState=V,p.firstBaseUpdate=$,p.lastBaseUpdate=ot,y===null&&(p.shared.lanes=0),Aa|=C,e.lanes=C,e.memoizedState=ct}}function X_(e,i){if(typeof e!="function")throw Error(a(191,e));e.call(i)}function W_(e,i){var o=e.callbacks;if(o!==null)for(e.callbacks=null,e=0;e<o.length;e++)X_(o[e],i)}var bl=at(null),sh=at(0);function $_(e,i){e=Ps,_t(sh,e),_t(bl,i),Ps=e|i.baseLanes}function gd(){_t(sh,Ps),_t(bl,bl.current)}function yd(){Ps=sh.current,gt(bl),gt(sh)}var ya=0,Yt=null,ye=null,Ye=null,ah=!1,Sl=!1,Io=!1,oh=0,Ru=0,Al=null,Pb=0;function Ge(){throw Error(a(321))}function vd(e,i){if(i===null)return!1;for(var o=0;o<i.length&&o<e.length;o++)if(!Yn(e[o],i[o]))return!1;return!0}function Td(e,i,o,h,p,y){return ya=y,Yt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,rt.H=e===null||e.memoizedState===null?Dg:kg,Io=!1,y=o(h,p),Io=!1,Sl&&(y=tg(i,o,h,p)),J_(e),y}function J_(e){rt.H=dh;var i=ye!==null&&ye.next!==null;if(ya=0,Ye=ye=Yt=null,ah=!1,Ru=0,Al=null,i)throw Error(a(300));e===null||gn||(e=e.dependencies,e!==null&&th(e)&&(gn=!0))}function tg(e,i,o,h){Yt=e;var p=0;do{if(Sl&&(Al=null),Ru=0,Sl=!1,25<=p)throw Error(a(301));if(p+=1,Ye=ye=null,e.updateQueue!=null){var y=e.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}rt.H=Ub,y=i(o,h)}while(Sl);return y}function Mb(){var e=rt.H,i=e.useState()[0];return i=typeof i.then=="function"?Iu(i):i,e=e.useState()[0],(ye!==null?ye.memoizedState:null)!==e&&(Yt.flags|=1024),i}function Ed(){var e=oh!==0;return oh=0,e}function wd(e,i,o){i.updateQueue=e.updateQueue,i.flags&=-2053,e.lanes&=~o}function bd(e){if(ah){for(e=e.memoizedState;e!==null;){var i=e.queue;i!==null&&(i.pending=null),e=e.next}ah=!1}ya=0,Ye=ye=Yt=null,Sl=!1,Ru=oh=0,Al=null}function ui(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ye===null?Yt.memoizedState=Ye=e:Ye=Ye.next=e,Ye}function Qe(){if(ye===null){var e=Yt.alternate;e=e!==null?e.memoizedState:null}else e=ye.next;var i=Ye===null?Yt.memoizedState:Ye.next;if(i!==null)Ye=i,ye=e;else{if(e===null)throw Yt.alternate===null?Error(a(467)):Error(a(310));ye=e,e={memoizedState:ye.memoizedState,baseState:ye.baseState,baseQueue:ye.baseQueue,queue:ye.queue,next:null},Ye===null?Yt.memoizedState=Ye=e:Ye=Ye.next=e}return Ye}function Sd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Iu(e){var i=Ru;return Ru+=1,Al===null&&(Al=[]),e=K_(Al,e,i),i=Yt,(Ye===null?i.memoizedState:Ye.next)===null&&(i=i.alternate,rt.H=i===null||i.memoizedState===null?Dg:kg),e}function lh(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Iu(e);if(e.$$typeof===st)return Mn(e)}throw Error(a(438,String(e)))}function Ad(e){var i=null,o=Yt.updateQueue;if(o!==null&&(i=o.memoCache),i==null){var h=Yt.alternate;h!==null&&(h=h.updateQueue,h!==null&&(h=h.memoCache,h!=null&&(i={data:h.data.map(function(p){return p.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),o===null&&(o=Sd(),Yt.updateQueue=o),o.memoCache=i,o=i.data[i.index],o===void 0)for(o=i.data[i.index]=Array(e),h=0;h<e;h++)o[h]=j;return i.index++,o}function As(e,i){return typeof i=="function"?i(e):i}function uh(e){var i=Qe();return Cd(i,ye,e)}function Cd(e,i,o){var h=e.queue;if(h===null)throw Error(a(311));h.lastRenderedReducer=o;var p=e.baseQueue,y=h.pending;if(y!==null){if(p!==null){var C=p.next;p.next=y.next,y.next=C}i.baseQueue=p=y,h.pending=null}if(y=e.baseState,p===null)e.memoizedState=y;else{i=p.next;var x=C=null,V=null,$=i,ot=!1;do{var ct=$.lane&-536870913;if(ct!==$.lane?(le&ct)===ct:(ya&ct)===ct){var J=$.revertLane;if(J===0)V!==null&&(V=V.next={lane:0,revertLane:0,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null}),ct===El&&(ot=!0);else if((ya&J)===J){$=$.next,J===El&&(ot=!0);continue}else ct={lane:0,revertLane:$.revertLane,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null},V===null?(x=V=ct,C=y):V=V.next=ct,Yt.lanes|=J,Aa|=J;ct=$.action,Io&&o(y,ct),y=$.hasEagerState?$.eagerState:o(y,ct)}else J={lane:ct,revertLane:$.revertLane,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null},V===null?(x=V=J,C=y):V=V.next=J,Yt.lanes|=ct,Aa|=ct;$=$.next}while($!==null&&$!==i);if(V===null?C=y:V.next=x,!Yn(y,e.memoizedState)&&(gn=!0,ot&&(o=wl,o!==null)))throw o;e.memoizedState=y,e.baseState=C,e.baseQueue=V,h.lastRenderedState=y}return p===null&&(h.lanes=0),[e.memoizedState,h.dispatch]}function Rd(e){var i=Qe(),o=i.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=e;var h=o.dispatch,p=o.pending,y=i.memoizedState;if(p!==null){o.pending=null;var C=p=p.next;do y=e(y,C.action),C=C.next;while(C!==p);Yn(y,i.memoizedState)||(gn=!0),i.memoizedState=y,i.baseQueue===null&&(i.baseState=y),o.lastRenderedState=y}return[y,h]}function eg(e,i,o){var h=Yt,p=Qe(),y=qt;if(y){if(o===void 0)throw Error(a(407));o=o()}else o=i();var C=!Yn((ye||p).memoizedState,o);C&&(p.memoizedState=o,gn=!0),p=p.queue;var x=rg.bind(null,h,p,e);if(Lu(2048,8,x,[e]),p.getSnapshot!==i||C||Ye!==null&&Ye.memoizedState.tag&1){if(h.flags|=2048,Cl(9,ch(),ig.bind(null,h,p,o,i),null),Ae===null)throw Error(a(349));y||(ya&124)!==0||ng(h,i,o)}return o}function ng(e,i,o){e.flags|=16384,e={getSnapshot:i,value:o},i=Yt.updateQueue,i===null?(i=Sd(),Yt.updateQueue=i,i.stores=[e]):(o=i.stores,o===null?i.stores=[e]:o.push(e))}function ig(e,i,o,h){i.value=o,i.getSnapshot=h,sg(i)&&ag(e)}function rg(e,i,o){return o(function(){sg(i)&&ag(e)})}function sg(e){var i=e.getSnapshot;e=e.value;try{var o=i();return!Yn(e,o)}catch{return!0}}function ag(e){var i=ha(e,2);i!==null&&Mi(i,e,2)}function Id(e){var i=ui();if(typeof e=="function"){var o=e;if(e=o(),Io){Un(!0);try{o()}finally{Un(!1)}}}return i.memoizedState=i.baseState=e,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:As,lastRenderedState:e},i}function og(e,i,o,h){return e.baseState=o,Cd(e,ye,typeof h=="function"?h:As)}function Ob(e,i,o,h,p){if(fh(e))throw Error(a(485));if(e=i.action,e!==null){var y={payload:p,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(C){y.listeners.push(C)}};rt.T!==null?o(!0):y.isTransition=!1,h(y),o=i.pending,o===null?(y.next=i.pending=y,lg(i,y)):(y.next=o.next,i.pending=o.next=y)}}function lg(e,i){var o=i.action,h=i.payload,p=e.state;if(i.isTransition){var y=rt.T,C={};rt.T=C;try{var x=o(p,h),V=rt.S;V!==null&&V(C,x),ug(e,i,x)}catch($){Ld(e,i,$)}finally{rt.T=y}}else try{y=o(p,h),ug(e,i,y)}catch($){Ld(e,i,$)}}function ug(e,i,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(h){cg(e,i,h)},function(h){return Ld(e,i,h)}):cg(e,i,o)}function cg(e,i,o){i.status="fulfilled",i.value=o,hg(i),e.state=o,i=e.pending,i!==null&&(o=i.next,o===i?e.pending=null:(o=o.next,i.next=o,lg(e,o)))}function Ld(e,i,o){var h=e.pending;if(e.pending=null,h!==null){h=h.next;do i.status="rejected",i.reason=o,hg(i),i=i.next;while(i!==h)}e.action=null}function hg(e){e=e.listeners;for(var i=0;i<e.length;i++)(0,e[i])()}function fg(e,i){return i}function dg(e,i){if(qt){var o=Ae.formState;if(o!==null){t:{var h=Yt;if(qt){if(Mt){e:{for(var p=Mt,y=Ue;p.nodeType!==8;){if(!y){p=null;break e}if(p=vr(p.nextSibling),p===null){p=null;break e}}y=p.data,p=y==="F!"||y==="F"?p:null}if(p){Mt=vr(p.nextSibling),h=p.data==="F!";break t}}li(h)}h=!1}h&&(i=o[0])}}return o=ui(),o.memoizedState=o.baseState=i,h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:fg,lastRenderedState:i},o.queue=h,o=Mg.bind(null,Yt,h),h.dispatch=o,h=Id(!1),y=Nd.bind(null,Yt,!1,h.queue),h=ui(),p={state:i,dispatch:null,action:e,pending:null},h.queue=p,o=Ob.bind(null,Yt,p,y,o),p.dispatch=o,h.memoizedState=e,[i,o,!1]}function mg(e){var i=Qe();return pg(i,ye,e)}function pg(e,i,o){if(i=Cd(e,i,fg)[0],e=uh(As)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var h=Iu(i)}catch(C){throw C===wu?ih:C}else h=i;i=Qe();var p=i.queue,y=p.dispatch;return o!==i.memoizedState&&(Yt.flags|=2048,Cl(9,ch(),Nb.bind(null,p,o),null)),[h,y,e]}function Nb(e,i){e.action=i}function _g(e){var i=Qe(),o=ye;if(o!==null)return pg(i,o,e);Qe(),i=i.memoizedState,o=Qe();var h=o.queue.dispatch;return o.memoizedState=e,[i,h,!1]}function Cl(e,i,o,h){return e={tag:e,create:o,deps:h,inst:i,next:null},i=Yt.updateQueue,i===null&&(i=Sd(),Yt.updateQueue=i),o=i.lastEffect,o===null?i.lastEffect=e.next=e:(h=o.next,o.next=e,e.next=h,i.lastEffect=e),e}function ch(){return{destroy:void 0,resource:void 0}}function gg(){return Qe().memoizedState}function hh(e,i,o,h){var p=ui();h=h===void 0?null:h,Yt.flags|=e,p.memoizedState=Cl(1|i,ch(),o,h)}function Lu(e,i,o,h){var p=Qe();h=h===void 0?null:h;var y=p.memoizedState.inst;ye!==null&&h!==null&&vd(h,ye.memoizedState.deps)?p.memoizedState=Cl(i,y,o,h):(Yt.flags|=e,p.memoizedState=Cl(1|i,y,o,h))}function yg(e,i){hh(8390656,8,e,i)}function vg(e,i){Lu(2048,8,e,i)}function Tg(e,i){return Lu(4,2,e,i)}function Eg(e,i){return Lu(4,4,e,i)}function wg(e,i){if(typeof i=="function"){e=e();var o=i(e);return function(){typeof o=="function"?o():i(null)}}if(i!=null)return e=e(),i.current=e,function(){i.current=null}}function bg(e,i,o){o=o!=null?o.concat([e]):null,Lu(4,4,wg.bind(null,i,e),o)}function xd(){}function Sg(e,i){var o=Qe();i=i===void 0?null:i;var h=o.memoizedState;return i!==null&&vd(i,h[1])?h[0]:(o.memoizedState=[e,i],e)}function Ag(e,i){var o=Qe();i=i===void 0?null:i;var h=o.memoizedState;if(i!==null&&vd(i,h[1]))return h[0];if(h=e(),Io){Un(!0);try{e()}finally{Un(!1)}}return o.memoizedState=[h,i],h}function Pd(e,i,o){return o===void 0||(ya&1073741824)!==0?e.memoizedState=i:(e.memoizedState=o,e=Iy(),Yt.lanes|=e,Aa|=e,o)}function Cg(e,i,o,h){return Yn(o,i)?o:bl.current!==null?(e=Pd(e,o,h),Yn(e,i)||(gn=!0),e):(ya&42)===0?(gn=!0,e.memoizedState=o):(e=Iy(),Yt.lanes|=e,Aa|=e,i)}function Rg(e,i,o,h,p){var y=Et.p;Et.p=y!==0&&8>y?y:8;var C=rt.T,x={};rt.T=x,Nd(e,!1,i,o);try{var V=p(),$=rt.S;if($!==null&&$(x,V),V!==null&&typeof V=="object"&&typeof V.then=="function"){var ot=xb(V,h);xu(e,i,ot,Pi(e))}else xu(e,i,h,Pi(e))}catch(ct){xu(e,i,{then:function(){},status:"rejected",reason:ct},Pi())}finally{Et.p=y,rt.T=C}}function Db(){}function Md(e,i,o,h){if(e.tag!==5)throw Error(a(476));var p=Ig(e).queue;Rg(e,p,i,pt,o===null?Db:function(){return Lg(e),o(h)})}function Ig(e){var i=e.memoizedState;if(i!==null)return i;i={memoizedState:pt,baseState:pt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:As,lastRenderedState:pt},next:null};var o={};return i.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:As,lastRenderedState:o},next:null},e.memoizedState=i,e=e.alternate,e!==null&&(e.memoizedState=i),i}function Lg(e){var i=Ig(e).next.queue;xu(e,i,{},Pi())}function Od(){return Mn(Yu)}function xg(){return Qe().memoizedState}function Pg(){return Qe().memoizedState}function kb(e){for(var i=e.return;i!==null;){switch(i.tag){case 24:case 3:var o=Pi();e=_a(o);var h=ga(i,e,o);h!==null&&(Mi(h,i,o),Su(h,i,o)),i={cache:ud()},e.payload=i;return}i=i.return}}function Vb(e,i,o){var h=Pi();o={lane:h,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},fh(e)?Og(i,o):(o=ws(e,i,o,h),o!==null&&(Mi(o,e,h),Ng(o,i,h)))}function Mg(e,i,o){var h=Pi();xu(e,i,o,h)}function xu(e,i,o,h){var p={lane:h,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(fh(e))Og(i,p);else{var y=e.alternate;if(e.lanes===0&&(y===null||y.lanes===0)&&(y=i.lastRenderedReducer,y!==null))try{var C=i.lastRenderedState,x=y(C,o);if(p.hasEagerState=!0,p.eagerState=x,Yn(x,C))return To(e,i,p,0),Ae===null&&vo(),!1}catch{}finally{}if(o=ws(e,i,p,h),o!==null)return Mi(o,e,h),Ng(o,i,h),!0}return!1}function Nd(e,i,o,h){if(h={lane:2,revertLane:fm(),action:h,hasEagerState:!1,eagerState:null,next:null},fh(e)){if(i)throw Error(a(479))}else i=ws(e,o,h,2),i!==null&&Mi(i,e,2)}function fh(e){var i=e.alternate;return e===Yt||i!==null&&i===Yt}function Og(e,i){Sl=ah=!0;var o=e.pending;o===null?i.next=i:(i.next=o.next,o.next=i),e.pending=i}function Ng(e,i,o){if((o&4194048)!==0){var h=i.lanes;h&=e.pendingLanes,o|=h,i.lanes=o,Lr(e,o)}}var dh={readContext:Mn,use:lh,useCallback:Ge,useContext:Ge,useEffect:Ge,useImperativeHandle:Ge,useLayoutEffect:Ge,useInsertionEffect:Ge,useMemo:Ge,useReducer:Ge,useRef:Ge,useState:Ge,useDebugValue:Ge,useDeferredValue:Ge,useTransition:Ge,useSyncExternalStore:Ge,useId:Ge,useHostTransitionStatus:Ge,useFormState:Ge,useActionState:Ge,useOptimistic:Ge,useMemoCache:Ge,useCacheRefresh:Ge},Dg={readContext:Mn,use:lh,useCallback:function(e,i){return ui().memoizedState=[e,i===void 0?null:i],e},useContext:Mn,useEffect:yg,useImperativeHandle:function(e,i,o){o=o!=null?o.concat([e]):null,hh(4194308,4,wg.bind(null,i,e),o)},useLayoutEffect:function(e,i){return hh(4194308,4,e,i)},useInsertionEffect:function(e,i){hh(4,2,e,i)},useMemo:function(e,i){var o=ui();i=i===void 0?null:i;var h=e();if(Io){Un(!0);try{e()}finally{Un(!1)}}return o.memoizedState=[h,i],h},useReducer:function(e,i,o){var h=ui();if(o!==void 0){var p=o(i);if(Io){Un(!0);try{o(i)}finally{Un(!1)}}}else p=i;return h.memoizedState=h.baseState=p,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:p},h.queue=e,e=e.dispatch=Vb.bind(null,Yt,e),[h.memoizedState,e]},useRef:function(e){var i=ui();return e={current:e},i.memoizedState=e},useState:function(e){e=Id(e);var i=e.queue,o=Mg.bind(null,Yt,i);return i.dispatch=o,[e.memoizedState,o]},useDebugValue:xd,useDeferredValue:function(e,i){var o=ui();return Pd(o,e,i)},useTransition:function(){var e=Id(!1);return e=Rg.bind(null,Yt,e.queue,!0,!1),ui().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,i,o){var h=Yt,p=ui();if(qt){if(o===void 0)throw Error(a(407));o=o()}else{if(o=i(),Ae===null)throw Error(a(349));(le&124)!==0||ng(h,i,o)}p.memoizedState=o;var y={value:o,getSnapshot:i};return p.queue=y,yg(rg.bind(null,h,y,e),[e]),h.flags|=2048,Cl(9,ch(),ig.bind(null,h,y,o,i),null),o},useId:function(){var e=ui(),i=Ae.identifierPrefix;if(qt){var o=k,h=R;o=(h&~(1<<32-En(h)-1)).toString(32)+o,i=""+i+"R"+o,o=oh++,0<o&&(i+="H"+o.toString(32)),i+=""}else o=Pb++,i=""+i+"r"+o.toString(32)+"";return e.memoizedState=i},useHostTransitionStatus:Od,useFormState:dg,useActionState:dg,useOptimistic:function(e){var i=ui();i.memoizedState=i.baseState=e;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=o,i=Nd.bind(null,Yt,!0,o),o.dispatch=i,[e,i]},useMemoCache:Ad,useCacheRefresh:function(){return ui().memoizedState=kb.bind(null,Yt)}},kg={readContext:Mn,use:lh,useCallback:Sg,useContext:Mn,useEffect:vg,useImperativeHandle:bg,useInsertionEffect:Tg,useLayoutEffect:Eg,useMemo:Ag,useReducer:uh,useRef:gg,useState:function(){return uh(As)},useDebugValue:xd,useDeferredValue:function(e,i){var o=Qe();return Cg(o,ye.memoizedState,e,i)},useTransition:function(){var e=uh(As)[0],i=Qe().memoizedState;return[typeof e=="boolean"?e:Iu(e),i]},useSyncExternalStore:eg,useId:xg,useHostTransitionStatus:Od,useFormState:mg,useActionState:mg,useOptimistic:function(e,i){var o=Qe();return og(o,ye,e,i)},useMemoCache:Ad,useCacheRefresh:Pg},Ub={readContext:Mn,use:lh,useCallback:Sg,useContext:Mn,useEffect:vg,useImperativeHandle:bg,useInsertionEffect:Tg,useLayoutEffect:Eg,useMemo:Ag,useReducer:Rd,useRef:gg,useState:function(){return Rd(As)},useDebugValue:xd,useDeferredValue:function(e,i){var o=Qe();return ye===null?Pd(o,e,i):Cg(o,ye.memoizedState,e,i)},useTransition:function(){var e=Rd(As)[0],i=Qe().memoizedState;return[typeof e=="boolean"?e:Iu(e),i]},useSyncExternalStore:eg,useId:xg,useHostTransitionStatus:Od,useFormState:_g,useActionState:_g,useOptimistic:function(e,i){var o=Qe();return ye!==null?og(o,ye,e,i):(o.baseState=e,[e,o.queue.dispatch])},useMemoCache:Ad,useCacheRefresh:Pg},Rl=null,Pu=0;function mh(e){var i=Pu;return Pu+=1,Rl===null&&(Rl=[]),K_(Rl,e,i)}function Mu(e,i){i=i.props.ref,e.ref=i!==void 0?i:null}function ph(e,i){throw i.$$typeof===S?Error(a(525)):(e=Object.prototype.toString.call(i),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":e)))}function Vg(e){var i=e._init;return i(e._payload)}function Ug(e){function i(K,H){if(e){var W=K.deletions;W===null?(K.deletions=[H],K.flags|=16):W.push(H)}}function o(K,H){if(!e)return null;for(;H!==null;)i(K,H),H=H.sibling;return null}function h(K){for(var H=new Map;K!==null;)K.key!==null?H.set(K.key,K):H.set(K.index,K),K=K.sibling;return H}function p(K,H){return K=Ki(K,H),K.index=0,K.sibling=null,K}function y(K,H,W){return K.index=W,e?(W=K.alternate,W!==null?(W=W.index,W<H?(K.flags|=67108866,H):W):(K.flags|=67108866,H)):(K.flags|=1048576,H)}function C(K){return e&&K.alternate===null&&(K.flags|=67108866),K}function x(K,H,W,lt){return H===null||H.tag!==6?(H=vu(W,K.mode,lt),H.return=K,H):(H=p(H,W),H.return=K,H)}function V(K,H,W,lt){var Pt=W.type;return Pt===q?ot(K,H,W.props.children,lt,W.key):H!==null&&(H.elementType===Pt||typeof Pt=="object"&&Pt!==null&&Pt.$$typeof===O&&Vg(Pt)===H.type)?(H=p(H,W.props),Mu(H,W),H.return=K,H):(H=wo(W.type,W.key,W.props,null,K.mode,lt),Mu(H,W),H.return=K,H)}function $(K,H,W,lt){return H===null||H.tag!==4||H.stateNode.containerInfo!==W.containerInfo||H.stateNode.implementation!==W.implementation?(H=vl(W,K.mode,lt),H.return=K,H):(H=p(H,W.children||[]),H.return=K,H)}function ot(K,H,W,lt,Pt){return H===null||H.tag!==7?(H=zr(W,K.mode,lt,Pt),H.return=K,H):(H=p(H,W),H.return=K,H)}function ct(K,H,W){if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return H=vu(""+H,K.mode,W),H.return=K,H;if(typeof H=="object"&&H!==null){switch(H.$$typeof){case I:return W=wo(H.type,H.key,H.props,null,K.mode,W),Mu(W,H),W.return=K,W;case M:return H=vl(H,K.mode,W),H.return=K,H;case O:var lt=H._init;return H=lt(H._payload),ct(K,H,W)}if(be(H)||G(H))return H=zr(H,K.mode,W,null),H.return=K,H;if(typeof H.then=="function")return ct(K,mh(H),W);if(H.$$typeof===st)return ct(K,eh(K,H),W);ph(K,H)}return null}function J(K,H,W,lt){var Pt=H!==null?H.key:null;if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return Pt!==null?null:x(K,H,""+W,lt);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case I:return W.key===Pt?V(K,H,W,lt):null;case M:return W.key===Pt?$(K,H,W,lt):null;case O:return Pt=W._init,W=Pt(W._payload),J(K,H,W,lt)}if(be(W)||G(W))return Pt!==null?null:ot(K,H,W,lt,null);if(typeof W.then=="function")return J(K,H,mh(W),lt);if(W.$$typeof===st)return J(K,H,eh(K,W),lt);ph(K,W)}return null}function et(K,H,W,lt,Pt){if(typeof lt=="string"&&lt!==""||typeof lt=="number"||typeof lt=="bigint")return K=K.get(W)||null,x(H,K,""+lt,Pt);if(typeof lt=="object"&&lt!==null){switch(lt.$$typeof){case I:return K=K.get(lt.key===null?W:lt.key)||null,V(H,K,lt,Pt);case M:return K=K.get(lt.key===null?W:lt.key)||null,$(H,K,lt,Pt);case O:var Xt=lt._init;return lt=Xt(lt._payload),et(K,H,W,lt,Pt)}if(be(lt)||G(lt))return K=K.get(W)||null,ot(H,K,lt,Pt,null);if(typeof lt.then=="function")return et(K,H,W,mh(lt),Pt);if(lt.$$typeof===st)return et(K,H,W,eh(H,lt),Pt);ph(H,lt)}return null}function jt(K,H,W,lt){for(var Pt=null,Xt=null,Ot=H,zt=H=0,vn=null;Ot!==null&&zt<W.length;zt++){Ot.index>zt?(vn=Ot,Ot=null):vn=Ot.sibling;var fe=J(K,Ot,W[zt],lt);if(fe===null){Ot===null&&(Ot=vn);break}e&&Ot&&fe.alternate===null&&i(K,Ot),H=y(fe,H,zt),Xt===null?Pt=fe:Xt.sibling=fe,Xt=fe,Ot=vn}if(zt===W.length)return o(K,Ot),qt&&Y(K,zt),Pt;if(Ot===null){for(;zt<W.length;zt++)Ot=ct(K,W[zt],lt),Ot!==null&&(H=y(Ot,H,zt),Xt===null?Pt=Ot:Xt.sibling=Ot,Xt=Ot);return qt&&Y(K,zt),Pt}for(Ot=h(Ot);zt<W.length;zt++)vn=et(Ot,K,zt,W[zt],lt),vn!==null&&(e&&vn.alternate!==null&&Ot.delete(vn.key===null?zt:vn.key),H=y(vn,H,zt),Xt===null?Pt=vn:Xt.sibling=vn,Xt=vn);return e&&Ot.forEach(function(Na){return i(K,Na)}),qt&&Y(K,zt),Pt}function Dt(K,H,W,lt){if(W==null)throw Error(a(151));for(var Pt=null,Xt=null,Ot=H,zt=H=0,vn=null,fe=W.next();Ot!==null&&!fe.done;zt++,fe=W.next()){Ot.index>zt?(vn=Ot,Ot=null):vn=Ot.sibling;var Na=J(K,Ot,fe.value,lt);if(Na===null){Ot===null&&(Ot=vn);break}e&&Ot&&Na.alternate===null&&i(K,Ot),H=y(Na,H,zt),Xt===null?Pt=Na:Xt.sibling=Na,Xt=Na,Ot=vn}if(fe.done)return o(K,Ot),qt&&Y(K,zt),Pt;if(Ot===null){for(;!fe.done;zt++,fe=W.next())fe=ct(K,fe.value,lt),fe!==null&&(H=y(fe,H,zt),Xt===null?Pt=fe:Xt.sibling=fe,Xt=fe);return qt&&Y(K,zt),Pt}for(Ot=h(Ot);!fe.done;zt++,fe=W.next())fe=et(Ot,K,zt,fe.value,lt),fe!==null&&(e&&fe.alternate!==null&&Ot.delete(fe.key===null?zt:fe.key),H=y(fe,H,zt),Xt===null?Pt=fe:Xt.sibling=fe,Xt=fe);return e&&Ot.forEach(function(zS){return i(K,zS)}),qt&&Y(K,zt),Pt}function Te(K,H,W,lt){if(typeof W=="object"&&W!==null&&W.type===q&&W.key===null&&(W=W.props.children),typeof W=="object"&&W!==null){switch(W.$$typeof){case I:t:{for(var Pt=W.key;H!==null;){if(H.key===Pt){if(Pt=W.type,Pt===q){if(H.tag===7){o(K,H.sibling),lt=p(H,W.props.children),lt.return=K,K=lt;break t}}else if(H.elementType===Pt||typeof Pt=="object"&&Pt!==null&&Pt.$$typeof===O&&Vg(Pt)===H.type){o(K,H.sibling),lt=p(H,W.props),Mu(lt,W),lt.return=K,K=lt;break t}o(K,H);break}else i(K,H);H=H.sibling}W.type===q?(lt=zr(W.props.children,K.mode,lt,W.key),lt.return=K,K=lt):(lt=wo(W.type,W.key,W.props,null,K.mode,lt),Mu(lt,W),lt.return=K,K=lt)}return C(K);case M:t:{for(Pt=W.key;H!==null;){if(H.key===Pt)if(H.tag===4&&H.stateNode.containerInfo===W.containerInfo&&H.stateNode.implementation===W.implementation){o(K,H.sibling),lt=p(H,W.children||[]),lt.return=K,K=lt;break t}else{o(K,H);break}else i(K,H);H=H.sibling}lt=vl(W,K.mode,lt),lt.return=K,K=lt}return C(K);case O:return Pt=W._init,W=Pt(W._payload),Te(K,H,W,lt)}if(be(W))return jt(K,H,W,lt);if(G(W)){if(Pt=G(W),typeof Pt!="function")throw Error(a(150));return W=Pt.call(W),Dt(K,H,W,lt)}if(typeof W.then=="function")return Te(K,H,mh(W),lt);if(W.$$typeof===st)return Te(K,H,eh(K,W),lt);ph(K,W)}return typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint"?(W=""+W,H!==null&&H.tag===6?(o(K,H.sibling),lt=p(H,W),lt.return=K,K=lt):(o(K,H),lt=vu(W,K.mode,lt),lt.return=K,K=lt),C(K)):o(K,H)}return function(K,H,W,lt){try{Pu=0;var Pt=Te(K,H,W,lt);return Rl=null,Pt}catch(Ot){if(Ot===wu||Ot===ih)throw Ot;var Xt=$n(29,Ot,null,K.mode);return Xt.lanes=lt,Xt.return=K,Xt}finally{}}}var Il=Ug(!0),zg=Ug(!1),Qi=at(null),Hr=null;function va(e){var i=e.alternate;_t(sn,sn.current&1),_t(Qi,e),Hr===null&&(i===null||bl.current!==null||i.memoizedState!==null)&&(Hr=e)}function Bg(e){if(e.tag===22){if(_t(sn,sn.current),_t(Qi,e),Hr===null){var i=e.alternate;i!==null&&i.memoizedState!==null&&(Hr=e)}}else Ta()}function Ta(){_t(sn,sn.current),_t(Qi,Qi.current)}function Cs(e){gt(Qi),Hr===e&&(Hr=null),gt(sn)}var sn=at(0);function _h(e){for(var i=e;i!==null;){if(i.tag===13){var o=i.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||Sm(o)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function Dd(e,i,o,h){i=e.memoizedState,o=o(h,i),o=o==null?i:w({},i,o),e.memoizedState=o,e.lanes===0&&(e.updateQueue.baseState=o)}var kd={enqueueSetState:function(e,i,o){e=e._reactInternals;var h=Pi(),p=_a(h);p.payload=i,o!=null&&(p.callback=o),i=ga(e,p,h),i!==null&&(Mi(i,e,h),Su(i,e,h))},enqueueReplaceState:function(e,i,o){e=e._reactInternals;var h=Pi(),p=_a(h);p.tag=1,p.payload=i,o!=null&&(p.callback=o),i=ga(e,p,h),i!==null&&(Mi(i,e,h),Su(i,e,h))},enqueueForceUpdate:function(e,i){e=e._reactInternals;var o=Pi(),h=_a(o);h.tag=2,i!=null&&(h.callback=i),i=ga(e,h,o),i!==null&&(Mi(i,e,o),Su(i,e,o))}};function Hg(e,i,o,h,p,y,C){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(h,y,C):i.prototype&&i.prototype.isPureReactComponent?!Qn(o,h)||!Qn(p,y):!0}function jg(e,i,o,h){e=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(o,h),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(o,h),i.state!==e&&kd.enqueueReplaceState(i,i.state,null)}function Lo(e,i){var o=i;if("ref"in i){o={};for(var h in i)h!=="ref"&&(o[h]=i[h])}if(e=e.defaultProps){o===i&&(o=w({},o));for(var p in e)o[p]===void 0&&(o[p]=e[p])}return o}var gh=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function qg(e){gh(e)}function Fg(e){console.error(e)}function Gg(e){gh(e)}function yh(e,i){try{var o=e.onUncaughtError;o(i.value,{componentStack:i.stack})}catch(h){setTimeout(function(){throw h})}}function Zg(e,i,o){try{var h=e.onCaughtError;h(o.value,{componentStack:o.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function Vd(e,i,o){return o=_a(o),o.tag=3,o.payload={element:null},o.callback=function(){yh(e,i)},o}function Kg(e){return e=_a(e),e.tag=3,e}function Yg(e,i,o,h){var p=o.type.getDerivedStateFromError;if(typeof p=="function"){var y=h.value;e.payload=function(){return p(y)},e.callback=function(){Zg(i,o,h)}}var C=o.stateNode;C!==null&&typeof C.componentDidCatch=="function"&&(e.callback=function(){Zg(i,o,h),typeof p!="function"&&(Ca===null?Ca=new Set([this]):Ca.add(this));var x=h.stack;this.componentDidCatch(h.value,{componentStack:x!==null?x:""})})}function zb(e,i,o,h,p){if(o.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){if(i=o.alternate,i!==null&&Ao(i,o,p,!0),o=Qi.current,o!==null){switch(o.tag){case 13:return Hr===null?om():o.alternate===null&&je===0&&(je=3),o.flags&=-257,o.flags|=65536,o.lanes=p,h===fd?o.flags|=16384:(i=o.updateQueue,i===null?o.updateQueue=new Set([h]):i.add(h),um(e,h,p)),!1;case 22:return o.flags|=65536,h===fd?o.flags|=16384:(i=o.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([h])},o.updateQueue=i):(o=i.retryQueue,o===null?i.retryQueue=new Set([h]):o.add(h)),um(e,h,p)),!1}throw Error(a(435,o.tag))}return um(e,h,p),om(),!1}if(qt)return i=Qi.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=p,h!==_n&&(e=Error(a(422),{cause:h}),ma(Xn(e,o)))):(h!==_n&&(i=Error(a(423),{cause:h}),ma(Xn(i,o))),e=e.current.alternate,e.flags|=65536,p&=-p,e.lanes|=p,h=Xn(h,o),p=Vd(e.stateNode,h,p),pd(e,p),je!==4&&(je=2)),!1;var y=Error(a(520),{cause:h});if(y=Xn(y,o),zu===null?zu=[y]:zu.push(y),je!==4&&(je=2),i===null)return!0;h=Xn(h,o),o=i;do{switch(o.tag){case 3:return o.flags|=65536,e=p&-p,o.lanes|=e,e=Vd(o.stateNode,h,e),pd(o,e),!1;case 1:if(i=o.type,y=o.stateNode,(o.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Ca===null||!Ca.has(y))))return o.flags|=65536,p&=-p,o.lanes|=p,p=Kg(p),Yg(p,e,o,h),pd(o,p),!1}o=o.return}while(o!==null);return!1}var Qg=Error(a(461)),gn=!1;function wn(e,i,o,h){i.child=e===null?zg(i,null,o,h):Il(i,e.child,o,h)}function Xg(e,i,o,h,p){o=o.render;var y=i.ref;if("ref"in h){var C={};for(var x in h)x!=="ref"&&(C[x]=h[x])}else C=h;return Co(i),h=Td(e,i,o,C,y,p),x=Ed(),e!==null&&!gn?(wd(e,i,p),Rs(e,i,p)):(qt&&x&&mt(i),i.flags|=1,wn(e,i,h,p),i.child)}function Wg(e,i,o,h,p){if(e===null){var y=o.type;return typeof y=="function"&&!yl(y)&&y.defaultProps===void 0&&o.compare===null?(i.tag=15,i.type=y,$g(e,i,y,h,p)):(e=wo(o.type,null,h,i,i.mode,p),e.ref=i.ref,e.return=i,i.child=e)}if(y=e.child,!Gd(e,p)){var C=y.memoizedProps;if(o=o.compare,o=o!==null?o:Qn,o(C,h)&&e.ref===i.ref)return Rs(e,i,p)}return i.flags|=1,e=Ki(y,h),e.ref=i.ref,e.return=i,i.child=e}function $g(e,i,o,h,p){if(e!==null){var y=e.memoizedProps;if(Qn(y,h)&&e.ref===i.ref)if(gn=!1,i.pendingProps=h=y,Gd(e,p))(e.flags&131072)!==0&&(gn=!0);else return i.lanes=e.lanes,Rs(e,i,p)}return Ud(e,i,o,h,p)}function Jg(e,i,o){var h=i.pendingProps,p=h.children,y=e!==null?e.memoizedState:null;if(h.mode==="hidden"){if((i.flags&128)!==0){if(h=y!==null?y.baseLanes|o:o,e!==null){for(p=i.child=e.child,y=0;p!==null;)y=y|p.lanes|p.childLanes,p=p.sibling;i.childLanes=y&~h}else i.childLanes=0,i.child=null;return ty(e,i,h,o)}if((o&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},e!==null&&nh(i,y!==null?y.cachePool:null),y!==null?$_(i,y):gd(),Bg(i);else return i.lanes=i.childLanes=536870912,ty(e,i,y!==null?y.baseLanes|o:o,o)}else y!==null?(nh(i,y.cachePool),$_(i,y),Ta(),i.memoizedState=null):(e!==null&&nh(i,null),gd(),Ta());return wn(e,i,p,o),i.child}function ty(e,i,o,h){var p=hd();return p=p===null?null:{parent:rn._currentValue,pool:p},i.memoizedState={baseLanes:o,cachePool:p},e!==null&&nh(i,null),gd(),Bg(i),e!==null&&Ao(e,i,h,!0),null}function vh(e,i){var o=i.ref;if(o===null)e!==null&&e.ref!==null&&(i.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(a(284));(e===null||e.ref!==o)&&(i.flags|=4194816)}}function Ud(e,i,o,h,p){return Co(i),o=Td(e,i,o,h,void 0,p),h=Ed(),e!==null&&!gn?(wd(e,i,p),Rs(e,i,p)):(qt&&h&&mt(i),i.flags|=1,wn(e,i,o,p),i.child)}function ey(e,i,o,h,p,y){return Co(i),i.updateQueue=null,o=tg(i,h,o,p),J_(e),h=Ed(),e!==null&&!gn?(wd(e,i,y),Rs(e,i,y)):(qt&&h&&mt(i),i.flags|=1,wn(e,i,o,y),i.child)}function ny(e,i,o,h,p){if(Co(i),i.stateNode===null){var y=bs,C=o.contextType;typeof C=="object"&&C!==null&&(y=Mn(C)),y=new o(h,y),i.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=kd,i.stateNode=y,y._reactInternals=i,y=i.stateNode,y.props=h,y.state=i.memoizedState,y.refs={},dd(i),C=o.contextType,y.context=typeof C=="object"&&C!==null?Mn(C):bs,y.state=i.memoizedState,C=o.getDerivedStateFromProps,typeof C=="function"&&(Dd(i,o,C,h),y.state=i.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(C=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),C!==y.state&&kd.enqueueReplaceState(y,y.state,null),Cu(i,h,y,p),Au(),y.state=i.memoizedState),typeof y.componentDidMount=="function"&&(i.flags|=4194308),h=!0}else if(e===null){y=i.stateNode;var x=i.memoizedProps,V=Lo(o,x);y.props=V;var $=y.context,ot=o.contextType;C=bs,typeof ot=="object"&&ot!==null&&(C=Mn(ot));var ct=o.getDerivedStateFromProps;ot=typeof ct=="function"||typeof y.getSnapshotBeforeUpdate=="function",x=i.pendingProps!==x,ot||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(x||$!==C)&&jg(i,y,h,C),pa=!1;var J=i.memoizedState;y.state=J,Cu(i,h,y,p),Au(),$=i.memoizedState,x||J!==$||pa?(typeof ct=="function"&&(Dd(i,o,ct,h),$=i.memoizedState),(V=pa||Hg(i,o,V,h,J,$,C))?(ot||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(i.flags|=4194308)):(typeof y.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=h,i.memoizedState=$),y.props=h,y.state=$,y.context=C,h=V):(typeof y.componentDidMount=="function"&&(i.flags|=4194308),h=!1)}else{y=i.stateNode,md(e,i),C=i.memoizedProps,ot=Lo(o,C),y.props=ot,ct=i.pendingProps,J=y.context,$=o.contextType,V=bs,typeof $=="object"&&$!==null&&(V=Mn($)),x=o.getDerivedStateFromProps,($=typeof x=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(C!==ct||J!==V)&&jg(i,y,h,V),pa=!1,J=i.memoizedState,y.state=J,Cu(i,h,y,p),Au();var et=i.memoizedState;C!==ct||J!==et||pa||e!==null&&e.dependencies!==null&&th(e.dependencies)?(typeof x=="function"&&(Dd(i,o,x,h),et=i.memoizedState),(ot=pa||Hg(i,o,ot,h,J,et,V)||e!==null&&e.dependencies!==null&&th(e.dependencies))?($||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(h,et,V),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(h,et,V)),typeof y.componentDidUpdate=="function"&&(i.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof y.componentDidUpdate!="function"||C===e.memoizedProps&&J===e.memoizedState||(i.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||C===e.memoizedProps&&J===e.memoizedState||(i.flags|=1024),i.memoizedProps=h,i.memoizedState=et),y.props=h,y.state=et,y.context=V,h=ot):(typeof y.componentDidUpdate!="function"||C===e.memoizedProps&&J===e.memoizedState||(i.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||C===e.memoizedProps&&J===e.memoizedState||(i.flags|=1024),h=!1)}return y=h,vh(e,i),h=(i.flags&128)!==0,y||h?(y=i.stateNode,o=h&&typeof o.getDerivedStateFromError!="function"?null:y.render(),i.flags|=1,e!==null&&h?(i.child=Il(i,e.child,null,p),i.child=Il(i,null,o,p)):wn(e,i,o,p),i.memoizedState=y.state,e=i.child):e=Rs(e,i,p),e}function iy(e,i,o,h){return da(),i.flags|=256,wn(e,i,o,h),i.child}var zd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Bd(e){return{baseLanes:e,cachePool:F_()}}function Hd(e,i,o){return e=e!==null?e.childLanes&~o:0,i&&(e|=Xi),e}function ry(e,i,o){var h=i.pendingProps,p=!1,y=(i.flags&128)!==0,C;if((C=y)||(C=e!==null&&e.memoizedState===null?!1:(sn.current&2)!==0),C&&(p=!0,i.flags&=-129),C=(i.flags&32)!==0,i.flags&=-33,e===null){if(qt){if(p?va(i):Ta(),qt){var x=Mt,V;if(V=x){t:{for(V=x,x=Ue;V.nodeType!==8;){if(!x){x=null;break t}if(V=vr(V.nextSibling),V===null){x=null;break t}}x=V}x!==null?(i.memoizedState={dehydrated:x,treeContext:b!==null?{id:R,overflow:k}:null,retryLane:536870912,hydrationErrors:null},V=$n(18,null,null,0),V.stateNode=x,V.return=i,i.child=V,Lt=i,Mt=null,V=!0):V=!1}V||li(i)}if(x=i.memoizedState,x!==null&&(x=x.dehydrated,x!==null))return Sm(x)?i.lanes=32:i.lanes=536870912,null;Cs(i)}return x=h.children,h=h.fallback,p?(Ta(),p=i.mode,x=Th({mode:"hidden",children:x},p),h=zr(h,p,o,null),x.return=i,h.return=i,x.sibling=h,i.child=x,p=i.child,p.memoizedState=Bd(o),p.childLanes=Hd(e,C,o),i.memoizedState=zd,h):(va(i),jd(i,x))}if(V=e.memoizedState,V!==null&&(x=V.dehydrated,x!==null)){if(y)i.flags&256?(va(i),i.flags&=-257,i=qd(e,i,o)):i.memoizedState!==null?(Ta(),i.child=e.child,i.flags|=128,i=null):(Ta(),p=h.fallback,x=i.mode,h=Th({mode:"visible",children:h.children},x),p=zr(p,x,o,null),p.flags|=2,h.return=i,p.return=i,h.sibling=p,i.child=h,Il(i,e.child,null,o),h=i.child,h.memoizedState=Bd(o),h.childLanes=Hd(e,C,o),i.memoizedState=zd,i=p);else if(va(i),Sm(x)){if(C=x.nextSibling&&x.nextSibling.dataset,C)var $=C.dgst;C=$,h=Error(a(419)),h.stack="",h.digest=C,ma({value:h,source:null,stack:null}),i=qd(e,i,o)}else if(gn||Ao(e,i,o,!1),C=(o&e.childLanes)!==0,gn||C){if(C=Ae,C!==null&&(h=o&-o,h=(h&42)!==0?1:ro(h),h=(h&(C.suspendedLanes|o))!==0?0:h,h!==0&&h!==V.retryLane))throw V.retryLane=h,ha(e,h),Mi(C,e,h),Qg;x.data==="$?"||om(),i=qd(e,i,o)}else x.data==="$?"?(i.flags|=192,i.child=e.child,i=null):(e=V.treeContext,Mt=vr(x.nextSibling),Lt=i,qt=!0,Se=null,Ue=!1,e!==null&&(m[T++]=R,m[T++]=k,m[T++]=b,R=e.id,k=e.overflow,b=i),i=jd(i,h.children),i.flags|=4096);return i}return p?(Ta(),p=h.fallback,x=i.mode,V=e.child,$=V.sibling,h=Ki(V,{mode:"hidden",children:h.children}),h.subtreeFlags=V.subtreeFlags&65011712,$!==null?p=Ki($,p):(p=zr(p,x,o,null),p.flags|=2),p.return=i,h.return=i,h.sibling=p,i.child=h,h=p,p=i.child,x=e.child.memoizedState,x===null?x=Bd(o):(V=x.cachePool,V!==null?($=rn._currentValue,V=V.parent!==$?{parent:$,pool:$}:V):V=F_(),x={baseLanes:x.baseLanes|o,cachePool:V}),p.memoizedState=x,p.childLanes=Hd(e,C,o),i.memoizedState=zd,h):(va(i),o=e.child,e=o.sibling,o=Ki(o,{mode:"visible",children:h.children}),o.return=i,o.sibling=null,e!==null&&(C=i.deletions,C===null?(i.deletions=[e],i.flags|=16):C.push(e)),i.child=o,i.memoizedState=null,o)}function jd(e,i){return i=Th({mode:"visible",children:i},e.mode),i.return=e,e.child=i}function Th(e,i){return e=$n(22,e,null,i),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function qd(e,i,o){return Il(i,e.child,null,o),e=jd(i,i.pendingProps.children),e.flags|=2,i.memoizedState=null,e}function sy(e,i,o){e.lanes|=i;var h=e.alternate;h!==null&&(h.lanes|=i),So(e.return,i,o)}function Fd(e,i,o,h,p){var y=e.memoizedState;y===null?e.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:h,tail:o,tailMode:p}:(y.isBackwards=i,y.rendering=null,y.renderingStartTime=0,y.last=h,y.tail=o,y.tailMode=p)}function ay(e,i,o){var h=i.pendingProps,p=h.revealOrder,y=h.tail;if(wn(e,i,h.children,o),h=sn.current,(h&2)!==0)h=h&1|2,i.flags|=128;else{if(e!==null&&(e.flags&128)!==0)t:for(e=i.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&sy(e,o,i);else if(e.tag===19)sy(e,o,i);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===i)break t;for(;e.sibling===null;){if(e.return===null||e.return===i)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}h&=1}switch(_t(sn,h),p){case"forwards":for(o=i.child,p=null;o!==null;)e=o.alternate,e!==null&&_h(e)===null&&(p=o),o=o.sibling;o=p,o===null?(p=i.child,i.child=null):(p=o.sibling,o.sibling=null),Fd(i,!1,p,o,y);break;case"backwards":for(o=null,p=i.child,i.child=null;p!==null;){if(e=p.alternate,e!==null&&_h(e)===null){i.child=p;break}e=p.sibling,p.sibling=o,o=p,p=e}Fd(i,!0,o,null,y);break;case"together":Fd(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Rs(e,i,o){if(e!==null&&(i.dependencies=e.dependencies),Aa|=i.lanes,(o&i.childLanes)===0)if(e!==null){if(Ao(e,i,o,!1),(o&i.childLanes)===0)return null}else return null;if(e!==null&&i.child!==e.child)throw Error(a(153));if(i.child!==null){for(e=i.child,o=Ki(e,e.pendingProps),i.child=o,o.return=i;e.sibling!==null;)e=e.sibling,o=o.sibling=Ki(e,e.pendingProps),o.return=i;o.sibling=null}return i.child}function Gd(e,i){return(e.lanes&i)!==0?!0:(e=e.dependencies,!!(e!==null&&th(e)))}function Bb(e,i,o){switch(i.tag){case 3:Wt(i,i.stateNode.containerInfo),Br(i,rn,e.memoizedState.cache),da();break;case 27:case 5:ns(i);break;case 4:Wt(i,i.stateNode.containerInfo);break;case 10:Br(i,i.type,i.memoizedProps.value);break;case 13:var h=i.memoizedState;if(h!==null)return h.dehydrated!==null?(va(i),i.flags|=128,null):(o&i.child.childLanes)!==0?ry(e,i,o):(va(i),e=Rs(e,i,o),e!==null?e.sibling:null);va(i);break;case 19:var p=(e.flags&128)!==0;if(h=(o&i.childLanes)!==0,h||(Ao(e,i,o,!1),h=(o&i.childLanes)!==0),p){if(h)return ay(e,i,o);i.flags|=128}if(p=i.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),_t(sn,sn.current),h)break;return null;case 22:case 23:return i.lanes=0,Jg(e,i,o);case 24:Br(i,rn,e.memoizedState.cache)}return Rs(e,i,o)}function oy(e,i,o){if(e!==null)if(e.memoizedProps!==i.pendingProps)gn=!0;else{if(!Gd(e,o)&&(i.flags&128)===0)return gn=!1,Bb(e,i,o);gn=(e.flags&131072)!==0}else gn=!1,qt&&(i.flags&1048576)!==0&&nt(i,c,i.index);switch(i.lanes=0,i.tag){case 16:t:{e=i.pendingProps;var h=i.elementType,p=h._init;if(h=p(h._payload),i.type=h,typeof h=="function")yl(h)?(e=Lo(h,e),i.tag=1,i=ny(null,i,h,e,o)):(i.tag=0,i=Ud(null,i,h,e,o));else{if(h!=null){if(p=h.$$typeof,p===St){i.tag=11,i=Xg(null,i,h,e,o);break t}else if(p===z){i.tag=14,i=Wg(null,i,h,e,o);break t}}throw i=ce(h)||h,Error(a(306,i,""))}}return i;case 0:return Ud(e,i,i.type,i.pendingProps,o);case 1:return h=i.type,p=Lo(h,i.pendingProps),ny(e,i,h,p,o);case 3:t:{if(Wt(i,i.stateNode.containerInfo),e===null)throw Error(a(387));h=i.pendingProps;var y=i.memoizedState;p=y.element,md(e,i),Cu(i,h,null,o);var C=i.memoizedState;if(h=C.cache,Br(i,rn,h),h!==y.cache&&Tl(i,[rn],o,!0),Au(),h=C.element,y.isDehydrated)if(y={element:h,isDehydrated:!1,cache:C.cache},i.updateQueue.baseState=y,i.memoizedState=y,i.flags&256){i=iy(e,i,h,o);break t}else if(h!==p){p=Xn(Error(a(424)),i),ma(p),i=iy(e,i,h,o);break t}else{switch(e=i.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Mt=vr(e.firstChild),Lt=i,qt=!0,Se=null,Ue=!0,o=zg(i,null,h,o),i.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(da(),h===p){i=Rs(e,i,o);break t}wn(e,i,h,o)}i=i.child}return i;case 26:return vh(e,i),e===null?(o=hv(i.type,null,i.pendingProps,null))?i.memoizedState=o:qt||(o=i.type,e=i.pendingProps,h=Nh(vt.current).createElement(o),h[De]=i,h[tn]=e,Sn(h,o,e),ke(h),i.stateNode=h):i.memoizedState=hv(i.type,e.memoizedProps,i.pendingProps,e.memoizedState),null;case 27:return ns(i),e===null&&qt&&(h=i.stateNode=lv(i.type,i.pendingProps,vt.current),Lt=i,Ue=!0,p=Mt,La(i.type)?(Am=p,Mt=vr(h.firstChild)):Mt=p),wn(e,i,i.pendingProps.children,o),vh(e,i),e===null&&(i.flags|=4194304),i.child;case 5:return e===null&&qt&&((p=h=Mt)&&(h=mS(h,i.type,i.pendingProps,Ue),h!==null?(i.stateNode=h,Lt=i,Mt=vr(h.firstChild),Ue=!1,p=!0):p=!1),p||li(i)),ns(i),p=i.type,y=i.pendingProps,C=e!==null?e.memoizedProps:null,h=y.children,Em(p,y)?h=null:C!==null&&Em(p,C)&&(i.flags|=32),i.memoizedState!==null&&(p=Td(e,i,Mb,null,null,o),Yu._currentValue=p),vh(e,i),wn(e,i,h,o),i.child;case 6:return e===null&&qt&&((e=o=Mt)&&(o=pS(o,i.pendingProps,Ue),o!==null?(i.stateNode=o,Lt=i,Mt=null,e=!0):e=!1),e||li(i)),null;case 13:return ry(e,i,o);case 4:return Wt(i,i.stateNode.containerInfo),h=i.pendingProps,e===null?i.child=Il(i,null,h,o):wn(e,i,h,o),i.child;case 11:return Xg(e,i,i.type,i.pendingProps,o);case 7:return wn(e,i,i.pendingProps,o),i.child;case 8:return wn(e,i,i.pendingProps.children,o),i.child;case 12:return wn(e,i,i.pendingProps.children,o),i.child;case 10:return h=i.pendingProps,Br(i,i.type,h.value),wn(e,i,h.children,o),i.child;case 9:return p=i.type._context,h=i.pendingProps.children,Co(i),p=Mn(p),h=h(p),i.flags|=1,wn(e,i,h,o),i.child;case 14:return Wg(e,i,i.type,i.pendingProps,o);case 15:return $g(e,i,i.type,i.pendingProps,o);case 19:return ay(e,i,o);case 31:return h=i.pendingProps,o=i.mode,h={mode:h.mode,children:h.children},e===null?(o=Th(h,o),o.ref=i.ref,i.child=o,o.return=i,i=o):(o=Ki(e.child,h),o.ref=i.ref,i.child=o,o.return=i,i=o),i;case 22:return Jg(e,i,o);case 24:return Co(i),h=Mn(rn),e===null?(p=hd(),p===null&&(p=Ae,y=ud(),p.pooledCache=y,y.refCount++,y!==null&&(p.pooledCacheLanes|=o),p=y),i.memoizedState={parent:h,cache:p},dd(i),Br(i,rn,p)):((e.lanes&o)!==0&&(md(e,i),Cu(i,null,null,o),Au()),p=e.memoizedState,y=i.memoizedState,p.parent!==h?(p={parent:h,cache:h},i.memoizedState=p,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=p),Br(i,rn,h)):(h=y.cache,Br(i,rn,h),h!==p.cache&&Tl(i,[rn],o,!0))),wn(e,i,i.pendingProps.children,o),i.child;case 29:throw i.pendingProps}throw Error(a(156,i.tag))}function Is(e){e.flags|=4}function ly(e,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!_v(i)){if(i=Qi.current,i!==null&&((le&4194048)===le?Hr!==null:(le&62914560)!==le&&(le&536870912)===0||i!==Hr))throw bu=fd,G_;e.flags|=8192}}function Eh(e,i){i!==null&&(e.flags|=4),e.flags&16384&&(i=e.tag!==22?ir():536870912,e.lanes|=i,Ml|=i)}function Ou(e,i){if(!qt)switch(e.tailMode){case"hidden":i=e.tail;for(var o=null;i!==null;)i.alternate!==null&&(o=i),i=i.sibling;o===null?e.tail=null:o.sibling=null;break;case"collapsed":o=e.tail;for(var h=null;o!==null;)o.alternate!==null&&(h=o),o=o.sibling;h===null?i||e.tail===null?e.tail=null:e.tail.sibling=null:h.sibling=null}}function ze(e){var i=e.alternate!==null&&e.alternate.child===e.child,o=0,h=0;if(i)for(var p=e.child;p!==null;)o|=p.lanes|p.childLanes,h|=p.subtreeFlags&65011712,h|=p.flags&65011712,p.return=e,p=p.sibling;else for(p=e.child;p!==null;)o|=p.lanes|p.childLanes,h|=p.subtreeFlags,h|=p.flags,p.return=e,p=p.sibling;return e.subtreeFlags|=h,e.childLanes=o,i}function Hb(e,i,o){var h=i.pendingProps;switch(bt(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ze(i),null;case 1:return ze(i),null;case 3:return o=i.stateNode,h=null,e!==null&&(h=e.memoizedState.cache),i.memoizedState.cache!==h&&(i.flags|=2048),gr(rn),Jn(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(e===null||e.child===null)&&(bo(i)?Is(i):e===null||e.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Jc())),ze(i),null;case 26:return o=i.memoizedState,e===null?(Is(i),o!==null?(ze(i),ly(i,o)):(ze(i),i.flags&=-16777217)):o?o!==e.memoizedState?(Is(i),ze(i),ly(i,o)):(ze(i),i.flags&=-16777217):(e.memoizedProps!==h&&Is(i),ze(i),i.flags&=-16777217),null;case 27:Rr(i),o=vt.current;var p=i.type;if(e!==null&&i.stateNode!=null)e.memoizedProps!==h&&Is(i);else{if(!h){if(i.stateNode===null)throw Error(a(166));return ze(i),null}e=wt.current,bo(i)?Wc(i):(e=lv(p,h,o),i.stateNode=e,Is(i))}return ze(i),null;case 5:if(Rr(i),o=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==h&&Is(i);else{if(!h){if(i.stateNode===null)throw Error(a(166));return ze(i),null}if(e=wt.current,bo(i))Wc(i);else{switch(p=Nh(vt.current),e){case 1:e=p.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:e=p.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":e=p.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":e=p.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":e=p.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof h.is=="string"?p.createElement("select",{is:h.is}):p.createElement("select"),h.multiple?e.multiple=!0:h.size&&(e.size=h.size);break;default:e=typeof h.is=="string"?p.createElement(o,{is:h.is}):p.createElement(o)}}e[De]=i,e[tn]=h;t:for(p=i.child;p!==null;){if(p.tag===5||p.tag===6)e.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===i)break t;for(;p.sibling===null;){if(p.return===null||p.return===i)break t;p=p.return}p.sibling.return=p.return,p=p.sibling}i.stateNode=e;t:switch(Sn(e,o,h),o){case"button":case"input":case"select":case"textarea":e=!!h.autoFocus;break t;case"img":e=!0;break t;default:e=!1}e&&Is(i)}}return ze(i),i.flags&=-16777217,null;case 6:if(e&&i.stateNode!=null)e.memoizedProps!==h&&Is(i);else{if(typeof h!="string"&&i.stateNode===null)throw Error(a(166));if(e=vt.current,bo(i)){if(e=i.stateNode,o=i.memoizedProps,h=null,p=Lt,p!==null)switch(p.tag){case 27:case 5:h=p.memoizedProps}e[De]=i,e=!!(e.nodeValue===o||h!==null&&h.suppressHydrationWarning===!0||ev(e.nodeValue,o)),e||li(i)}else e=Nh(e).createTextNode(h),e[De]=i,i.stateNode=e}return ze(i),null;case 13:if(h=i.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(p=bo(i),h!==null&&h.dehydrated!==null){if(e===null){if(!p)throw Error(a(318));if(p=i.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(a(317));p[De]=i}else da(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;ze(i),p=!1}else p=Jc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=p),p=!0;if(!p)return i.flags&256?(Cs(i),i):(Cs(i),null)}if(Cs(i),(i.flags&128)!==0)return i.lanes=o,i;if(o=h!==null,e=e!==null&&e.memoizedState!==null,o){h=i.child,p=null,h.alternate!==null&&h.alternate.memoizedState!==null&&h.alternate.memoizedState.cachePool!==null&&(p=h.alternate.memoizedState.cachePool.pool);var y=null;h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(y=h.memoizedState.cachePool.pool),y!==p&&(h.flags|=2048)}return o!==e&&o&&(i.child.flags|=8192),Eh(i,i.updateQueue),ze(i),null;case 4:return Jn(),e===null&&_m(i.stateNode.containerInfo),ze(i),null;case 10:return gr(i.type),ze(i),null;case 19:if(gt(sn),p=i.memoizedState,p===null)return ze(i),null;if(h=(i.flags&128)!==0,y=p.rendering,y===null)if(h)Ou(p,!1);else{if(je!==0||e!==null&&(e.flags&128)!==0)for(e=i.child;e!==null;){if(y=_h(e),y!==null){for(i.flags|=128,Ou(p,!1),e=y.updateQueue,i.updateQueue=e,Eh(i,e),i.subtreeFlags=0,e=o,o=i.child;o!==null;)yu(o,e),o=o.sibling;return _t(sn,sn.current&1|2),i.child}e=e.sibling}p.tail!==null&&ln()>Sh&&(i.flags|=128,h=!0,Ou(p,!1),i.lanes=4194304)}else{if(!h)if(e=_h(y),e!==null){if(i.flags|=128,h=!0,e=e.updateQueue,i.updateQueue=e,Eh(i,e),Ou(p,!0),p.tail===null&&p.tailMode==="hidden"&&!y.alternate&&!qt)return ze(i),null}else 2*ln()-p.renderingStartTime>Sh&&o!==536870912&&(i.flags|=128,h=!0,Ou(p,!1),i.lanes=4194304);p.isBackwards?(y.sibling=i.child,i.child=y):(e=p.last,e!==null?e.sibling=y:i.child=y,p.last=y)}return p.tail!==null?(i=p.tail,p.rendering=i,p.tail=i.sibling,p.renderingStartTime=ln(),i.sibling=null,e=sn.current,_t(sn,h?e&1|2:e&1),i):(ze(i),null);case 22:case 23:return Cs(i),yd(),h=i.memoizedState!==null,e!==null?e.memoizedState!==null!==h&&(i.flags|=8192):h&&(i.flags|=8192),h?(o&536870912)!==0&&(i.flags&128)===0&&(ze(i),i.subtreeFlags&6&&(i.flags|=8192)):ze(i),o=i.updateQueue,o!==null&&Eh(i,o.retryQueue),o=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(o=e.memoizedState.cachePool.pool),h=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(h=i.memoizedState.cachePool.pool),h!==o&&(i.flags|=2048),e!==null&&gt(Ro),null;case 24:return o=null,e!==null&&(o=e.memoizedState.cache),i.memoizedState.cache!==o&&(i.flags|=2048),gr(rn),ze(i),null;case 25:return null;case 30:return null}throw Error(a(156,i.tag))}function jb(e,i){switch(bt(i),i.tag){case 1:return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 3:return gr(rn),Jn(),e=i.flags,(e&65536)!==0&&(e&128)===0?(i.flags=e&-65537|128,i):null;case 26:case 27:case 5:return Rr(i),null;case 13:if(Cs(i),e=i.memoizedState,e!==null&&e.dehydrated!==null){if(i.alternate===null)throw Error(a(340));da()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 19:return gt(sn),null;case 4:return Jn(),null;case 10:return gr(i.type),null;case 22:case 23:return Cs(i),yd(),e!==null&&gt(Ro),e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 24:return gr(rn),null;case 25:return null;default:return null}}function uy(e,i){switch(bt(i),i.tag){case 3:gr(rn),Jn();break;case 26:case 27:case 5:Rr(i);break;case 4:Jn();break;case 13:Cs(i);break;case 19:gt(sn);break;case 10:gr(i.type);break;case 22:case 23:Cs(i),yd(),e!==null&&gt(Ro);break;case 24:gr(rn)}}function Nu(e,i){try{var o=i.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var p=h.next;o=p;do{if((o.tag&e)===e){h=void 0;var y=o.create,C=o.inst;h=y(),C.destroy=h}o=o.next}while(o!==p)}}catch(x){we(i,i.return,x)}}function Ea(e,i,o){try{var h=i.updateQueue,p=h!==null?h.lastEffect:null;if(p!==null){var y=p.next;h=y;do{if((h.tag&e)===e){var C=h.inst,x=C.destroy;if(x!==void 0){C.destroy=void 0,p=i;var V=o,$=x;try{$()}catch(ot){we(p,V,ot)}}}h=h.next}while(h!==y)}}catch(ot){we(i,i.return,ot)}}function cy(e){var i=e.updateQueue;if(i!==null){var o=e.stateNode;try{W_(i,o)}catch(h){we(e,e.return,h)}}}function hy(e,i,o){o.props=Lo(e.type,e.memoizedProps),o.state=e.memoizedState;try{o.componentWillUnmount()}catch(h){we(e,i,h)}}function Du(e,i){try{var o=e.ref;if(o!==null){switch(e.tag){case 26:case 27:case 5:var h=e.stateNode;break;case 30:h=e.stateNode;break;default:h=e.stateNode}typeof o=="function"?e.refCleanup=o(h):o.current=h}}catch(p){we(e,i,p)}}function jr(e,i){var o=e.ref,h=e.refCleanup;if(o!==null)if(typeof h=="function")try{h()}catch(p){we(e,i,p)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(p){we(e,i,p)}else o.current=null}function fy(e){var i=e.type,o=e.memoizedProps,h=e.stateNode;try{t:switch(i){case"button":case"input":case"select":case"textarea":o.autoFocus&&h.focus();break t;case"img":o.src?h.src=o.src:o.srcSet&&(h.srcset=o.srcSet)}}catch(p){we(e,e.return,p)}}function Zd(e,i,o){try{var h=e.stateNode;uS(h,e.type,o,i),h[tn]=i}catch(p){we(e,e.return,p)}}function dy(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&La(e.type)||e.tag===4}function Kd(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||dy(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&La(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Yd(e,i,o){var h=e.tag;if(h===5||h===6)e=e.stateNode,i?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(e,i):(i=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,i.appendChild(e),o=o._reactRootContainer,o!=null||i.onclick!==null||(i.onclick=Oh));else if(h!==4&&(h===27&&La(e.type)&&(o=e.stateNode,i=null),e=e.child,e!==null))for(Yd(e,i,o),e=e.sibling;e!==null;)Yd(e,i,o),e=e.sibling}function wh(e,i,o){var h=e.tag;if(h===5||h===6)e=e.stateNode,i?o.insertBefore(e,i):o.appendChild(e);else if(h!==4&&(h===27&&La(e.type)&&(o=e.stateNode),e=e.child,e!==null))for(wh(e,i,o),e=e.sibling;e!==null;)wh(e,i,o),e=e.sibling}function my(e){var i=e.stateNode,o=e.memoizedProps;try{for(var h=e.type,p=i.attributes;p.length;)i.removeAttributeNode(p[0]);Sn(i,h,o),i[De]=e,i[tn]=o}catch(y){we(e,e.return,y)}}var Ls=!1,Ze=!1,Qd=!1,py=typeof WeakSet=="function"?WeakSet:Set,yn=null;function qb(e,i){if(e=e.containerInfo,vm=Bh,e=_o(e),go(e)){if("selectionStart"in e)var o={start:e.selectionStart,end:e.selectionEnd};else t:{o=(o=e.ownerDocument)&&o.defaultView||window;var h=o.getSelection&&o.getSelection();if(h&&h.rangeCount!==0){o=h.anchorNode;var p=h.anchorOffset,y=h.focusNode;h=h.focusOffset;try{o.nodeType,y.nodeType}catch{o=null;break t}var C=0,x=-1,V=-1,$=0,ot=0,ct=e,J=null;e:for(;;){for(var et;ct!==o||p!==0&&ct.nodeType!==3||(x=C+p),ct!==y||h!==0&&ct.nodeType!==3||(V=C+h),ct.nodeType===3&&(C+=ct.nodeValue.length),(et=ct.firstChild)!==null;)J=ct,ct=et;for(;;){if(ct===e)break e;if(J===o&&++$===p&&(x=C),J===y&&++ot===h&&(V=C),(et=ct.nextSibling)!==null)break;ct=J,J=ct.parentNode}ct=et}o=x===-1||V===-1?null:{start:x,end:V}}else o=null}o=o||{start:0,end:0}}else o=null;for(Tm={focusedElem:e,selectionRange:o},Bh=!1,yn=i;yn!==null;)if(i=yn,e=i.child,(i.subtreeFlags&1024)!==0&&e!==null)e.return=i,yn=e;else for(;yn!==null;){switch(i=yn,y=i.alternate,e=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&y!==null){e=void 0,o=i,p=y.memoizedProps,y=y.memoizedState,h=o.stateNode;try{var jt=Lo(o.type,p,o.elementType===o.type);e=h.getSnapshotBeforeUpdate(jt,y),h.__reactInternalSnapshotBeforeUpdate=e}catch(Dt){we(o,o.return,Dt)}}break;case 3:if((e&1024)!==0){if(e=i.stateNode.containerInfo,o=e.nodeType,o===9)bm(e);else if(o===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":bm(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=i.sibling,e!==null){e.return=i.return,yn=e;break}yn=i.return}}function _y(e,i,o){var h=o.flags;switch(o.tag){case 0:case 11:case 15:wa(e,o),h&4&&Nu(5,o);break;case 1:if(wa(e,o),h&4)if(e=o.stateNode,i===null)try{e.componentDidMount()}catch(C){we(o,o.return,C)}else{var p=Lo(o.type,i.memoizedProps);i=i.memoizedState;try{e.componentDidUpdate(p,i,e.__reactInternalSnapshotBeforeUpdate)}catch(C){we(o,o.return,C)}}h&64&&cy(o),h&512&&Du(o,o.return);break;case 3:if(wa(e,o),h&64&&(e=o.updateQueue,e!==null)){if(i=null,o.child!==null)switch(o.child.tag){case 27:case 5:i=o.child.stateNode;break;case 1:i=o.child.stateNode}try{W_(e,i)}catch(C){we(o,o.return,C)}}break;case 27:i===null&&h&4&&my(o);case 26:case 5:wa(e,o),i===null&&h&4&&fy(o),h&512&&Du(o,o.return);break;case 12:wa(e,o);break;case 13:wa(e,o),h&4&&vy(e,o),h&64&&(e=o.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(o=$b.bind(null,o),_S(e,o))));break;case 22:if(h=o.memoizedState!==null||Ls,!h){i=i!==null&&i.memoizedState!==null||Ze,p=Ls;var y=Ze;Ls=h,(Ze=i)&&!y?ba(e,o,(o.subtreeFlags&8772)!==0):wa(e,o),Ls=p,Ze=y}break;case 30:break;default:wa(e,o)}}function gy(e){var i=e.alternate;i!==null&&(e.alternate=null,gy(i)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(i=e.stateNode,i!==null&&as(i)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Oe=null,ci=!1;function xs(e,i,o){for(o=o.child;o!==null;)yy(e,i,o),o=o.sibling}function yy(e,i,o){if(Je&&typeof Je.onCommitFiberUnmount=="function")try{Je.onCommitFiberUnmount(Ni,o)}catch{}switch(o.tag){case 26:Ze||jr(o,i),xs(e,i,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Ze||jr(o,i);var h=Oe,p=ci;La(o.type)&&(Oe=o.stateNode,ci=!1),xs(e,i,o),Fu(o.stateNode),Oe=h,ci=p;break;case 5:Ze||jr(o,i);case 6:if(h=Oe,p=ci,Oe=null,xs(e,i,o),Oe=h,ci=p,Oe!==null)if(ci)try{(Oe.nodeType===9?Oe.body:Oe.nodeName==="HTML"?Oe.ownerDocument.body:Oe).removeChild(o.stateNode)}catch(y){we(o,i,y)}else try{Oe.removeChild(o.stateNode)}catch(y){we(o,i,y)}break;case 18:Oe!==null&&(ci?(e=Oe,av(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,o.stateNode),$u(e)):av(Oe,o.stateNode));break;case 4:h=Oe,p=ci,Oe=o.stateNode.containerInfo,ci=!0,xs(e,i,o),Oe=h,ci=p;break;case 0:case 11:case 14:case 15:Ze||Ea(2,o,i),Ze||Ea(4,o,i),xs(e,i,o);break;case 1:Ze||(jr(o,i),h=o.stateNode,typeof h.componentWillUnmount=="function"&&hy(o,i,h)),xs(e,i,o);break;case 21:xs(e,i,o);break;case 22:Ze=(h=Ze)||o.memoizedState!==null,xs(e,i,o),Ze=h;break;default:xs(e,i,o)}}function vy(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{$u(e)}catch(o){we(i,i.return,o)}}function Fb(e){switch(e.tag){case 13:case 19:var i=e.stateNode;return i===null&&(i=e.stateNode=new py),i;case 22:return e=e.stateNode,i=e._retryCache,i===null&&(i=e._retryCache=new py),i;default:throw Error(a(435,e.tag))}}function Xd(e,i){var o=Fb(e);i.forEach(function(h){var p=Jb.bind(null,e,h);o.has(h)||(o.add(h),h.then(p,p))})}function Ii(e,i){var o=i.deletions;if(o!==null)for(var h=0;h<o.length;h++){var p=o[h],y=e,C=i,x=C;t:for(;x!==null;){switch(x.tag){case 27:if(La(x.type)){Oe=x.stateNode,ci=!1;break t}break;case 5:Oe=x.stateNode,ci=!1;break t;case 3:case 4:Oe=x.stateNode.containerInfo,ci=!0;break t}x=x.return}if(Oe===null)throw Error(a(160));yy(y,C,p),Oe=null,ci=!1,y=p.alternate,y!==null&&(y.return=null),p.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)Ty(i,e),i=i.sibling}var yr=null;function Ty(e,i){var o=e.alternate,h=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Ii(i,e),Li(e),h&4&&(Ea(3,e,e.return),Nu(3,e),Ea(5,e,e.return));break;case 1:Ii(i,e),Li(e),h&512&&(Ze||o===null||jr(o,o.return)),h&64&&Ls&&(e=e.updateQueue,e!==null&&(h=e.callbacks,h!==null&&(o=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=o===null?h:o.concat(h))));break;case 26:var p=yr;if(Ii(i,e),Li(e),h&512&&(Ze||o===null||jr(o,o.return)),h&4){var y=o!==null?o.memoizedState:null;if(h=e.memoizedState,o===null)if(h===null)if(e.stateNode===null){t:{h=e.type,o=e.memoizedProps,p=p.ownerDocument||p;e:switch(h){case"title":y=p.getElementsByTagName("title")[0],(!y||y[ar]||y[De]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=p.createElement(h),p.head.insertBefore(y,p.querySelector("head > title"))),Sn(y,h,o),y[De]=e,ke(y),h=y;break t;case"link":var C=mv("link","href",p).get(h+(o.href||""));if(C){for(var x=0;x<C.length;x++)if(y=C[x],y.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&y.getAttribute("rel")===(o.rel==null?null:o.rel)&&y.getAttribute("title")===(o.title==null?null:o.title)&&y.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){C.splice(x,1);break e}}y=p.createElement(h),Sn(y,h,o),p.head.appendChild(y);break;case"meta":if(C=mv("meta","content",p).get(h+(o.content||""))){for(x=0;x<C.length;x++)if(y=C[x],y.getAttribute("content")===(o.content==null?null:""+o.content)&&y.getAttribute("name")===(o.name==null?null:o.name)&&y.getAttribute("property")===(o.property==null?null:o.property)&&y.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&y.getAttribute("charset")===(o.charSet==null?null:o.charSet)){C.splice(x,1);break e}}y=p.createElement(h),Sn(y,h,o),p.head.appendChild(y);break;default:throw Error(a(468,h))}y[De]=e,ke(y),h=y}e.stateNode=h}else pv(p,e.type,e.stateNode);else e.stateNode=dv(p,h,e.memoizedProps);else y!==h?(y===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):y.count--,h===null?pv(p,e.type,e.stateNode):dv(p,h,e.memoizedProps)):h===null&&e.stateNode!==null&&Zd(e,e.memoizedProps,o.memoizedProps)}break;case 27:Ii(i,e),Li(e),h&512&&(Ze||o===null||jr(o,o.return)),o!==null&&h&4&&Zd(e,e.memoizedProps,o.memoizedProps);break;case 5:if(Ii(i,e),Li(e),h&512&&(Ze||o===null||jr(o,o.return)),e.flags&32){p=e.stateNode;try{hn(p,"")}catch(et){we(e,e.return,et)}}h&4&&e.stateNode!=null&&(p=e.memoizedProps,Zd(e,p,o!==null?o.memoizedProps:p)),h&1024&&(Qd=!0);break;case 6:if(Ii(i,e),Li(e),h&4){if(e.stateNode===null)throw Error(a(162));h=e.memoizedProps,o=e.stateNode;try{o.nodeValue=h}catch(et){we(e,e.return,et)}}break;case 3:if(Vh=null,p=yr,yr=Dh(i.containerInfo),Ii(i,e),yr=p,Li(e),h&4&&o!==null&&o.memoizedState.isDehydrated)try{$u(i.containerInfo)}catch(et){we(e,e.return,et)}Qd&&(Qd=!1,Ey(e));break;case 4:h=yr,yr=Dh(e.stateNode.containerInfo),Ii(i,e),Li(e),yr=h;break;case 12:Ii(i,e),Li(e);break;case 13:Ii(i,e),Li(e),e.child.flags&8192&&e.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(nm=ln()),h&4&&(h=e.updateQueue,h!==null&&(e.updateQueue=null,Xd(e,h)));break;case 22:p=e.memoizedState!==null;var V=o!==null&&o.memoizedState!==null,$=Ls,ot=Ze;if(Ls=$||p,Ze=ot||V,Ii(i,e),Ze=ot,Ls=$,Li(e),h&8192)t:for(i=e.stateNode,i._visibility=p?i._visibility&-2:i._visibility|1,p&&(o===null||V||Ls||Ze||xo(e)),o=null,i=e;;){if(i.tag===5||i.tag===26){if(o===null){V=o=i;try{if(y=V.stateNode,p)C=y.style,typeof C.setProperty=="function"?C.setProperty("display","none","important"):C.display="none";else{x=V.stateNode;var ct=V.memoizedProps.style,J=ct!=null&&ct.hasOwnProperty("display")?ct.display:null;x.style.display=J==null||typeof J=="boolean"?"":(""+J).trim()}}catch(et){we(V,V.return,et)}}}else if(i.tag===6){if(o===null){V=i;try{V.stateNode.nodeValue=p?"":V.memoizedProps}catch(et){we(V,V.return,et)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===e)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break t;for(;i.sibling===null;){if(i.return===null||i.return===e)break t;o===i&&(o=null),i=i.return}o===i&&(o=null),i.sibling.return=i.return,i=i.sibling}h&4&&(h=e.updateQueue,h!==null&&(o=h.retryQueue,o!==null&&(h.retryQueue=null,Xd(e,o))));break;case 19:Ii(i,e),Li(e),h&4&&(h=e.updateQueue,h!==null&&(e.updateQueue=null,Xd(e,h)));break;case 30:break;case 21:break;default:Ii(i,e),Li(e)}}function Li(e){var i=e.flags;if(i&2){try{for(var o,h=e.return;h!==null;){if(dy(h)){o=h;break}h=h.return}if(o==null)throw Error(a(160));switch(o.tag){case 27:var p=o.stateNode,y=Kd(e);wh(e,y,p);break;case 5:var C=o.stateNode;o.flags&32&&(hn(C,""),o.flags&=-33);var x=Kd(e);wh(e,x,C);break;case 3:case 4:var V=o.stateNode.containerInfo,$=Kd(e);Yd(e,$,V);break;default:throw Error(a(161))}}catch(ot){we(e,e.return,ot)}e.flags&=-3}i&4096&&(e.flags&=-4097)}function Ey(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var i=e;Ey(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),e=e.sibling}}function wa(e,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)_y(e,i.alternate,i),i=i.sibling}function xo(e){for(e=e.child;e!==null;){var i=e;switch(i.tag){case 0:case 11:case 14:case 15:Ea(4,i,i.return),xo(i);break;case 1:jr(i,i.return);var o=i.stateNode;typeof o.componentWillUnmount=="function"&&hy(i,i.return,o),xo(i);break;case 27:Fu(i.stateNode);case 26:case 5:jr(i,i.return),xo(i);break;case 22:i.memoizedState===null&&xo(i);break;case 30:xo(i);break;default:xo(i)}e=e.sibling}}function ba(e,i,o){for(o=o&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var h=i.alternate,p=e,y=i,C=y.flags;switch(y.tag){case 0:case 11:case 15:ba(p,y,o),Nu(4,y);break;case 1:if(ba(p,y,o),h=y,p=h.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch($){we(h,h.return,$)}if(h=y,p=h.updateQueue,p!==null){var x=h.stateNode;try{var V=p.shared.hiddenCallbacks;if(V!==null)for(p.shared.hiddenCallbacks=null,p=0;p<V.length;p++)X_(V[p],x)}catch($){we(h,h.return,$)}}o&&C&64&&cy(y),Du(y,y.return);break;case 27:my(y);case 26:case 5:ba(p,y,o),o&&h===null&&C&4&&fy(y),Du(y,y.return);break;case 12:ba(p,y,o);break;case 13:ba(p,y,o),o&&C&4&&vy(p,y);break;case 22:y.memoizedState===null&&ba(p,y,o),Du(y,y.return);break;case 30:break;default:ba(p,y,o)}i=i.sibling}}function Wd(e,i){var o=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(o=e.memoizedState.cachePool.pool),e=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(e=i.memoizedState.cachePool.pool),e!==o&&(e!=null&&e.refCount++,o!=null&&Tu(o))}function $d(e,i){e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&Tu(e))}function qr(e,i,o,h){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)wy(e,i,o,h),i=i.sibling}function wy(e,i,o,h){var p=i.flags;switch(i.tag){case 0:case 11:case 15:qr(e,i,o,h),p&2048&&Nu(9,i);break;case 1:qr(e,i,o,h);break;case 3:qr(e,i,o,h),p&2048&&(e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&Tu(e)));break;case 12:if(p&2048){qr(e,i,o,h),e=i.stateNode;try{var y=i.memoizedProps,C=y.id,x=y.onPostCommit;typeof x=="function"&&x(C,i.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(V){we(i,i.return,V)}}else qr(e,i,o,h);break;case 13:qr(e,i,o,h);break;case 23:break;case 22:y=i.stateNode,C=i.alternate,i.memoizedState!==null?y._visibility&2?qr(e,i,o,h):ku(e,i):y._visibility&2?qr(e,i,o,h):(y._visibility|=2,Ll(e,i,o,h,(i.subtreeFlags&10256)!==0)),p&2048&&Wd(C,i);break;case 24:qr(e,i,o,h),p&2048&&$d(i.alternate,i);break;default:qr(e,i,o,h)}}function Ll(e,i,o,h,p){for(p=p&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var y=e,C=i,x=o,V=h,$=C.flags;switch(C.tag){case 0:case 11:case 15:Ll(y,C,x,V,p),Nu(8,C);break;case 23:break;case 22:var ot=C.stateNode;C.memoizedState!==null?ot._visibility&2?Ll(y,C,x,V,p):ku(y,C):(ot._visibility|=2,Ll(y,C,x,V,p)),p&&$&2048&&Wd(C.alternate,C);break;case 24:Ll(y,C,x,V,p),p&&$&2048&&$d(C.alternate,C);break;default:Ll(y,C,x,V,p)}i=i.sibling}}function ku(e,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var o=e,h=i,p=h.flags;switch(h.tag){case 22:ku(o,h),p&2048&&Wd(h.alternate,h);break;case 24:ku(o,h),p&2048&&$d(h.alternate,h);break;default:ku(o,h)}i=i.sibling}}var Vu=8192;function xl(e){if(e.subtreeFlags&Vu)for(e=e.child;e!==null;)by(e),e=e.sibling}function by(e){switch(e.tag){case 26:xl(e),e.flags&Vu&&e.memoizedState!==null&&LS(yr,e.memoizedState,e.memoizedProps);break;case 5:xl(e);break;case 3:case 4:var i=yr;yr=Dh(e.stateNode.containerInfo),xl(e),yr=i;break;case 22:e.memoizedState===null&&(i=e.alternate,i!==null&&i.memoizedState!==null?(i=Vu,Vu=16777216,xl(e),Vu=i):xl(e));break;default:xl(e)}}function Sy(e){var i=e.alternate;if(i!==null&&(e=i.child,e!==null)){i.child=null;do i=e.sibling,e.sibling=null,e=i;while(e!==null)}}function Uu(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var o=0;o<i.length;o++){var h=i[o];yn=h,Cy(h,e)}Sy(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Ay(e),e=e.sibling}function Ay(e){switch(e.tag){case 0:case 11:case 15:Uu(e),e.flags&2048&&Ea(9,e,e.return);break;case 3:Uu(e);break;case 12:Uu(e);break;case 22:var i=e.stateNode;e.memoizedState!==null&&i._visibility&2&&(e.return===null||e.return.tag!==13)?(i._visibility&=-3,bh(e)):Uu(e);break;default:Uu(e)}}function bh(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var o=0;o<i.length;o++){var h=i[o];yn=h,Cy(h,e)}Sy(e)}for(e=e.child;e!==null;){switch(i=e,i.tag){case 0:case 11:case 15:Ea(8,i,i.return),bh(i);break;case 22:o=i.stateNode,o._visibility&2&&(o._visibility&=-3,bh(i));break;default:bh(i)}e=e.sibling}}function Cy(e,i){for(;yn!==null;){var o=yn;switch(o.tag){case 0:case 11:case 15:Ea(8,o,i);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var h=o.memoizedState.cachePool.pool;h!=null&&h.refCount++}break;case 24:Tu(o.memoizedState.cache)}if(h=o.child,h!==null)h.return=o,yn=h;else t:for(o=e;yn!==null;){h=yn;var p=h.sibling,y=h.return;if(gy(h),h===o){yn=null;break t}if(p!==null){p.return=y,yn=p;break t}yn=y}}}var Gb={getCacheForType:function(e){var i=Mn(rn),o=i.data.get(e);return o===void 0&&(o=e(),i.data.set(e,o)),o}},Zb=typeof WeakMap=="function"?WeakMap:Map,pe=0,Ae=null,$t=null,le=0,_e=0,xi=null,Sa=!1,Pl=!1,Jd=!1,Ps=0,je=0,Aa=0,Po=0,tm=0,Xi=0,Ml=0,zu=null,hi=null,em=!1,nm=0,Sh=1/0,Ah=null,Ca=null,bn=0,Ra=null,Ol=null,Nl=0,im=0,rm=null,Ry=null,Bu=0,sm=null;function Pi(){if((pe&2)!==0&&le!==0)return le&-le;if(rt.T!==null){var e=El;return e!==0?e:fm()}return rr()}function Iy(){Xi===0&&(Xi=(le&536870912)===0||qt?io():536870912);var e=Qi.current;return e!==null&&(e.flags|=32),Xi}function Mi(e,i,o){(e===Ae&&(_e===2||_e===9)||e.cancelPendingCommit!==null)&&(Dl(e,0),Ia(e,le,Xi,!1)),xe(e,o),((pe&2)===0||e!==Ae)&&(e===Ae&&((pe&2)===0&&(Po|=o),je===4&&Ia(e,le,Xi,!1)),Fr(e))}function Ly(e,i,o){if((pe&6)!==0)throw Error(a(327));var h=!o&&(i&124)===0&&(i&e.expiredLanes)===0||ni(e,i),p=h?Qb(e,i):lm(e,i,!0),y=h;do{if(p===0){Pl&&!h&&Ia(e,i,0,!1);break}else{if(o=e.current.alternate,y&&!Kb(o)){p=lm(e,i,!1),y=!1;continue}if(p===2){if(y=i,e.errorRecoveryDisabledLanes&y)var C=0;else C=e.pendingLanes&-536870913,C=C!==0?C:C&536870912?536870912:0;if(C!==0){i=C;t:{var x=e;p=zu;var V=x.current.memoizedState.isDehydrated;if(V&&(Dl(x,C).flags|=256),C=lm(x,C,!1),C!==2){if(Jd&&!V){x.errorRecoveryDisabledLanes|=y,Po|=y,p=4;break t}y=hi,hi=p,y!==null&&(hi===null?hi=y:hi.push.apply(hi,y))}p=C}if(y=!1,p!==2)continue}}if(p===1){Dl(e,0),Ia(e,i,0,!0);break}t:{switch(h=e,y=p,y){case 0:case 1:throw Error(a(345));case 4:if((i&4194048)!==i)break;case 6:Ia(h,i,Xi,!Sa);break t;case 2:hi=null;break;case 3:case 5:break;default:throw Error(a(329))}if((i&62914560)===i&&(p=nm+300-ln(),10<p)){if(Ia(h,i,Xi,!Sa),ei(h,0,!0)!==0)break t;h.timeoutHandle=rv(xy.bind(null,h,o,hi,Ah,em,i,Xi,Po,Ml,Sa,y,2,-0,0),p);break t}xy(h,o,hi,Ah,em,i,Xi,Po,Ml,Sa,y,0,-0,0)}}break}while(!0);Fr(e)}function xy(e,i,o,h,p,y,C,x,V,$,ot,ct,J,et){if(e.timeoutHandle=-1,ct=i.subtreeFlags,(ct&8192||(ct&16785408)===16785408)&&(Ku={stylesheets:null,count:0,unsuspend:IS},by(i),ct=xS(),ct!==null)){e.cancelPendingCommit=ct(Vy.bind(null,e,i,y,o,h,p,C,x,V,ot,1,J,et)),Ia(e,y,C,!$);return}Vy(e,i,y,o,h,p,C,x,V)}function Kb(e){for(var i=e;;){var o=i.tag;if((o===0||o===11||o===15)&&i.flags&16384&&(o=i.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var h=0;h<o.length;h++){var p=o[h],y=p.getSnapshot;p=p.value;try{if(!Yn(y(),p))return!1}catch{return!1}}if(o=i.child,i.subtreeFlags&16384&&o!==null)o.return=i,i=o;else{if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Ia(e,i,o,h){i&=~tm,i&=~Po,e.suspendedLanes|=i,e.pingedLanes&=~i,h&&(e.warmLanes|=i),h=e.expirationTimes;for(var p=i;0<p;){var y=31-En(p),C=1<<y;h[y]=-1,p&=~C}o!==0&&Ir(e,o,i)}function Ch(){return(pe&6)===0?(Hu(0),!1):!0}function am(){if($t!==null){if(_e===0)var e=$t.return;else e=$t,_r=Yi=null,bd(e),Rl=null,Pu=0,e=$t;for(;e!==null;)uy(e.alternate,e),e=e.return;$t=null}}function Dl(e,i){var o=e.timeoutHandle;o!==-1&&(e.timeoutHandle=-1,hS(o)),o=e.cancelPendingCommit,o!==null&&(e.cancelPendingCommit=null,o()),am(),Ae=e,$t=o=Ki(e.current,null),le=i,_e=0,xi=null,Sa=!1,Pl=ni(e,i),Jd=!1,Ml=Xi=tm=Po=Aa=je=0,hi=zu=null,em=!1,(i&8)!==0&&(i|=i&32);var h=e.entangledLanes;if(h!==0)for(e=e.entanglements,h&=i;0<h;){var p=31-En(h),y=1<<p;i|=e[p],h&=~y}return Ps=i,vo(),o}function Py(e,i){Yt=null,rt.H=dh,i===wu||i===ih?(i=Y_(),_e=3):i===G_?(i=Y_(),_e=4):_e=i===Qg?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,xi=i,$t===null&&(je=1,yh(e,Xn(i,e.current)))}function My(){var e=rt.H;return rt.H=dh,e===null?dh:e}function Oy(){var e=rt.A;return rt.A=Gb,e}function om(){je=4,Sa||(le&4194048)!==le&&Qi.current!==null||(Pl=!0),(Aa&134217727)===0&&(Po&134217727)===0||Ae===null||Ia(Ae,le,Xi,!1)}function lm(e,i,o){var h=pe;pe|=2;var p=My(),y=Oy();(Ae!==e||le!==i)&&(Ah=null,Dl(e,i)),i=!1;var C=je;t:do try{if(_e!==0&&$t!==null){var x=$t,V=xi;switch(_e){case 8:am(),C=6;break t;case 3:case 2:case 9:case 6:Qi.current===null&&(i=!0);var $=_e;if(_e=0,xi=null,kl(e,x,V,$),o&&Pl){C=0;break t}break;default:$=_e,_e=0,xi=null,kl(e,x,V,$)}}Yb(),C=je;break}catch(ot){Py(e,ot)}while(!0);return i&&e.shellSuspendCounter++,_r=Yi=null,pe=h,rt.H=p,rt.A=y,$t===null&&(Ae=null,le=0,vo()),C}function Yb(){for(;$t!==null;)Ny($t)}function Qb(e,i){var o=pe;pe|=2;var h=My(),p=Oy();Ae!==e||le!==i?(Ah=null,Sh=ln()+500,Dl(e,i)):Pl=ni(e,i);t:do try{if(_e!==0&&$t!==null){i=$t;var y=xi;e:switch(_e){case 1:_e=0,xi=null,kl(e,i,y,1);break;case 2:case 9:if(Z_(y)){_e=0,xi=null,Dy(i);break}i=function(){_e!==2&&_e!==9||Ae!==e||(_e=7),Fr(e)},y.then(i,i);break t;case 3:_e=7;break t;case 4:_e=5;break t;case 7:Z_(y)?(_e=0,xi=null,Dy(i)):(_e=0,xi=null,kl(e,i,y,7));break;case 5:var C=null;switch($t.tag){case 26:C=$t.memoizedState;case 5:case 27:var x=$t;if(!C||_v(C)){_e=0,xi=null;var V=x.sibling;if(V!==null)$t=V;else{var $=x.return;$!==null?($t=$,Rh($)):$t=null}break e}}_e=0,xi=null,kl(e,i,y,5);break;case 6:_e=0,xi=null,kl(e,i,y,6);break;case 8:am(),je=6;break t;default:throw Error(a(462))}}Xb();break}catch(ot){Py(e,ot)}while(!0);return _r=Yi=null,rt.H=h,rt.A=p,pe=o,$t!==null?0:(Ae=null,le=0,vo(),je)}function Xb(){for(;$t!==null&&!tl();)Ny($t)}function Ny(e){var i=oy(e.alternate,e,Ps);e.memoizedProps=e.pendingProps,i===null?Rh(e):$t=i}function Dy(e){var i=e,o=i.alternate;switch(i.tag){case 15:case 0:i=ey(o,i,i.pendingProps,i.type,void 0,le);break;case 11:i=ey(o,i,i.pendingProps,i.type.render,i.ref,le);break;case 5:bd(i);default:uy(o,i),i=$t=yu(i,Ps),i=oy(o,i,Ps)}e.memoizedProps=e.pendingProps,i===null?Rh(e):$t=i}function kl(e,i,o,h){_r=Yi=null,bd(i),Rl=null,Pu=0;var p=i.return;try{if(zb(e,p,i,o,le)){je=1,yh(e,Xn(o,e.current)),$t=null;return}}catch(y){if(p!==null)throw $t=p,y;je=1,yh(e,Xn(o,e.current)),$t=null;return}i.flags&32768?(qt||h===1?e=!0:Pl||(le&536870912)!==0?e=!1:(Sa=e=!0,(h===2||h===9||h===3||h===6)&&(h=Qi.current,h!==null&&h.tag===13&&(h.flags|=16384))),ky(i,e)):Rh(i)}function Rh(e){var i=e;do{if((i.flags&32768)!==0){ky(i,Sa);return}e=i.return;var o=Hb(i.alternate,i,Ps);if(o!==null){$t=o;return}if(i=i.sibling,i!==null){$t=i;return}$t=i=e}while(i!==null);je===0&&(je=5)}function ky(e,i){do{var o=jb(e.alternate,e);if(o!==null){o.flags&=32767,$t=o;return}if(o=e.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!i&&(e=e.sibling,e!==null)){$t=e;return}$t=e=o}while(e!==null);je=6,$t=null}function Vy(e,i,o,h,p,y,C,x,V){e.cancelPendingCommit=null;do Ih();while(bn!==0);if((pe&6)!==0)throw Error(a(327));if(i!==null){if(i===e.current)throw Error(a(177));if(y=i.lanes|i.childLanes,y|=Ri,rl(e,o,y,C,x,V),e===Ae&&($t=Ae=null,le=0),Ol=i,Ra=e,Nl=o,im=y,rm=p,Ry=h,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,tS(mi,function(){return jy(),null})):(e.callbackNode=null,e.callbackPriority=0),h=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||h){h=rt.T,rt.T=null,p=Et.p,Et.p=2,C=pe,pe|=4;try{qb(e,i,o)}finally{pe=C,Et.p=p,rt.T=h}}bn=1,Uy(),zy(),By()}}function Uy(){if(bn===1){bn=0;var e=Ra,i=Ol,o=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||o){o=rt.T,rt.T=null;var h=Et.p;Et.p=2;var p=pe;pe|=4;try{Ty(i,e);var y=Tm,C=_o(e.containerInfo),x=y.focusedElem,V=y.selectionRange;if(C!==x&&x&&x.ownerDocument&&dl(x.ownerDocument.documentElement,x)){if(V!==null&&go(x)){var $=V.start,ot=V.end;if(ot===void 0&&(ot=$),"selectionStart"in x)x.selectionStart=$,x.selectionEnd=Math.min(ot,x.value.length);else{var ct=x.ownerDocument||document,J=ct&&ct.defaultView||window;if(J.getSelection){var et=J.getSelection(),jt=x.textContent.length,Dt=Math.min(V.start,jt),Te=V.end===void 0?Dt:Math.min(V.end,jt);!et.extend&&Dt>Te&&(C=Te,Te=Dt,Dt=C);var K=_u(x,Dt),H=_u(x,Te);if(K&&H&&(et.rangeCount!==1||et.anchorNode!==K.node||et.anchorOffset!==K.offset||et.focusNode!==H.node||et.focusOffset!==H.offset)){var W=ct.createRange();W.setStart(K.node,K.offset),et.removeAllRanges(),Dt>Te?(et.addRange(W),et.extend(H.node,H.offset)):(W.setEnd(H.node,H.offset),et.addRange(W))}}}}for(ct=[],et=x;et=et.parentNode;)et.nodeType===1&&ct.push({element:et,left:et.scrollLeft,top:et.scrollTop});for(typeof x.focus=="function"&&x.focus(),x=0;x<ct.length;x++){var lt=ct[x];lt.element.scrollLeft=lt.left,lt.element.scrollTop=lt.top}}Bh=!!vm,Tm=vm=null}finally{pe=p,Et.p=h,rt.T=o}}e.current=i,bn=2}}function zy(){if(bn===2){bn=0;var e=Ra,i=Ol,o=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||o){o=rt.T,rt.T=null;var h=Et.p;Et.p=2;var p=pe;pe|=4;try{_y(e,i.alternate,i)}finally{pe=p,Et.p=h,rt.T=o}}bn=3}}function By(){if(bn===4||bn===3){bn=0,Gs();var e=Ra,i=Ol,o=Nl,h=Ry;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?bn=5:(bn=0,Ol=Ra=null,Hy(e,e.pendingLanes));var p=e.pendingLanes;if(p===0&&(Ca=null),so(o),i=i.stateNode,Je&&typeof Je.onCommitFiberRoot=="function")try{Je.onCommitFiberRoot(Ni,i,void 0,(i.current.flags&128)===128)}catch{}if(h!==null){i=rt.T,p=Et.p,Et.p=2,rt.T=null;try{for(var y=e.onRecoverableError,C=0;C<h.length;C++){var x=h[C];y(x.value,{componentStack:x.stack})}}finally{rt.T=i,Et.p=p}}(Nl&3)!==0&&Ih(),Fr(e),p=e.pendingLanes,(o&4194090)!==0&&(p&42)!==0?e===sm?Bu++:(Bu=0,sm=e):Bu=0,Hu(0)}}function Hy(e,i){(e.pooledCacheLanes&=i)===0&&(i=e.pooledCache,i!=null&&(e.pooledCache=null,Tu(i)))}function Ih(e){return Uy(),zy(),By(),jy()}function jy(){if(bn!==5)return!1;var e=Ra,i=im;im=0;var o=so(Nl),h=rt.T,p=Et.p;try{Et.p=32>o?32:o,rt.T=null,o=rm,rm=null;var y=Ra,C=Nl;if(bn=0,Ol=Ra=null,Nl=0,(pe&6)!==0)throw Error(a(331));var x=pe;if(pe|=4,Ay(y.current),wy(y,y.current,C,o),pe=x,Hu(0,!1),Je&&typeof Je.onPostCommitFiberRoot=="function")try{Je.onPostCommitFiberRoot(Ni,y)}catch{}return!0}finally{Et.p=p,rt.T=h,Hy(e,i)}}function qy(e,i,o){i=Xn(o,i),i=Vd(e.stateNode,i,2),e=ga(e,i,2),e!==null&&(xe(e,2),Fr(e))}function we(e,i,o){if(e.tag===3)qy(e,e,o);else for(;i!==null;){if(i.tag===3){qy(i,e,o);break}else if(i.tag===1){var h=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(Ca===null||!Ca.has(h))){e=Xn(o,e),o=Kg(2),h=ga(i,o,2),h!==null&&(Yg(o,h,i,e),xe(h,2),Fr(h));break}}i=i.return}}function um(e,i,o){var h=e.pingCache;if(h===null){h=e.pingCache=new Zb;var p=new Set;h.set(i,p)}else p=h.get(i),p===void 0&&(p=new Set,h.set(i,p));p.has(o)||(Jd=!0,p.add(o),e=Wb.bind(null,e,i,o),i.then(e,e))}function Wb(e,i,o){var h=e.pingCache;h!==null&&h.delete(i),e.pingedLanes|=e.suspendedLanes&o,e.warmLanes&=~o,Ae===e&&(le&o)===o&&(je===4||je===3&&(le&62914560)===le&&300>ln()-nm?(pe&2)===0&&Dl(e,0):tm|=o,Ml===le&&(Ml=0)),Fr(e)}function Fy(e,i){i===0&&(i=ir()),e=ha(e,i),e!==null&&(xe(e,i),Fr(e))}function $b(e){var i=e.memoizedState,o=0;i!==null&&(o=i.retryLane),Fy(e,o)}function Jb(e,i){var o=0;switch(e.tag){case 13:var h=e.stateNode,p=e.memoizedState;p!==null&&(o=p.retryLane);break;case 19:h=e.stateNode;break;case 22:h=e.stateNode._retryCache;break;default:throw Error(a(314))}h!==null&&h.delete(i),Fy(e,o)}function tS(e,i){return nr(e,i)}var Lh=null,Vl=null,cm=!1,xh=!1,hm=!1,Mo=0;function Fr(e){e!==Vl&&e.next===null&&(Vl===null?Lh=Vl=e:Vl=Vl.next=e),xh=!0,cm||(cm=!0,nS())}function Hu(e,i){if(!hm&&xh){hm=!0;do for(var o=!1,h=Lh;h!==null;){if(e!==0){var p=h.pendingLanes;if(p===0)var y=0;else{var C=h.suspendedLanes,x=h.pingedLanes;y=(1<<31-En(42|e)+1)-1,y&=p&~(C&~x),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(o=!0,Yy(h,y))}else y=le,y=ei(h,h===Ae?y:0,h.cancelPendingCommit!==null||h.timeoutHandle!==-1),(y&3)===0||ni(h,y)||(o=!0,Yy(h,y));h=h.next}while(o);hm=!1}}function eS(){Gy()}function Gy(){xh=cm=!1;var e=0;Mo!==0&&(cS()&&(e=Mo),Mo=0);for(var i=ln(),o=null,h=Lh;h!==null;){var p=h.next,y=Zy(h,i);y===0?(h.next=null,o===null?Lh=p:o.next=p,p===null&&(Vl=o)):(o=h,(e!==0||(y&3)!==0)&&(xh=!0)),h=p}Hu(e)}function Zy(e,i){for(var o=e.suspendedLanes,h=e.pingedLanes,p=e.expirationTimes,y=e.pendingLanes&-62914561;0<y;){var C=31-En(y),x=1<<C,V=p[C];V===-1?((x&o)===0||(x&h)!==0)&&(p[C]=Ks(x,i)):V<=i&&(e.expiredLanes|=x),y&=~x}if(i=Ae,o=le,o=ei(e,e===i?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),h=e.callbackNode,o===0||e===i&&(_e===2||_e===9)||e.cancelPendingCommit!==null)return h!==null&&h!==null&&Fs(h),e.callbackNode=null,e.callbackPriority=0;if((o&3)===0||ni(e,o)){if(i=o&-o,i===e.callbackPriority)return i;switch(h!==null&&Fs(h),so(o)){case 2:case 8:o=Fe;break;case 32:o=mi;break;case 268435456:o=Zs;break;default:o=mi}return h=Ky.bind(null,e),o=nr(o,h),e.callbackPriority=i,e.callbackNode=o,i}return h!==null&&h!==null&&Fs(h),e.callbackPriority=2,e.callbackNode=null,2}function Ky(e,i){if(bn!==0&&bn!==5)return e.callbackNode=null,e.callbackPriority=0,null;var o=e.callbackNode;if(Ih()&&e.callbackNode!==o)return null;var h=le;return h=ei(e,e===Ae?h:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),h===0?null:(Ly(e,h,i),Zy(e,ln()),e.callbackNode!=null&&e.callbackNode===o?Ky.bind(null,e):null)}function Yy(e,i){if(Ih())return null;Ly(e,i,!0)}function nS(){fS(function(){(pe&6)!==0?nr(qe,eS):Gy()})}function fm(){return Mo===0&&(Mo=io()),Mo}function Qy(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:qn(""+e)}function Xy(e,i){var o=i.ownerDocument.createElement("input");return o.name=i.name,o.value=i.value,e.id&&o.setAttribute("form",e.id),i.parentNode.insertBefore(o,i),e=new FormData(e),o.parentNode.removeChild(o),e}function iS(e,i,o,h,p){if(i==="submit"&&o&&o.stateNode===p){var y=Qy((p[tn]||null).action),C=h.submitter;C&&(i=(i=C[tn]||null)?Qy(i.formAction):C.getAttribute("formAction"),i!==null&&(y=i,C=null));var x=new Dr("action","action",null,h,p);e.push({event:x,listeners:[{instance:null,listener:function(){if(h.defaultPrevented){if(Mo!==0){var V=C?Xy(p,C):new FormData(p);Md(o,{pending:!0,data:V,method:p.method,action:y},null,V)}}else typeof y=="function"&&(x.preventDefault(),V=C?Xy(p,C):new FormData(p),Md(o,{pending:!0,data:V,method:p.method,action:y},y,V))},currentTarget:p}]})}}for(var dm=0;dm<Ts.length;dm++){var mm=Ts[dm],rS=mm.toLowerCase(),sS=mm[0].toUpperCase()+mm.slice(1);Ci(rS,"on"+sS)}Ci(Yc,"onAnimationEnd"),Ci(Ai,"onAnimationIteration"),Ci(yo,"onAnimationStart"),Ci("dblclick","onDoubleClick"),Ci("focusin","onFocus"),Ci("focusout","onBlur"),Ci(od,"onTransitionRun"),Ci(gl,"onTransitionStart"),Ci(ld,"onTransitionCancel"),Ci(gu,"onTransitionEnd"),gi("onMouseEnter",["mouseout","mouseover"]),gi("onMouseLeave",["mouseout","mouseover"]),gi("onPointerEnter",["pointerout","pointerover"]),gi("onPointerLeave",["pointerout","pointerover"]),Vi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Vi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Vi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Vi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Vi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Vi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ju="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),aS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ju));function Wy(e,i){i=(i&4)!==0;for(var o=0;o<e.length;o++){var h=e[o],p=h.event;h=h.listeners;t:{var y=void 0;if(i)for(var C=h.length-1;0<=C;C--){var x=h[C],V=x.instance,$=x.currentTarget;if(x=x.listener,V!==y&&p.isPropagationStopped())break t;y=x,p.currentTarget=$;try{y(p)}catch(ot){gh(ot)}p.currentTarget=null,y=V}else for(C=0;C<h.length;C++){if(x=h[C],V=x.instance,$=x.currentTarget,x=x.listener,V!==y&&p.isPropagationStopped())break t;y=x,p.currentTarget=$;try{y(p)}catch(ot){gh(ot)}p.currentTarget=null,y=V}}}}function Jt(e,i){var o=i[un];o===void 0&&(o=i[un]=new Set);var h=e+"__bubble";o.has(h)||($y(i,e,2,!1),o.add(h))}function pm(e,i,o){var h=0;i&&(h|=4),$y(o,e,h,i)}var Ph="_reactListening"+Math.random().toString(36).slice(2);function _m(e){if(!e[Ph]){e[Ph]=!0,al.forEach(function(o){o!=="selectionchange"&&(aS.has(o)||pm(o,!1,e),pm(o,!0,e))});var i=e.nodeType===9?e:e.ownerDocument;i===null||i[Ph]||(i[Ph]=!0,pm("selectionchange",!1,i))}}function $y(e,i,o,h){switch(wv(i)){case 2:var p=OS;break;case 8:p=NS;break;default:p=xm}o=p.bind(null,i,o,e),p=void 0,!yi||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(p=!0),h?p!==void 0?e.addEventListener(i,o,{capture:!0,passive:p}):e.addEventListener(i,o,!0):p!==void 0?e.addEventListener(i,o,{passive:p}):e.addEventListener(i,o,!1)}function gm(e,i,o,h,p){var y=h;if((i&1)===0&&(i&2)===0&&h!==null)t:for(;;){if(h===null)return;var C=h.tag;if(C===3||C===4){var x=h.stateNode.containerInfo;if(x===p)break;if(C===4)for(C=h.return;C!==null;){var V=C.tag;if((V===3||V===4)&&C.stateNode.containerInfo===p)return;C=C.return}for(;x!==null;){if(C=ri(x),C===null)return;if(V=C.tag,V===5||V===6||V===26||V===27){h=y=C;continue t}x=x.parentNode}}h=h.return}fn(function(){var $=y,ot=Mr(o),ct=[];t:{var J=Qc.get(e);if(J!==void 0){var et=Dr,jt=e;switch(e){case"keypress":if(Ie(o)===0)break t;case"keydown":case"keyup":et=ea;break;case"focusin":jt="focus",et=Ws;break;case"focusout":jt="blur",et=Ws;break;case"beforeblur":case"afterblur":et=Ws;break;case"click":if(o.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":et=vi;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":et=ul;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":et=kr;break;case Yc:case Ai:case yo:et=uo;break;case gu:et=E;break;case"scroll":case"scrollend":et=ps;break;case"wheel":et=P;break;case"copy":case"cut":case"paste":et=$s;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":et=na;break;case"toggle":case"beforetoggle":et=tt}var Dt=(i&4)!==0,Te=!Dt&&(e==="scroll"||e==="scrollend"),K=Dt?J!==null?J+"Capture":null:J;Dt=[];for(var H=$,W;H!==null;){var lt=H;if(W=lt.stateNode,lt=lt.tag,lt!==5&&lt!==26&&lt!==27||W===null||K===null||(lt=ae(H,K),lt!=null&&Dt.push(qu(H,lt,W))),Te)break;H=H.return}0<Dt.length&&(J=new et(J,jt,null,o,ot),ct.push({event:J,listeners:Dt}))}}if((i&7)===0){t:{if(J=e==="mouseover"||e==="pointerover",et=e==="mouseout"||e==="pointerout",J&&o!==ms&&(jt=o.relatedTarget||o.fromElement)&&(ri(jt)||jt[sr]))break t;if((et||J)&&(J=ot.window===ot?ot:(J=ot.ownerDocument)?J.defaultView||J.parentWindow:window,et?(jt=o.relatedTarget||o.toElement,et=$,jt=jt?ri(jt):null,jt!==null&&(Te=u(jt),Dt=jt.tag,jt!==Te||Dt!==5&&Dt!==27&&Dt!==6)&&(jt=null)):(et=null,jt=$),et!==jt)){if(Dt=vi,lt="onMouseLeave",K="onMouseEnter",H="mouse",(e==="pointerout"||e==="pointerover")&&(Dt=na,lt="onPointerLeave",K="onPointerEnter",H="pointer"),Te=et==null?J:zn(et),W=jt==null?J:zn(jt),J=new Dt(lt,H+"leave",et,o,ot),J.target=Te,J.relatedTarget=W,lt=null,ri(ot)===$&&(Dt=new Dt(K,H+"enter",jt,o,ot),Dt.target=W,Dt.relatedTarget=Te,lt=Dt),Te=lt,et&&jt)e:{for(Dt=et,K=jt,H=0,W=Dt;W;W=Ul(W))H++;for(W=0,lt=K;lt;lt=Ul(lt))W++;for(;0<H-W;)Dt=Ul(Dt),H--;for(;0<W-H;)K=Ul(K),W--;for(;H--;){if(Dt===K||K!==null&&Dt===K.alternate)break e;Dt=Ul(Dt),K=Ul(K)}Dt=null}else Dt=null;et!==null&&Jy(ct,J,et,Dt,!1),jt!==null&&Te!==null&&Jy(ct,Te,jt,Dt,!0)}}t:{if(J=$?zn($):window,et=J.nodeName&&J.nodeName.toLowerCase(),et==="select"||et==="input"&&J.type==="file")var Pt=sa;else if(ys(J))if(du)Pt=ad;else{Pt=sd;var Xt=pu}else et=J.nodeName,!et||et.toLowerCase()!=="input"||J.type!=="checkbox"&&J.type!=="radio"?$&&Pr($.elementType)&&(Pt=sa):Pt=pr;if(Pt&&(Pt=Pt(e,$))){Fc(ct,Pt,o,ot);break t}Xt&&Xt(e,J,$),e==="focusout"&&$&&J.type==="number"&&$.memoizedProps.value!=null&&xr(J,"number",J.value)}switch(Xt=$?zn($):window,e){case"focusin":(ys(Xt)||Xt.contentEditable==="true")&&(Si=Xt,la=$,vs=null);break;case"focusout":vs=la=Si=null;break;case"mousedown":pl=!0;break;case"contextmenu":case"mouseup":case"dragend":pl=!1,Zc(ct,o,ot);break;case"selectionchange":if(ml)break;case"keydown":case"keyup":Zc(ct,o,ot)}var Ot;if(Ut)t:{switch(e){case"compositionstart":var zt="onCompositionStart";break t;case"compositionend":zt="onCompositionEnd";break t;case"compositionupdate":zt="onCompositionUpdate";break t}zt=void 0}else wi?Zn(e,o)&&(zt="onCompositionEnd"):e==="keydown"&&o.keyCode===229&&(zt="onCompositionStart");zt&&(Pe&&o.locale!=="ko"&&(wi||zt!=="onCompositionStart"?zt==="onCompositionEnd"&&wi&&(Ot=Nr()):(xn=ot,oe="value"in xn?xn.value:xn.textContent,wi=!0)),Xt=Mh($,zt),0<Xt.length&&(zt=new Pn(zt,e,null,o,ot),ct.push({event:zt,listeners:Xt}),Ot?zt.data=Ot:(Ot=Ei(o),Ot!==null&&(zt.data=Ot)))),(Ot=he?ia(e,o):rd(e,o))&&(zt=Mh($,"onBeforeInput"),0<zt.length&&(Xt=new Pn("onBeforeInput","beforeinput",null,o,ot),ct.push({event:Xt,listeners:zt}),Xt.data=Ot)),iS(ct,e,$,o,ot)}Wy(ct,i)})}function qu(e,i,o){return{instance:e,listener:i,currentTarget:o}}function Mh(e,i){for(var o=i+"Capture",h=[];e!==null;){var p=e,y=p.stateNode;if(p=p.tag,p!==5&&p!==26&&p!==27||y===null||(p=ae(e,o),p!=null&&h.unshift(qu(e,p,y)),p=ae(e,i),p!=null&&h.push(qu(e,p,y))),e.tag===3)return h;e=e.return}return[]}function Ul(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Jy(e,i,o,h,p){for(var y=i._reactName,C=[];o!==null&&o!==h;){var x=o,V=x.alternate,$=x.stateNode;if(x=x.tag,V!==null&&V===h)break;x!==5&&x!==26&&x!==27||$===null||(V=$,p?($=ae(o,y),$!=null&&C.unshift(qu(o,$,V))):p||($=ae(o,y),$!=null&&C.push(qu(o,$,V)))),o=o.return}C.length!==0&&e.push({event:i,listeners:C})}var oS=/\r\n?/g,lS=/\u0000|\uFFFD/g;function tv(e){return(typeof e=="string"?e:""+e).replace(oS,`
`).replace(lS,"")}function ev(e,i){return i=tv(i),tv(e)===i}function Oh(){}function ve(e,i,o,h,p,y){switch(o){case"children":typeof h=="string"?i==="body"||i==="textarea"&&h===""||hn(e,h):(typeof h=="number"||typeof h=="bigint")&&i!=="body"&&hn(e,""+h);break;case"className":cs(e,"class",h);break;case"tabIndex":cs(e,"tabindex",h);break;case"dir":case"role":case"viewBox":case"width":case"height":cs(e,o,h);break;case"style":cr(e,h,y);break;case"data":if(i!=="object"){cs(e,"data",h);break}case"src":case"href":if(h===""&&(i!=="a"||o!=="href")){e.removeAttribute(o);break}if(h==null||typeof h=="function"||typeof h=="symbol"||typeof h=="boolean"){e.removeAttribute(o);break}h=qn(""+h),e.setAttribute(o,h);break;case"action":case"formAction":if(typeof h=="function"){e.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(o==="formAction"?(i!=="input"&&ve(e,i,"name",p.name,p,null),ve(e,i,"formEncType",p.formEncType,p,null),ve(e,i,"formMethod",p.formMethod,p,null),ve(e,i,"formTarget",p.formTarget,p,null)):(ve(e,i,"encType",p.encType,p,null),ve(e,i,"method",p.method,p,null),ve(e,i,"target",p.target,p,null)));if(h==null||typeof h=="symbol"||typeof h=="boolean"){e.removeAttribute(o);break}h=qn(""+h),e.setAttribute(o,h);break;case"onClick":h!=null&&(e.onclick=Oh);break;case"onScroll":h!=null&&Jt("scroll",e);break;case"onScrollEnd":h!=null&&Jt("scrollend",e);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(a(61));if(o=h.__html,o!=null){if(p.children!=null)throw Error(a(60));e.innerHTML=o}}break;case"multiple":e.multiple=h&&typeof h!="function"&&typeof h!="symbol";break;case"muted":e.muted=h&&typeof h!="function"&&typeof h!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(h==null||typeof h=="function"||typeof h=="boolean"||typeof h=="symbol"){e.removeAttribute("xlink:href");break}o=qn(""+h),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":h!=null&&typeof h!="function"&&typeof h!="symbol"?e.setAttribute(o,""+h):e.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":h&&typeof h!="function"&&typeof h!="symbol"?e.setAttribute(o,""):e.removeAttribute(o);break;case"capture":case"download":h===!0?e.setAttribute(o,""):h!==!1&&h!=null&&typeof h!="function"&&typeof h!="symbol"?e.setAttribute(o,h):e.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":h!=null&&typeof h!="function"&&typeof h!="symbol"&&!isNaN(h)&&1<=h?e.setAttribute(o,h):e.removeAttribute(o);break;case"rowSpan":case"start":h==null||typeof h=="function"||typeof h=="symbol"||isNaN(h)?e.removeAttribute(o):e.setAttribute(o,h);break;case"popover":Jt("beforetoggle",e),Jt("toggle",e),us(e,"popover",h);break;case"xlinkActuate":si(e,"http://www.w3.org/1999/xlink","xlink:actuate",h);break;case"xlinkArcrole":si(e,"http://www.w3.org/1999/xlink","xlink:arcrole",h);break;case"xlinkRole":si(e,"http://www.w3.org/1999/xlink","xlink:role",h);break;case"xlinkShow":si(e,"http://www.w3.org/1999/xlink","xlink:show",h);break;case"xlinkTitle":si(e,"http://www.w3.org/1999/xlink","xlink:title",h);break;case"xlinkType":si(e,"http://www.w3.org/1999/xlink","xlink:type",h);break;case"xmlBase":si(e,"http://www.w3.org/XML/1998/namespace","xml:base",h);break;case"xmlLang":si(e,"http://www.w3.org/XML/1998/namespace","xml:lang",h);break;case"xmlSpace":si(e,"http://www.w3.org/XML/1998/namespace","xml:space",h);break;case"is":us(e,"is",h);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=Qs.get(o)||o,us(e,o,h))}}function ym(e,i,o,h,p,y){switch(o){case"style":cr(e,h,y);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(a(61));if(o=h.__html,o!=null){if(p.children!=null)throw Error(a(60));e.innerHTML=o}}break;case"children":typeof h=="string"?hn(e,h):(typeof h=="number"||typeof h=="bigint")&&hn(e,""+h);break;case"onScroll":h!=null&&Jt("scroll",e);break;case"onScrollEnd":h!=null&&Jt("scrollend",e);break;case"onClick":h!=null&&(e.onclick=Oh);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!os.hasOwnProperty(o))t:{if(o[0]==="o"&&o[1]==="n"&&(p=o.endsWith("Capture"),i=o.slice(2,p?o.length-7:void 0),y=e[tn]||null,y=y!=null?y[o]:null,typeof y=="function"&&e.removeEventListener(i,y,p),typeof h=="function")){typeof y!="function"&&y!==null&&(o in e?e[o]=null:e.hasAttribute(o)&&e.removeAttribute(o)),e.addEventListener(i,h,p);break t}o in e?e[o]=h:h===!0?e.setAttribute(o,""):us(e,o,h)}}}function Sn(e,i,o){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Jt("error",e),Jt("load",e);var h=!1,p=!1,y;for(y in o)if(o.hasOwnProperty(y)){var C=o[y];if(C!=null)switch(y){case"src":h=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:ve(e,i,y,C,o,null)}}p&&ve(e,i,"srcSet",o.srcSet,o,null),h&&ve(e,i,"src",o.src,o,null);return;case"input":Jt("invalid",e);var x=y=C=p=null,V=null,$=null;for(h in o)if(o.hasOwnProperty(h)){var ot=o[h];if(ot!=null)switch(h){case"name":p=ot;break;case"type":C=ot;break;case"checked":V=ot;break;case"defaultChecked":$=ot;break;case"value":y=ot;break;case"defaultValue":x=ot;break;case"children":case"dangerouslySetInnerHTML":if(ot!=null)throw Error(a(137,i));break;default:ve(e,i,h,ot,o,null)}}oo(e,y,x,V,$,C,p,!1),Hi(e);return;case"select":Jt("invalid",e),h=C=y=null;for(p in o)if(o.hasOwnProperty(p)&&(x=o[p],x!=null))switch(p){case"value":y=x;break;case"defaultValue":C=x;break;case"multiple":h=x;default:ve(e,i,p,x,o,null)}i=y,o=C,e.multiple=!!h,i!=null?Ln(e,!!h,i,!1):o!=null&&Ln(e,!!h,o,!0);return;case"textarea":Jt("invalid",e),y=p=h=null;for(C in o)if(o.hasOwnProperty(C)&&(x=o[C],x!=null))switch(C){case"value":h=x;break;case"defaultValue":p=x;break;case"children":y=x;break;case"dangerouslySetInnerHTML":if(x!=null)throw Error(a(91));break;default:ve(e,i,C,x,o,null)}ji(e,h,p,y),Hi(e);return;case"option":for(V in o)if(o.hasOwnProperty(V)&&(h=o[V],h!=null))switch(V){case"selected":e.selected=h&&typeof h!="function"&&typeof h!="symbol";break;default:ve(e,i,V,h,o,null)}return;case"dialog":Jt("beforetoggle",e),Jt("toggle",e),Jt("cancel",e),Jt("close",e);break;case"iframe":case"object":Jt("load",e);break;case"video":case"audio":for(h=0;h<ju.length;h++)Jt(ju[h],e);break;case"image":Jt("error",e),Jt("load",e);break;case"details":Jt("toggle",e);break;case"embed":case"source":case"link":Jt("error",e),Jt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for($ in o)if(o.hasOwnProperty($)&&(h=o[$],h!=null))switch($){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:ve(e,i,$,h,o,null)}return;default:if(Pr(i)){for(ot in o)o.hasOwnProperty(ot)&&(h=o[ot],h!==void 0&&ym(e,i,ot,h,o,void 0));return}}for(x in o)o.hasOwnProperty(x)&&(h=o[x],h!=null&&ve(e,i,x,h,o,null))}function uS(e,i,o,h){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,y=null,C=null,x=null,V=null,$=null,ot=null;for(et in o){var ct=o[et];if(o.hasOwnProperty(et)&&ct!=null)switch(et){case"checked":break;case"value":break;case"defaultValue":V=ct;default:h.hasOwnProperty(et)||ve(e,i,et,null,h,ct)}}for(var J in h){var et=h[J];if(ct=o[J],h.hasOwnProperty(J)&&(et!=null||ct!=null))switch(J){case"type":y=et;break;case"name":p=et;break;case"checked":$=et;break;case"defaultChecked":ot=et;break;case"value":C=et;break;case"defaultValue":x=et;break;case"children":case"dangerouslySetInnerHTML":if(et!=null)throw Error(a(137,i));break;default:et!==ct&&ve(e,i,J,et,h,ct)}}cn(e,C,x,V,$,ot,y,p);return;case"select":et=C=x=J=null;for(y in o)if(V=o[y],o.hasOwnProperty(y)&&V!=null)switch(y){case"value":break;case"multiple":et=V;default:h.hasOwnProperty(y)||ve(e,i,y,null,h,V)}for(p in h)if(y=h[p],V=o[p],h.hasOwnProperty(p)&&(y!=null||V!=null))switch(p){case"value":J=y;break;case"defaultValue":x=y;break;case"multiple":C=y;default:y!==V&&ve(e,i,p,y,h,V)}i=x,o=C,h=et,J!=null?Ln(e,!!o,J,!1):!!h!=!!o&&(i!=null?Ln(e,!!o,i,!0):Ln(e,!!o,o?[]:"",!1));return;case"textarea":et=J=null;for(x in o)if(p=o[x],o.hasOwnProperty(x)&&p!=null&&!h.hasOwnProperty(x))switch(x){case"value":break;case"children":break;default:ve(e,i,x,null,h,p)}for(C in h)if(p=h[C],y=o[C],h.hasOwnProperty(C)&&(p!=null||y!=null))switch(C){case"value":J=p;break;case"defaultValue":et=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(a(91));break;default:p!==y&&ve(e,i,C,p,h,y)}Re(e,J,et);return;case"option":for(var jt in o)if(J=o[jt],o.hasOwnProperty(jt)&&J!=null&&!h.hasOwnProperty(jt))switch(jt){case"selected":e.selected=!1;break;default:ve(e,i,jt,null,h,J)}for(V in h)if(J=h[V],et=o[V],h.hasOwnProperty(V)&&J!==et&&(J!=null||et!=null))switch(V){case"selected":e.selected=J&&typeof J!="function"&&typeof J!="symbol";break;default:ve(e,i,V,J,h,et)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Dt in o)J=o[Dt],o.hasOwnProperty(Dt)&&J!=null&&!h.hasOwnProperty(Dt)&&ve(e,i,Dt,null,h,J);for($ in h)if(J=h[$],et=o[$],h.hasOwnProperty($)&&J!==et&&(J!=null||et!=null))switch($){case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(a(137,i));break;default:ve(e,i,$,J,h,et)}return;default:if(Pr(i)){for(var Te in o)J=o[Te],o.hasOwnProperty(Te)&&J!==void 0&&!h.hasOwnProperty(Te)&&ym(e,i,Te,void 0,h,J);for(ot in h)J=h[ot],et=o[ot],!h.hasOwnProperty(ot)||J===et||J===void 0&&et===void 0||ym(e,i,ot,J,h,et);return}}for(var K in o)J=o[K],o.hasOwnProperty(K)&&J!=null&&!h.hasOwnProperty(K)&&ve(e,i,K,null,h,J);for(ct in h)J=h[ct],et=o[ct],!h.hasOwnProperty(ct)||J===et||J==null&&et==null||ve(e,i,ct,J,h,et)}var vm=null,Tm=null;function Nh(e){return e.nodeType===9?e:e.ownerDocument}function nv(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function iv(e,i){if(e===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&i==="foreignObject"?0:e}function Em(e,i){return e==="textarea"||e==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var wm=null;function cS(){var e=window.event;return e&&e.type==="popstate"?e===wm?!1:(wm=e,!0):(wm=null,!1)}var rv=typeof setTimeout=="function"?setTimeout:void 0,hS=typeof clearTimeout=="function"?clearTimeout:void 0,sv=typeof Promise=="function"?Promise:void 0,fS=typeof queueMicrotask=="function"?queueMicrotask:typeof sv<"u"?function(e){return sv.resolve(null).then(e).catch(dS)}:rv;function dS(e){setTimeout(function(){throw e})}function La(e){return e==="head"}function av(e,i){var o=i,h=0,p=0;do{var y=o.nextSibling;if(e.removeChild(o),y&&y.nodeType===8)if(o=y.data,o==="/$"){if(0<h&&8>h){o=h;var C=e.ownerDocument;if(o&1&&Fu(C.documentElement),o&2&&Fu(C.body),o&4)for(o=C.head,Fu(o),C=o.firstChild;C;){var x=C.nextSibling,V=C.nodeName;C[ar]||V==="SCRIPT"||V==="STYLE"||V==="LINK"&&C.rel.toLowerCase()==="stylesheet"||o.removeChild(C),C=x}}if(p===0){e.removeChild(y),$u(i);return}p--}else o==="$"||o==="$?"||o==="$!"?p++:h=o.charCodeAt(0)-48;else h=0;o=y}while(o);$u(i)}function bm(e){var i=e.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var o=i;switch(i=i.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":bm(o),as(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}e.removeChild(o)}}function mS(e,i,o,h){for(;e.nodeType===1;){var p=o;if(e.nodeName.toLowerCase()!==i.toLowerCase()){if(!h&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(h){if(!e[ar])switch(i){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(y=e.getAttribute("rel"),y==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(y!==p.rel||e.getAttribute("href")!==(p.href==null||p.href===""?null:p.href)||e.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||e.getAttribute("title")!==(p.title==null?null:p.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(y=e.getAttribute("src"),(y!==(p.src==null?null:p.src)||e.getAttribute("type")!==(p.type==null?null:p.type)||e.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&y&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(i==="input"&&e.type==="hidden"){var y=p.name==null?null:""+p.name;if(p.type==="hidden"&&e.getAttribute("name")===y)return e}else return e;if(e=vr(e.nextSibling),e===null)break}return null}function pS(e,i,o){if(i==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!o||(e=vr(e.nextSibling),e===null))return null;return e}function Sm(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function _S(e,i){var o=e.ownerDocument;if(e.data!=="$?"||o.readyState==="complete")i();else{var h=function(){i(),o.removeEventListener("DOMContentLoaded",h)};o.addEventListener("DOMContentLoaded",h),e._reactRetry=h}}function vr(e){for(;e!=null;e=e.nextSibling){var i=e.nodeType;if(i===1||i===3)break;if(i===8){if(i=e.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return e}var Am=null;function ov(e){e=e.previousSibling;for(var i=0;e;){if(e.nodeType===8){var o=e.data;if(o==="$"||o==="$!"||o==="$?"){if(i===0)return e;i--}else o==="/$"&&i++}e=e.previousSibling}return null}function lv(e,i,o){switch(i=Nh(o),e){case"html":if(e=i.documentElement,!e)throw Error(a(452));return e;case"head":if(e=i.head,!e)throw Error(a(453));return e;case"body":if(e=i.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function Fu(e){for(var i=e.attributes;i.length;)e.removeAttributeNode(i[0]);as(e)}var Wi=new Map,uv=new Set;function Dh(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Ms=Et.d;Et.d={f:gS,r:yS,D:vS,C:TS,L:ES,m:wS,X:SS,S:bS,M:AS};function gS(){var e=Ms.f(),i=Ch();return e||i}function yS(e){var i=_i(e);i!==null&&i.tag===5&&i.type==="form"?Lg(i):Ms.r(e)}var zl=typeof document>"u"?null:document;function cv(e,i,o){var h=zl;if(h&&typeof i=="string"&&i){var p=Ve(i);p='link[rel="'+e+'"][href="'+p+'"]',typeof o=="string"&&(p+='[crossorigin="'+o+'"]'),uv.has(p)||(uv.add(p),e={rel:e,crossOrigin:o,href:i},h.querySelector(p)===null&&(i=h.createElement("link"),Sn(i,"link",e),ke(i),h.head.appendChild(i)))}}function vS(e){Ms.D(e),cv("dns-prefetch",e,null)}function TS(e,i){Ms.C(e,i),cv("preconnect",e,i)}function ES(e,i,o){Ms.L(e,i,o);var h=zl;if(h&&e&&i){var p='link[rel="preload"][as="'+Ve(i)+'"]';i==="image"&&o&&o.imageSrcSet?(p+='[imagesrcset="'+Ve(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(p+='[imagesizes="'+Ve(o.imageSizes)+'"]')):p+='[href="'+Ve(e)+'"]';var y=p;switch(i){case"style":y=Bl(e);break;case"script":y=Hl(e)}Wi.has(y)||(e=w({rel:"preload",href:i==="image"&&o&&o.imageSrcSet?void 0:e,as:i},o),Wi.set(y,e),h.querySelector(p)!==null||i==="style"&&h.querySelector(Gu(y))||i==="script"&&h.querySelector(Zu(y))||(i=h.createElement("link"),Sn(i,"link",e),ke(i),h.head.appendChild(i)))}}function wS(e,i){Ms.m(e,i);var o=zl;if(o&&e){var h=i&&typeof i.as=="string"?i.as:"script",p='link[rel="modulepreload"][as="'+Ve(h)+'"][href="'+Ve(e)+'"]',y=p;switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=Hl(e)}if(!Wi.has(y)&&(e=w({rel:"modulepreload",href:e},i),Wi.set(y,e),o.querySelector(p)===null)){switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Zu(y)))return}h=o.createElement("link"),Sn(h,"link",e),ke(h),o.head.appendChild(h)}}}function bS(e,i,o){Ms.S(e,i,o);var h=zl;if(h&&e){var p=or(h).hoistableStyles,y=Bl(e);i=i||"default";var C=p.get(y);if(!C){var x={loading:0,preload:null};if(C=h.querySelector(Gu(y)))x.loading=5;else{e=w({rel:"stylesheet",href:e,"data-precedence":i},o),(o=Wi.get(y))&&Cm(e,o);var V=C=h.createElement("link");ke(V),Sn(V,"link",e),V._p=new Promise(function($,ot){V.onload=$,V.onerror=ot}),V.addEventListener("load",function(){x.loading|=1}),V.addEventListener("error",function(){x.loading|=2}),x.loading|=4,kh(C,i,h)}C={type:"stylesheet",instance:C,count:1,state:x},p.set(y,C)}}}function SS(e,i){Ms.X(e,i);var o=zl;if(o&&e){var h=or(o).hoistableScripts,p=Hl(e),y=h.get(p);y||(y=o.querySelector(Zu(p)),y||(e=w({src:e,async:!0},i),(i=Wi.get(p))&&Rm(e,i),y=o.createElement("script"),ke(y),Sn(y,"link",e),o.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},h.set(p,y))}}function AS(e,i){Ms.M(e,i);var o=zl;if(o&&e){var h=or(o).hoistableScripts,p=Hl(e),y=h.get(p);y||(y=o.querySelector(Zu(p)),y||(e=w({src:e,async:!0,type:"module"},i),(i=Wi.get(p))&&Rm(e,i),y=o.createElement("script"),ke(y),Sn(y,"link",e),o.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},h.set(p,y))}}function hv(e,i,o,h){var p=(p=vt.current)?Dh(p):null;if(!p)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(i=Bl(o.href),o=or(p).hoistableStyles,h=o.get(i),h||(h={type:"style",instance:null,count:0,state:null},o.set(i,h)),h):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){e=Bl(o.href);var y=or(p).hoistableStyles,C=y.get(e);if(C||(p=p.ownerDocument||p,C={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(e,C),(y=p.querySelector(Gu(e)))&&!y._p&&(C.instance=y,C.state.loading=5),Wi.has(e)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},Wi.set(e,o),y||CS(p,e,o,C.state))),i&&h===null)throw Error(a(528,""));return C}if(i&&h!==null)throw Error(a(529,""));return null;case"script":return i=o.async,o=o.src,typeof o=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Hl(o),o=or(p).hoistableScripts,h=o.get(i),h||(h={type:"script",instance:null,count:0,state:null},o.set(i,h)),h):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function Bl(e){return'href="'+Ve(e)+'"'}function Gu(e){return'link[rel="stylesheet"]['+e+"]"}function fv(e){return w({},e,{"data-precedence":e.precedence,precedence:null})}function CS(e,i,o,h){e.querySelector('link[rel="preload"][as="style"]['+i+"]")?h.loading=1:(i=e.createElement("link"),h.preload=i,i.addEventListener("load",function(){return h.loading|=1}),i.addEventListener("error",function(){return h.loading|=2}),Sn(i,"link",o),ke(i),e.head.appendChild(i))}function Hl(e){return'[src="'+Ve(e)+'"]'}function Zu(e){return"script[async]"+e}function dv(e,i,o){if(i.count++,i.instance===null)switch(i.type){case"style":var h=e.querySelector('style[data-href~="'+Ve(o.href)+'"]');if(h)return i.instance=h,ke(h),h;var p=w({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return h=(e.ownerDocument||e).createElement("style"),ke(h),Sn(h,"style",p),kh(h,o.precedence,e),i.instance=h;case"stylesheet":p=Bl(o.href);var y=e.querySelector(Gu(p));if(y)return i.state.loading|=4,i.instance=y,ke(y),y;h=fv(o),(p=Wi.get(p))&&Cm(h,p),y=(e.ownerDocument||e).createElement("link"),ke(y);var C=y;return C._p=new Promise(function(x,V){C.onload=x,C.onerror=V}),Sn(y,"link",h),i.state.loading|=4,kh(y,o.precedence,e),i.instance=y;case"script":return y=Hl(o.src),(p=e.querySelector(Zu(y)))?(i.instance=p,ke(p),p):(h=o,(p=Wi.get(y))&&(h=w({},o),Rm(h,p)),e=e.ownerDocument||e,p=e.createElement("script"),ke(p),Sn(p,"link",h),e.head.appendChild(p),i.instance=p);case"void":return null;default:throw Error(a(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(h=i.instance,i.state.loading|=4,kh(h,o.precedence,e));return i.instance}function kh(e,i,o){for(var h=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=h.length?h[h.length-1]:null,y=p,C=0;C<h.length;C++){var x=h[C];if(x.dataset.precedence===i)y=x;else if(y!==p)break}y?y.parentNode.insertBefore(e,y.nextSibling):(i=o.nodeType===9?o.head:o,i.insertBefore(e,i.firstChild))}function Cm(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.title==null&&(e.title=i.title)}function Rm(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.integrity==null&&(e.integrity=i.integrity)}var Vh=null;function mv(e,i,o){if(Vh===null){var h=new Map,p=Vh=new Map;p.set(o,h)}else p=Vh,h=p.get(o),h||(h=new Map,p.set(o,h));if(h.has(e))return h;for(h.set(e,null),o=o.getElementsByTagName(e),p=0;p<o.length;p++){var y=o[p];if(!(y[ar]||y[De]||e==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var C=y.getAttribute(i)||"";C=e+C;var x=h.get(C);x?x.push(y):h.set(C,[y])}}return h}function pv(e,i,o){e=e.ownerDocument||e,e.head.insertBefore(o,i==="title"?e.querySelector("head > title"):null)}function RS(e,i,o){if(o===1||i.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return e=i.disabled,typeof i.precedence=="string"&&e==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function _v(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var Ku=null;function IS(){}function LS(e,i,o){if(Ku===null)throw Error(a(475));var h=Ku;if(i.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var p=Bl(o.href),y=e.querySelector(Gu(p));if(y){e=y._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(h.count++,h=Uh.bind(h),e.then(h,h)),i.state.loading|=4,i.instance=y,ke(y);return}y=e.ownerDocument||e,o=fv(o),(p=Wi.get(p))&&Cm(o,p),y=y.createElement("link"),ke(y);var C=y;C._p=new Promise(function(x,V){C.onload=x,C.onerror=V}),Sn(y,"link",o),i.instance=y}h.stylesheets===null&&(h.stylesheets=new Map),h.stylesheets.set(i,e),(e=i.state.preload)&&(i.state.loading&3)===0&&(h.count++,i=Uh.bind(h),e.addEventListener("load",i),e.addEventListener("error",i))}}function xS(){if(Ku===null)throw Error(a(475));var e=Ku;return e.stylesheets&&e.count===0&&Im(e,e.stylesheets),0<e.count?function(i){var o=setTimeout(function(){if(e.stylesheets&&Im(e,e.stylesheets),e.unsuspend){var h=e.unsuspend;e.unsuspend=null,h()}},6e4);return e.unsuspend=i,function(){e.unsuspend=null,clearTimeout(o)}}:null}function Uh(){if(this.count--,this.count===0){if(this.stylesheets)Im(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var zh=null;function Im(e,i){e.stylesheets=null,e.unsuspend!==null&&(e.count++,zh=new Map,i.forEach(PS,e),zh=null,Uh.call(e))}function PS(e,i){if(!(i.state.loading&4)){var o=zh.get(e);if(o)var h=o.get(null);else{o=new Map,zh.set(e,o);for(var p=e.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<p.length;y++){var C=p[y];(C.nodeName==="LINK"||C.getAttribute("media")!=="not all")&&(o.set(C.dataset.precedence,C),h=C)}h&&o.set(null,h)}p=i.instance,C=p.getAttribute("data-precedence"),y=o.get(C)||h,y===h&&o.set(null,p),o.set(C,p),this.count++,h=Uh.bind(this),p.addEventListener("load",h),p.addEventListener("error",h),y?y.parentNode.insertBefore(p,y.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(p,e.firstChild)),i.state.loading|=4}}var Yu={$$typeof:st,Provider:null,Consumer:null,_currentValue:pt,_currentValue2:pt,_threadCount:0};function MS(e,i,o,h,p,y,C,x){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ss(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ss(0),this.hiddenUpdates=ss(null),this.identifierPrefix=h,this.onUncaughtError=p,this.onCaughtError=y,this.onRecoverableError=C,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=x,this.incompleteTransitions=new Map}function gv(e,i,o,h,p,y,C,x,V,$,ot,ct){return e=new MS(e,i,o,C,x,V,$,ct),i=1,y===!0&&(i|=24),y=$n(3,null,null,i),e.current=y,y.stateNode=e,i=ud(),i.refCount++,e.pooledCache=i,i.refCount++,y.memoizedState={element:h,isDehydrated:o,cache:i},dd(y),e}function yv(e){return e?(e=bs,e):bs}function vv(e,i,o,h,p,y){p=yv(p),h.context===null?h.context=p:h.pendingContext=p,h=_a(i),h.payload={element:o},y=y===void 0?null:y,y!==null&&(h.callback=y),o=ga(e,h,i),o!==null&&(Mi(o,e,i),Su(o,e,i))}function Tv(e,i){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var o=e.retryLane;e.retryLane=o!==0&&o<i?o:i}}function Lm(e,i){Tv(e,i),(e=e.alternate)&&Tv(e,i)}function Ev(e){if(e.tag===13){var i=ha(e,67108864);i!==null&&Mi(i,e,67108864),Lm(e,67108864)}}var Bh=!0;function OS(e,i,o,h){var p=rt.T;rt.T=null;var y=Et.p;try{Et.p=2,xm(e,i,o,h)}finally{Et.p=y,rt.T=p}}function NS(e,i,o,h){var p=rt.T;rt.T=null;var y=Et.p;try{Et.p=8,xm(e,i,o,h)}finally{Et.p=y,rt.T=p}}function xm(e,i,o,h){if(Bh){var p=Pm(h);if(p===null)gm(e,i,h,Hh,o),bv(e,h);else if(kS(p,e,i,o,h))h.stopPropagation();else if(bv(e,h),i&4&&-1<DS.indexOf(e)){for(;p!==null;){var y=_i(p);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var C=ti(y.pendingLanes);if(C!==0){var x=y;for(x.pendingLanes|=2,x.entangledLanes|=2;C;){var V=1<<31-En(C);x.entanglements[1]|=V,C&=~V}Fr(y),(pe&6)===0&&(Sh=ln()+500,Hu(0))}}break;case 13:x=ha(y,2),x!==null&&Mi(x,y,2),Ch(),Lm(y,2)}if(y=Pm(h),y===null&&gm(e,i,h,Hh,o),y===p)break;p=y}p!==null&&h.stopPropagation()}else gm(e,i,h,null,o)}}function Pm(e){return e=Mr(e),Mm(e)}var Hh=null;function Mm(e){if(Hh=null,e=ri(e),e!==null){var i=u(e);if(i===null)e=null;else{var o=i.tag;if(o===13){if(e=f(i),e!==null)return e;e=null}else if(o===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;e=null}else i!==e&&(e=null)}}return Hh=e,null}function wv(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(is()){case qe:return 2;case Fe:return 8;case mi:case el:return 32;case Zs:return 268435456;default:return 32}default:return 32}}var Om=!1,xa=null,Pa=null,Ma=null,Qu=new Map,Xu=new Map,Oa=[],DS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function bv(e,i){switch(e){case"focusin":case"focusout":xa=null;break;case"dragenter":case"dragleave":Pa=null;break;case"mouseover":case"mouseout":Ma=null;break;case"pointerover":case"pointerout":Qu.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Xu.delete(i.pointerId)}}function Wu(e,i,o,h,p,y){return e===null||e.nativeEvent!==y?(e={blockedOn:i,domEventName:o,eventSystemFlags:h,nativeEvent:y,targetContainers:[p]},i!==null&&(i=_i(i),i!==null&&Ev(i)),e):(e.eventSystemFlags|=h,i=e.targetContainers,p!==null&&i.indexOf(p)===-1&&i.push(p),e)}function kS(e,i,o,h,p){switch(i){case"focusin":return xa=Wu(xa,e,i,o,h,p),!0;case"dragenter":return Pa=Wu(Pa,e,i,o,h,p),!0;case"mouseover":return Ma=Wu(Ma,e,i,o,h,p),!0;case"pointerover":var y=p.pointerId;return Qu.set(y,Wu(Qu.get(y)||null,e,i,o,h,p)),!0;case"gotpointercapture":return y=p.pointerId,Xu.set(y,Wu(Xu.get(y)||null,e,i,o,h,p)),!0}return!1}function Sv(e){var i=ri(e.target);if(i!==null){var o=u(i);if(o!==null){if(i=o.tag,i===13){if(i=f(o),i!==null){e.blockedOn=i,ao(e.priority,function(){if(o.tag===13){var h=Pi();h=ro(h);var p=ha(o,h);p!==null&&Mi(p,o,h),Lm(o,h)}});return}}else if(i===3&&o.stateNode.current.memoizedState.isDehydrated){e.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}e.blockedOn=null}function jh(e){if(e.blockedOn!==null)return!1;for(var i=e.targetContainers;0<i.length;){var o=Pm(e.nativeEvent);if(o===null){o=e.nativeEvent;var h=new o.constructor(o.type,o);ms=h,o.target.dispatchEvent(h),ms=null}else return i=_i(o),i!==null&&Ev(i),e.blockedOn=o,!1;i.shift()}return!0}function Av(e,i,o){jh(e)&&o.delete(i)}function VS(){Om=!1,xa!==null&&jh(xa)&&(xa=null),Pa!==null&&jh(Pa)&&(Pa=null),Ma!==null&&jh(Ma)&&(Ma=null),Qu.forEach(Av),Xu.forEach(Av)}function qh(e,i){e.blockedOn===i&&(e.blockedOn=null,Om||(Om=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,VS)))}var Fh=null;function Cv(e){Fh!==e&&(Fh=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Fh===e&&(Fh=null);for(var i=0;i<e.length;i+=3){var o=e[i],h=e[i+1],p=e[i+2];if(typeof h!="function"){if(Mm(h||o)===null)continue;break}var y=_i(o);y!==null&&(e.splice(i,3),i-=3,Md(y,{pending:!0,data:p,method:o.method,action:h},h,p))}}))}function $u(e){function i(V){return qh(V,e)}xa!==null&&qh(xa,e),Pa!==null&&qh(Pa,e),Ma!==null&&qh(Ma,e),Qu.forEach(i),Xu.forEach(i);for(var o=0;o<Oa.length;o++){var h=Oa[o];h.blockedOn===e&&(h.blockedOn=null)}for(;0<Oa.length&&(o=Oa[0],o.blockedOn===null);)Sv(o),o.blockedOn===null&&Oa.shift();if(o=(e.ownerDocument||e).$$reactFormReplay,o!=null)for(h=0;h<o.length;h+=3){var p=o[h],y=o[h+1],C=p[tn]||null;if(typeof y=="function")C||Cv(o);else if(C){var x=null;if(y&&y.hasAttribute("formAction")){if(p=y,C=y[tn]||null)x=C.formAction;else if(Mm(p)!==null)continue}else x=C.action;typeof x=="function"?o[h+1]=x:(o.splice(h,3),h-=3),Cv(o)}}}function Nm(e){this._internalRoot=e}Gh.prototype.render=Nm.prototype.render=function(e){var i=this._internalRoot;if(i===null)throw Error(a(409));var o=i.current,h=Pi();vv(o,h,e,i,null,null)},Gh.prototype.unmount=Nm.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var i=e.containerInfo;vv(e.current,2,null,e,null,null),Ch(),i[sr]=null}};function Gh(e){this._internalRoot=e}Gh.prototype.unstable_scheduleHydration=function(e){if(e){var i=rr();e={blockedOn:null,target:e,priority:i};for(var o=0;o<Oa.length&&i!==0&&i<Oa[o].priority;o++);Oa.splice(o,0,e),o===0&&Sv(e)}};var Rv=t.version;if(Rv!=="19.1.1")throw Error(a(527,Rv,"19.1.1"));Et.findDOMNode=function(e){var i=e._reactInternals;if(i===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=g(i),e=e!==null?v(e):null,e=e===null?null:e.stateNode,e};var US={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:rt,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Zh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Zh.isDisabled&&Zh.supportsFiber)try{Ni=Zh.inject(US),Je=Zh}catch{}}return tc.createRoot=function(e,i){if(!l(e))throw Error(a(299));var o=!1,h="",p=qg,y=Fg,C=Gg,x=null;return i!=null&&(i.unstable_strictMode===!0&&(o=!0),i.identifierPrefix!==void 0&&(h=i.identifierPrefix),i.onUncaughtError!==void 0&&(p=i.onUncaughtError),i.onCaughtError!==void 0&&(y=i.onCaughtError),i.onRecoverableError!==void 0&&(C=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(x=i.unstable_transitionCallbacks)),i=gv(e,1,!1,null,null,o,h,p,y,C,x,null),e[sr]=i.current,_m(e),new Nm(i)},tc.hydrateRoot=function(e,i,o){if(!l(e))throw Error(a(299));var h=!1,p="",y=qg,C=Fg,x=Gg,V=null,$=null;return o!=null&&(o.unstable_strictMode===!0&&(h=!0),o.identifierPrefix!==void 0&&(p=o.identifierPrefix),o.onUncaughtError!==void 0&&(y=o.onUncaughtError),o.onCaughtError!==void 0&&(C=o.onCaughtError),o.onRecoverableError!==void 0&&(x=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(V=o.unstable_transitionCallbacks),o.formState!==void 0&&($=o.formState)),i=gv(e,1,!0,i,o??null,h,p,y,C,x,V,$),i.context=yv(null),o=i.current,h=Pi(),h=ro(h),p=_a(h),p.callback=null,ga(o,p,h),o=h,i.current.lanes=o,xe(i,o),Fr(i),e[sr]=i.current,_m(e),new Gh(i)},tc.version="19.1.1",tc}var Vv;function KS(){if(Vv)return Vm.exports;Vv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Vm.exports=ZS(),Vm.exports}var YS=KS();const QS=Op(YS);/**
 * react-router v7.9.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Uv="popstate";function XS(r={}){function t(l,u){let{pathname:f="/",search:_="",hash:g=""}=Zo(l.location.hash.substring(1));return!f.startsWith("/")&&!f.startsWith(".")&&(f="/"+f),np("",{pathname:f,search:_,hash:g},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function n(l,u){let f=l.document.querySelector("base"),_="";if(f&&f.getAttribute("href")){let g=l.location.href,v=g.indexOf("#");_=v===-1?g:g.slice(0,v)}return _+"#"+(typeof u=="string"?u:gc(u))}function a(l,u){tr(l.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(u)})`)}return $S(t,n,a,r)}function Ne(r,t){if(r===!1||r===null||typeof r>"u")throw new Error(t)}function tr(r,t){if(!r){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function WS(){return Math.random().toString(36).substring(2,10)}function zv(r,t){return{usr:r.state,key:r.key,idx:t}}function np(r,t,n=null,a){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof t=="string"?Zo(t):t,state:n,key:t&&t.key||a||WS()}}function gc({pathname:r="/",search:t="",hash:n=""}){return t&&t!=="?"&&(r+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function Zo(r){let t={};if(r){let n=r.indexOf("#");n>=0&&(t.hash=r.substring(n),r=r.substring(0,n));let a=r.indexOf("?");a>=0&&(t.search=r.substring(a),r=r.substring(0,a)),r&&(t.pathname=r)}return t}function $S(r,t,n,a={}){let{window:l=document.defaultView,v5Compat:u=!1}=a,f=l.history,_="POP",g=null,v=w();v==null&&(v=0,f.replaceState({...f.state,idx:v},""));function w(){return(f.state||{idx:null}).idx}function S(){_="POP";let Z=w(),it=Z==null?null:Z-v;v=Z,g&&g({action:_,location:F.location,delta:it})}function I(Z,it){_="PUSH";let ut=np(F.location,Z,it);n&&n(ut,Z),v=w()+1;let st=zv(ut,v),St=F.createHref(ut);try{f.pushState(st,"",St)}catch(Tt){if(Tt instanceof DOMException&&Tt.name==="DataCloneError")throw Tt;l.location.assign(St)}u&&g&&g({action:_,location:F.location,delta:1})}function M(Z,it){_="REPLACE";let ut=np(F.location,Z,it);n&&n(ut,Z),v=w();let st=zv(ut,v),St=F.createHref(ut);f.replaceState(st,"",St),u&&g&&g({action:_,location:F.location,delta:0})}function q(Z){return JS(Z)}let F={get action(){return _},get location(){return r(l,f)},listen(Z){if(g)throw new Error("A history only accepts one active listener");return l.addEventListener(Uv,S),g=Z,()=>{l.removeEventListener(Uv,S),g=null}},createHref(Z){return t(l,Z)},createURL:q,encodeLocation(Z){let it=q(Z);return{pathname:it.pathname,search:it.search,hash:it.hash}},push:I,replace:M,go(Z){return f.go(Z)}};return F}function JS(r,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Ne(n,"No window.location.(origin|href) available to create URL");let a=typeof r=="string"?r:gc(r);return a=a.replace(/ $/,"%20"),!t&&a.startsWith("//")&&(a=n+a),new URL(a,n)}function IE(r,t,n="/"){return tA(r,t,n,!1)}function tA(r,t,n,a){let l=typeof t=="string"?Zo(t):t,u=zs(l.pathname||"/",n);if(u==null)return null;let f=LE(r);eA(f);let _=null;for(let g=0;_==null&&g<f.length;++g){let v=fA(u);_=cA(f[g],v,a)}return _}function LE(r,t=[],n=[],a="",l=!1){let u=(f,_,g=l,v)=>{let w={relativePath:v===void 0?f.path||"":v,caseSensitive:f.caseSensitive===!0,childrenIndex:_,route:f};if(w.relativePath.startsWith("/")){if(!w.relativePath.startsWith(a)&&g)return;Ne(w.relativePath.startsWith(a),`Absolute route path "${w.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),w.relativePath=w.relativePath.slice(a.length)}let S=ks([a,w.relativePath]),I=n.concat(w);f.children&&f.children.length>0&&(Ne(f.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${S}".`),LE(f.children,t,I,S,g)),!(f.path==null&&!f.index)&&t.push({path:S,score:lA(S,f.index),routesMeta:I})};return r.forEach((f,_)=>{var g;if(f.path===""||!((g=f.path)!=null&&g.includes("?")))u(f,_);else for(let v of xE(f.path))u(f,_,!0,v)}),t}function xE(r){let t=r.split("/");if(t.length===0)return[];let[n,...a]=t,l=n.endsWith("?"),u=n.replace(/\?$/,"");if(a.length===0)return l?[u,""]:[u];let f=xE(a.join("/")),_=[];return _.push(...f.map(g=>g===""?u:[u,g].join("/"))),l&&_.push(...f),_.map(g=>r.startsWith("/")&&g===""?"/":g)}function eA(r){r.sort((t,n)=>t.score!==n.score?n.score-t.score:uA(t.routesMeta.map(a=>a.childrenIndex),n.routesMeta.map(a=>a.childrenIndex)))}var nA=/^:[\w-]+$/,iA=3,rA=2,sA=1,aA=10,oA=-2,Bv=r=>r==="*";function lA(r,t){let n=r.split("/"),a=n.length;return n.some(Bv)&&(a+=oA),t&&(a+=rA),n.filter(l=>!Bv(l)).reduce((l,u)=>l+(nA.test(u)?iA:u===""?sA:aA),a)}function uA(r,t){return r.length===t.length&&r.slice(0,-1).every((a,l)=>a===t[l])?r[r.length-1]-t[t.length-1]:0}function cA(r,t,n=!1){let{routesMeta:a}=r,l={},u="/",f=[];for(let _=0;_<a.length;++_){let g=a[_],v=_===a.length-1,w=u==="/"?t:t.slice(u.length)||"/",S=pf({path:g.relativePath,caseSensitive:g.caseSensitive,end:v},w),I=g.route;if(!S&&v&&n&&!a[a.length-1].route.index&&(S=pf({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},w)),!S)return null;Object.assign(l,S.params),f.push({params:l,pathname:ks([u,S.pathname]),pathnameBase:_A(ks([u,S.pathnameBase])),route:I}),S.pathnameBase!=="/"&&(u=ks([u,S.pathnameBase]))}return f}function pf(r,t){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,a]=hA(r.path,r.caseSensitive,r.end),l=t.match(n);if(!l)return null;let u=l[0],f=u.replace(/(.)\/+$/,"$1"),_=l.slice(1);return{params:a.reduce((v,{paramName:w,isOptional:S},I)=>{if(w==="*"){let q=_[I]||"";f=u.slice(0,u.length-q.length).replace(/(.)\/+$/,"$1")}const M=_[I];return S&&!M?v[w]=void 0:v[w]=(M||"").replace(/%2F/g,"/"),v},{}),pathname:u,pathnameBase:f,pattern:r}}function hA(r,t=!1,n=!0){tr(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let a=[],l="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,_,g)=>(a.push({paramName:_,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(a.push({paramName:"*"}),l+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?l+="\\/*$":r!==""&&r!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,t?void 0:"i"),a]}function fA(r){try{return r.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return tr(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),r}}function zs(r,t){if(t==="/")return r;if(!r.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,a=r.charAt(n);return a&&a!=="/"?null:r.slice(n)||"/"}function dA(r,t="/"){let{pathname:n,search:a="",hash:l=""}=typeof r=="string"?Zo(r):r;return{pathname:n?n.startsWith("/")?n:mA(n,t):t,search:gA(a),hash:yA(l)}}function mA(r,t){let n=t.replace(/\/+$/,"").split("/");return r.split("/").forEach(l=>{l===".."?n.length>1&&n.pop():l!=="."&&n.push(l)}),n.length>1?n.join("/"):"/"}function Hm(r,t,n,a){return`Cannot include a '${r}' character in a manually specified \`to.${t}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function pA(r){return r.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Dp(r){let t=pA(r);return t.map((n,a)=>a===t.length-1?n.pathname:n.pathnameBase)}function kp(r,t,n,a=!1){let l;typeof r=="string"?l=Zo(r):(l={...r},Ne(!l.pathname||!l.pathname.includes("?"),Hm("?","pathname","search",l)),Ne(!l.pathname||!l.pathname.includes("#"),Hm("#","pathname","hash",l)),Ne(!l.search||!l.search.includes("#"),Hm("#","search","hash",l)));let u=r===""||l.pathname==="",f=u?"/":l.pathname,_;if(f==null)_=n;else{let S=t.length-1;if(!a&&f.startsWith("..")){let I=f.split("/");for(;I[0]==="..";)I.shift(),S-=1;l.pathname=I.join("/")}_=S>=0?t[S]:"/"}let g=dA(l,_),v=f&&f!=="/"&&f.endsWith("/"),w=(u||f===".")&&n.endsWith("/");return!g.pathname.endsWith("/")&&(v||w)&&(g.pathname+="/"),g}var ks=r=>r.join("/").replace(/\/\/+/g,"/"),_A=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),gA=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,yA=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function vA(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var PE=["POST","PUT","PATCH","DELETE"];new Set(PE);var TA=["GET",...PE];new Set(TA);var ru=X.createContext(null);ru.displayName="DataRouter";var Vf=X.createContext(null);Vf.displayName="DataRouterState";X.createContext(!1);var ME=X.createContext({isTransitioning:!1});ME.displayName="ViewTransition";var EA=X.createContext(new Map);EA.displayName="Fetchers";var wA=X.createContext(null);wA.displayName="Await";var Cr=X.createContext(null);Cr.displayName="Navigation";var Lc=X.createContext(null);Lc.displayName="Location";var Jr=X.createContext({outlet:null,matches:[],isDataRoute:!1});Jr.displayName="Route";var Vp=X.createContext(null);Vp.displayName="RouteError";function bA(r,{relative:t}={}){Ne(su(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:a}=X.useContext(Cr),{hash:l,pathname:u,search:f}=Pc(r,{relative:t}),_=u;return n!=="/"&&(_=u==="/"?n:ks([n,u])),a.createHref({pathname:_,search:f,hash:l})}function su(){return X.useContext(Lc)!=null}function $a(){return Ne(su(),"useLocation() may be used only in the context of a <Router> component."),X.useContext(Lc).location}var OE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function NE(r){X.useContext(Cr).static||X.useLayoutEffect(r)}function xc(){let{isDataRoute:r}=X.useContext(Jr);return r?kA():SA()}function SA(){Ne(su(),"useNavigate() may be used only in the context of a <Router> component.");let r=X.useContext(ru),{basename:t,navigator:n}=X.useContext(Cr),{matches:a}=X.useContext(Jr),{pathname:l}=$a(),u=JSON.stringify(Dp(a)),f=X.useRef(!1);return NE(()=>{f.current=!0}),X.useCallback((g,v={})=>{if(tr(f.current,OE),!f.current)return;if(typeof g=="number"){n.go(g);return}let w=kp(g,JSON.parse(u),l,v.relative==="path");r==null&&t!=="/"&&(w.pathname=w.pathname==="/"?t:ks([t,w.pathname])),(v.replace?n.replace:n.push)(w,v.state,v)},[t,n,u,l,r])}X.createContext(null);function Pc(r,{relative:t}={}){let{matches:n}=X.useContext(Jr),{pathname:a}=$a(),l=JSON.stringify(Dp(n));return X.useMemo(()=>kp(r,JSON.parse(l),a,t==="path"),[r,l,a,t])}function AA(r,t){return DE(r,t)}function DE(r,t,n,a,l){var ut;Ne(su(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=X.useContext(Cr),{matches:f}=X.useContext(Jr),_=f[f.length-1],g=_?_.params:{},v=_?_.pathname:"/",w=_?_.pathnameBase:"/",S=_&&_.route;{let st=S&&S.path||"";kE(v,!S||st.endsWith("*")||st.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${v}" (under <Route path="${st}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${st}"> to <Route path="${st==="/"?"*":`${st}/*`}">.`)}let I=$a(),M;if(t){let st=typeof t=="string"?Zo(t):t;Ne(w==="/"||((ut=st.pathname)==null?void 0:ut.startsWith(w)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${w}" but pathname "${st.pathname}" was given in the \`location\` prop.`),M=st}else M=I;let q=M.pathname||"/",F=q;if(w!=="/"){let st=w.replace(/^\//,"").split("/");F="/"+q.replace(/^\//,"").split("/").slice(st.length).join("/")}let Z=IE(r,{pathname:F});tr(S||Z!=null,`No routes matched location "${M.pathname}${M.search}${M.hash}" `),tr(Z==null||Z[Z.length-1].route.element!==void 0||Z[Z.length-1].route.Component!==void 0||Z[Z.length-1].route.lazy!==void 0,`Matched leaf route at location "${M.pathname}${M.search}${M.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let it=xA(Z&&Z.map(st=>Object.assign({},st,{params:Object.assign({},g,st.params),pathname:ks([w,u.encodeLocation?u.encodeLocation(st.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:st.pathname]),pathnameBase:st.pathnameBase==="/"?w:ks([w,u.encodeLocation?u.encodeLocation(st.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:st.pathnameBase])})),f,n,a,l);return t&&it?X.createElement(Lc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...M},navigationType:"POP"}},it):it}function CA(){let r=DA(),t=vA(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,a="rgba(200,200,200, 0.5)",l={padding:"0.5rem",backgroundColor:a},u={padding:"2px 4px",backgroundColor:a},f=null;return console.error("Error handled by React Router default ErrorBoundary:",r),f=X.createElement(X.Fragment,null,X.createElement("p",null," Hey developer "),X.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",X.createElement("code",{style:u},"ErrorBoundary")," or"," ",X.createElement("code",{style:u},"errorElement")," prop on your route.")),X.createElement(X.Fragment,null,X.createElement("h2",null,"Unexpected Application Error!"),X.createElement("h3",{style:{fontStyle:"italic"}},t),n?X.createElement("pre",{style:l},n):null,f)}var RA=X.createElement(CA,null),IA=class extends X.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,t){return t.location!==r.location||t.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:t.error,location:t.location,revalidation:r.revalidation||t.revalidation}}componentDidCatch(r,t){this.props.unstable_onError?this.props.unstable_onError(r,t):console.error("React Router caught the following error during render",r)}render(){return this.state.error!==void 0?X.createElement(Jr.Provider,{value:this.props.routeContext},X.createElement(Vp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function LA({routeContext:r,match:t,children:n}){let a=X.useContext(ru);return a&&a.static&&a.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=t.route.id),X.createElement(Jr.Provider,{value:r},n)}function xA(r,t=[],n=null,a=null,l=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let u=r,f=n==null?void 0:n.errors;if(f!=null){let v=u.findIndex(w=>w.route.id&&(f==null?void 0:f[w.route.id])!==void 0);Ne(v>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(f).join(",")}`),u=u.slice(0,Math.min(u.length,v+1))}let _=!1,g=-1;if(n)for(let v=0;v<u.length;v++){let w=u[v];if((w.route.HydrateFallback||w.route.hydrateFallbackElement)&&(g=v),w.route.id){let{loaderData:S,errors:I}=n,M=w.route.loader&&!S.hasOwnProperty(w.route.id)&&(!I||I[w.route.id]===void 0);if(w.route.lazy||M){_=!0,g>=0?u=u.slice(0,g+1):u=[u[0]];break}}}return u.reduceRight((v,w,S)=>{let I,M=!1,q=null,F=null;n&&(I=f&&w.route.id?f[w.route.id]:void 0,q=w.route.errorElement||RA,_&&(g<0&&S===0?(kE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),M=!0,F=null):g===S&&(M=!0,F=w.route.hydrateFallbackElement||null)));let Z=t.concat(u.slice(0,S+1)),it=()=>{let ut;return I?ut=q:M?ut=F:w.route.Component?ut=X.createElement(w.route.Component,null):w.route.element?ut=w.route.element:ut=v,X.createElement(LA,{match:w,routeContext:{outlet:v,matches:Z,isDataRoute:n!=null},children:ut})};return n&&(w.route.ErrorBoundary||w.route.errorElement||S===0)?X.createElement(IA,{location:n.location,revalidation:n.revalidation,component:q,error:I,children:it(),routeContext:{outlet:null,matches:Z,isDataRoute:!0},unstable_onError:a}):it()},null)}function Up(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function PA(r){let t=X.useContext(ru);return Ne(t,Up(r)),t}function MA(r){let t=X.useContext(Vf);return Ne(t,Up(r)),t}function OA(r){let t=X.useContext(Jr);return Ne(t,Up(r)),t}function zp(r){let t=OA(r),n=t.matches[t.matches.length-1];return Ne(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function NA(){return zp("useRouteId")}function DA(){var a;let r=X.useContext(Vp),t=MA("useRouteError"),n=zp("useRouteError");return r!==void 0?r:(a=t.errors)==null?void 0:a[n]}function kA(){let{router:r}=PA("useNavigate"),t=zp("useNavigate"),n=X.useRef(!1);return NE(()=>{n.current=!0}),X.useCallback(async(l,u={})=>{tr(n.current,OE),n.current&&(typeof l=="number"?r.navigate(l):await r.navigate(l,{fromRouteId:t,...u}))},[r,t])}var Hv={};function kE(r,t,n){!t&&!Hv[r]&&(Hv[r]=!0,tr(!1,n))}X.memo(VA);function VA({routes:r,future:t,state:n,unstable_onError:a}){return DE(r,void 0,n,a,t)}function Bp({to:r,replace:t,state:n,relative:a}){Ne(su(),"<Navigate> may be used only in the context of a <Router> component.");let{static:l}=X.useContext(Cr);tr(!l,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=X.useContext(Jr),{pathname:f}=$a(),_=xc(),g=kp(r,Dp(u),f,a==="path"),v=JSON.stringify(g);return X.useEffect(()=>{_(JSON.parse(v),{replace:t,state:n,relative:a})},[_,v,a,t,n]),null}function nc(r){Ne(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function UA({basename:r="/",children:t=null,location:n,navigationType:a="POP",navigator:l,static:u=!1}){Ne(!su(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=r.replace(/^\/*/,"/"),_=X.useMemo(()=>({basename:f,navigator:l,static:u,future:{}}),[f,l,u]);typeof n=="string"&&(n=Zo(n));let{pathname:g="/",search:v="",hash:w="",state:S=null,key:I="default"}=n,M=X.useMemo(()=>{let q=zs(g,f);return q==null?null:{location:{pathname:q,search:v,hash:w,state:S,key:I},navigationType:a}},[f,g,v,w,S,I,a]);return tr(M!=null,`<Router basename="${f}"> is not able to match the URL "${g}${v}${w}" because it does not start with the basename, so the <Router> won't render anything.`),M==null?null:X.createElement(Cr.Provider,{value:_},X.createElement(Lc.Provider,{children:t,value:M}))}function zA({children:r,location:t}){return AA(ip(r),t)}function ip(r,t=[]){let n=[];return X.Children.forEach(r,(a,l)=>{if(!X.isValidElement(a))return;let u=[...t,l];if(a.type===X.Fragment){n.push.apply(n,ip(a.props.children,u));return}Ne(a.type===nc,`[${typeof a.type=="string"?a.type:a.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ne(!a.props.index||!a.props.children,"An index route cannot have child routes.");let f={id:a.props.id||u.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,middleware:a.props.middleware,loader:a.props.loader,action:a.props.action,hydrateFallbackElement:a.props.hydrateFallbackElement,HydrateFallback:a.props.HydrateFallback,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.hasErrorBoundary===!0||a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(f.children=ip(a.props.children,u)),n.push(f)}),n}var ef="get",nf="application/x-www-form-urlencoded";function Uf(r){return r!=null&&typeof r.tagName=="string"}function BA(r){return Uf(r)&&r.tagName.toLowerCase()==="button"}function HA(r){return Uf(r)&&r.tagName.toLowerCase()==="form"}function jA(r){return Uf(r)&&r.tagName.toLowerCase()==="input"}function qA(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function FA(r,t){return r.button===0&&(!t||t==="_self")&&!qA(r)}var Kh=null;function GA(){if(Kh===null)try{new FormData(document.createElement("form"),0),Kh=!1}catch{Kh=!0}return Kh}var ZA=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function jm(r){return r!=null&&!ZA.has(r)?(tr(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${nf}"`),null):r}function KA(r,t){let n,a,l,u,f;if(HA(r)){let _=r.getAttribute("action");a=_?zs(_,t):null,n=r.getAttribute("method")||ef,l=jm(r.getAttribute("enctype"))||nf,u=new FormData(r)}else if(BA(r)||jA(r)&&(r.type==="submit"||r.type==="image")){let _=r.form;if(_==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=r.getAttribute("formaction")||_.getAttribute("action");if(a=g?zs(g,t):null,n=r.getAttribute("formmethod")||_.getAttribute("method")||ef,l=jm(r.getAttribute("formenctype"))||jm(_.getAttribute("enctype"))||nf,u=new FormData(_,r),!GA()){let{name:v,type:w,value:S}=r;if(w==="image"){let I=v?`${v}.`:"";u.append(`${I}x`,"0"),u.append(`${I}y`,"0")}else v&&u.append(v,S)}}else{if(Uf(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=ef,a=null,l=nf,f=r}return u&&l==="text/plain"&&(f=u,u=void 0),{action:a,method:n.toLowerCase(),encType:l,formData:u,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Hp(r,t){if(r===!1||r===null||typeof r>"u")throw new Error(t)}function YA(r,t,n){let a=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return a.pathname==="/"?a.pathname=`_root.${n}`:t&&zs(a.pathname,t)==="/"?a.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${n}`,a}async function QA(r,t){if(r.id in t)return t[r.id];try{let n=await import(r.module);return t[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function XA(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function WA(r,t,n){let a=await Promise.all(r.map(async l=>{let u=t.routes[l.route.id];if(u){let f=await QA(u,n);return f.links?f.links():[]}return[]}));return e1(a.flat(1).filter(XA).filter(l=>l.rel==="stylesheet"||l.rel==="preload").map(l=>l.rel==="stylesheet"?{...l,rel:"prefetch",as:"style"}:{...l,rel:"prefetch"}))}function jv(r,t,n,a,l,u){let f=(g,v)=>n[v]?g.route.id!==n[v].route.id:!0,_=(g,v)=>{var w;return n[v].pathname!==g.pathname||((w=n[v].route.path)==null?void 0:w.endsWith("*"))&&n[v].params["*"]!==g.params["*"]};return u==="assets"?t.filter((g,v)=>f(g,v)||_(g,v)):u==="data"?t.filter((g,v)=>{var S;let w=a.routes[g.route.id];if(!w||!w.hasLoader)return!1;if(f(g,v)||_(g,v))return!0;if(g.route.shouldRevalidate){let I=g.route.shouldRevalidate({currentUrl:new URL(l.pathname+l.search+l.hash,window.origin),currentParams:((S=n[0])==null?void 0:S.params)||{},nextUrl:new URL(r,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof I=="boolean")return I}return!0}):[]}function $A(r,t,{includeHydrateFallback:n}={}){return JA(r.map(a=>{let l=t.routes[a.route.id];if(!l)return[];let u=[l.module];return l.clientActionModule&&(u=u.concat(l.clientActionModule)),l.clientLoaderModule&&(u=u.concat(l.clientLoaderModule)),n&&l.hydrateFallbackModule&&(u=u.concat(l.hydrateFallbackModule)),l.imports&&(u=u.concat(l.imports)),u}).flat(1))}function JA(r){return[...new Set(r)]}function t1(r){let t={},n=Object.keys(r).sort();for(let a of n)t[a]=r[a];return t}function e1(r,t){let n=new Set;return new Set(t),r.reduce((a,l)=>{let u=JSON.stringify(t1(l));return n.has(u)||(n.add(u),a.push({key:u,link:l})),a},[])}function VE(){let r=X.useContext(ru);return Hp(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function n1(){let r=X.useContext(Vf);return Hp(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var jp=X.createContext(void 0);jp.displayName="FrameworkContext";function UE(){let r=X.useContext(jp);return Hp(r,"You must render this element inside a <HydratedRouter> element"),r}function i1(r,t){let n=X.useContext(jp),[a,l]=X.useState(!1),[u,f]=X.useState(!1),{onFocus:_,onBlur:g,onMouseEnter:v,onMouseLeave:w,onTouchStart:S}=t,I=X.useRef(null);X.useEffect(()=>{if(r==="render"&&f(!0),r==="viewport"){let F=it=>{it.forEach(ut=>{f(ut.isIntersecting)})},Z=new IntersectionObserver(F,{threshold:.5});return I.current&&Z.observe(I.current),()=>{Z.disconnect()}}},[r]),X.useEffect(()=>{if(a){let F=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(F)}}},[a]);let M=()=>{l(!0)},q=()=>{l(!1),f(!1)};return n?r!=="intent"?[u,I,{}]:[u,I,{onFocus:ec(_,M),onBlur:ec(g,q),onMouseEnter:ec(v,M),onMouseLeave:ec(w,q),onTouchStart:ec(S,M)}]:[!1,I,{}]}function ec(r,t){return n=>{r&&r(n),n.defaultPrevented||t(n)}}function r1({page:r,...t}){let{router:n}=VE(),a=X.useMemo(()=>IE(n.routes,r,n.basename),[n.routes,r,n.basename]);return a?X.createElement(a1,{page:r,matches:a,...t}):null}function s1(r){let{manifest:t,routeModules:n}=UE(),[a,l]=X.useState([]);return X.useEffect(()=>{let u=!1;return WA(r,t,n).then(f=>{u||l(f)}),()=>{u=!0}},[r,t,n]),a}function a1({page:r,matches:t,...n}){let a=$a(),{manifest:l,routeModules:u}=UE(),{basename:f}=VE(),{loaderData:_,matches:g}=n1(),v=X.useMemo(()=>jv(r,t,g,l,a,"data"),[r,t,g,l,a]),w=X.useMemo(()=>jv(r,t,g,l,a,"assets"),[r,t,g,l,a]),S=X.useMemo(()=>{if(r===a.pathname+a.search+a.hash)return[];let q=new Set,F=!1;if(t.forEach(it=>{var st;let ut=l.routes[it.route.id];!ut||!ut.hasLoader||(!v.some(St=>St.route.id===it.route.id)&&it.route.id in _&&((st=u[it.route.id])!=null&&st.shouldRevalidate)||ut.hasClientLoader?F=!0:q.add(it.route.id))}),q.size===0)return[];let Z=YA(r,f,"data");return F&&q.size>0&&Z.searchParams.set("_routes",t.filter(it=>q.has(it.route.id)).map(it=>it.route.id).join(",")),[Z.pathname+Z.search]},[f,_,a,l,v,t,r,u]),I=X.useMemo(()=>$A(w,l),[w,l]),M=s1(w);return X.createElement(X.Fragment,null,S.map(q=>X.createElement("link",{key:q,rel:"prefetch",as:"fetch",href:q,...n})),I.map(q=>X.createElement("link",{key:q,rel:"modulepreload",href:q,...n})),M.map(({key:q,link:F})=>X.createElement("link",{key:q,nonce:n.nonce,...F})))}function o1(...r){return t=>{r.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var zE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{zE&&(window.__reactRouterVersion="7.9.3")}catch{}function l1({basename:r,children:t,window:n}){let a=X.useRef();a.current==null&&(a.current=XS({window:n,v5Compat:!0}));let l=a.current,[u,f]=X.useState({action:l.action,location:l.location}),_=X.useCallback(g=>{X.startTransition(()=>f(g))},[f]);return X.useLayoutEffect(()=>l.listen(_),[l,_]),X.createElement(UA,{basename:r,children:t,location:u.location,navigationType:u.action,navigator:l})}var BE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Zl=X.forwardRef(function({onClick:t,discover:n="render",prefetch:a="none",relative:l,reloadDocument:u,replace:f,state:_,target:g,to:v,preventScrollReset:w,viewTransition:S,...I},M){let{basename:q}=X.useContext(Cr),F=typeof v=="string"&&BE.test(v),Z,it=!1;if(typeof v=="string"&&F&&(Z=v,zE))try{let D=new URL(window.location.href),j=v.startsWith("//")?new URL(D.protocol+v):new URL(v),B=zs(j.pathname,q);j.origin===D.origin&&B!=null?v=B+j.search+j.hash:it=!0}catch{tr(!1,`<Link to="${v}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let ut=bA(v,{relative:l}),[st,St,Tt]=i1(a,I),kt=f1(v,{replace:f,state:_,target:g,preventScrollReset:w,relative:l,viewTransition:S});function z(D){t&&t(D),D.defaultPrevented||kt(D)}let O=X.createElement("a",{...I,...Tt,href:Z||ut,onClick:it||u?t:z,ref:o1(M,St),target:g,"data-discover":!F&&n==="render"?"true":void 0});return st&&!F?X.createElement(X.Fragment,null,O,X.createElement(r1,{page:ut})):O});Zl.displayName="Link";var u1=X.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:a="",end:l=!1,style:u,to:f,viewTransition:_,children:g,...v},w){let S=Pc(f,{relative:v.relative}),I=$a(),M=X.useContext(Vf),{navigator:q,basename:F}=X.useContext(Cr),Z=M!=null&&g1(S)&&_===!0,it=q.encodeLocation?q.encodeLocation(S).pathname:S.pathname,ut=I.pathname,st=M&&M.navigation&&M.navigation.location?M.navigation.location.pathname:null;n||(ut=ut.toLowerCase(),st=st?st.toLowerCase():null,it=it.toLowerCase()),st&&F&&(st=zs(st,F)||st);const St=it!=="/"&&it.endsWith("/")?it.length-1:it.length;let Tt=ut===it||!l&&ut.startsWith(it)&&ut.charAt(St)==="/",kt=st!=null&&(st===it||!l&&st.startsWith(it)&&st.charAt(it.length)==="/"),z={isActive:Tt,isPending:kt,isTransitioning:Z},O=Tt?t:void 0,D;typeof a=="function"?D=a(z):D=[a,Tt?"active":null,kt?"pending":null,Z?"transitioning":null].filter(Boolean).join(" ");let j=typeof u=="function"?u(z):u;return X.createElement(Zl,{...v,"aria-current":O,className:D,ref:w,style:j,to:f,viewTransition:_},typeof g=="function"?g(z):g)});u1.displayName="NavLink";var c1=X.forwardRef(({discover:r="render",fetcherKey:t,navigate:n,reloadDocument:a,replace:l,state:u,method:f=ef,action:_,onSubmit:g,relative:v,preventScrollReset:w,viewTransition:S,...I},M)=>{let q=p1(),F=_1(_,{relative:v}),Z=f.toLowerCase()==="get"?"get":"post",it=typeof _=="string"&&BE.test(_),ut=st=>{if(g&&g(st),st.defaultPrevented)return;st.preventDefault();let St=st.nativeEvent.submitter,Tt=(St==null?void 0:St.getAttribute("formmethod"))||f;q(St||st.currentTarget,{fetcherKey:t,method:Tt,navigate:n,replace:l,state:u,relative:v,preventScrollReset:w,viewTransition:S})};return X.createElement("form",{ref:M,method:Z,action:F,onSubmit:a?g:ut,...I,"data-discover":!it&&r==="render"?"true":void 0})});c1.displayName="Form";function h1(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function HE(r){let t=X.useContext(ru);return Ne(t,h1(r)),t}function f1(r,{target:t,replace:n,state:a,preventScrollReset:l,relative:u,viewTransition:f}={}){let _=xc(),g=$a(),v=Pc(r,{relative:u});return X.useCallback(w=>{if(FA(w,t)){w.preventDefault();let S=n!==void 0?n:gc(g)===gc(v);_(r,{replace:S,state:a,preventScrollReset:l,relative:u,viewTransition:f})}},[g,_,v,n,a,t,r,l,u,f])}var d1=0,m1=()=>`__${String(++d1)}__`;function p1(){let{router:r}=HE("useSubmit"),{basename:t}=X.useContext(Cr),n=NA();return X.useCallback(async(a,l={})=>{let{action:u,method:f,encType:_,formData:g,body:v}=KA(a,t);if(l.navigate===!1){let w=l.fetcherKey||m1();await r.fetch(w,n,l.action||u,{preventScrollReset:l.preventScrollReset,formData:g,body:v,formMethod:l.method||f,formEncType:l.encType||_,flushSync:l.flushSync})}else await r.navigate(l.action||u,{preventScrollReset:l.preventScrollReset,formData:g,body:v,formMethod:l.method||f,formEncType:l.encType||_,replace:l.replace,state:l.state,fromRouteId:n,flushSync:l.flushSync,viewTransition:l.viewTransition})},[r,t,n])}function _1(r,{relative:t}={}){let{basename:n}=X.useContext(Cr),a=X.useContext(Jr);Ne(a,"useFormAction must be used inside a RouteContext");let[l]=a.matches.slice(-1),u={...Pc(r||".",{relative:t})},f=$a();if(r==null){u.search=f.search;let _=new URLSearchParams(u.search),g=_.getAll("index");if(g.some(w=>w==="")){_.delete("index"),g.filter(S=>S).forEach(S=>_.append("index",S));let w=_.toString();u.search=w?`?${w}`:""}}return(!r||r===".")&&l.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:ks([n,u.pathname])),gc(u)}function g1(r,{relative:t}={}){let n=X.useContext(ME);Ne(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=HE("useViewTransitionState"),l=Pc(r,{relative:t});if(!n.isTransitioning)return!1;let u=zs(n.currentLocation.pathname,a)||n.currentLocation.pathname,f=zs(n.nextLocation.pathname,a)||n.nextLocation.pathname;return pf(l.pathname,f)!=null||pf(l.pathname,u)!=null}RE();const y1=()=>{};var qv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jE=function(r){const t=[];let n=0;for(let a=0;a<r.length;a++){let l=r.charCodeAt(a);l<128?t[n++]=l:l<2048?(t[n++]=l>>6|192,t[n++]=l&63|128):(l&64512)===55296&&a+1<r.length&&(r.charCodeAt(a+1)&64512)===56320?(l=65536+((l&1023)<<10)+(r.charCodeAt(++a)&1023),t[n++]=l>>18|240,t[n++]=l>>12&63|128,t[n++]=l>>6&63|128,t[n++]=l&63|128):(t[n++]=l>>12|224,t[n++]=l>>6&63|128,t[n++]=l&63|128)}return t},v1=function(r){const t=[];let n=0,a=0;for(;n<r.length;){const l=r[n++];if(l<128)t[a++]=String.fromCharCode(l);else if(l>191&&l<224){const u=r[n++];t[a++]=String.fromCharCode((l&31)<<6|u&63)}else if(l>239&&l<365){const u=r[n++],f=r[n++],_=r[n++],g=((l&7)<<18|(u&63)<<12|(f&63)<<6|_&63)-65536;t[a++]=String.fromCharCode(55296+(g>>10)),t[a++]=String.fromCharCode(56320+(g&1023))}else{const u=r[n++],f=r[n++];t[a++]=String.fromCharCode((l&15)<<12|(u&63)<<6|f&63)}}return t.join("")},qE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let l=0;l<r.length;l+=3){const u=r[l],f=l+1<r.length,_=f?r[l+1]:0,g=l+2<r.length,v=g?r[l+2]:0,w=u>>2,S=(u&3)<<4|_>>4;let I=(_&15)<<2|v>>6,M=v&63;g||(M=64,f||(I=64)),a.push(n[w],n[S],n[I],n[M])}return a.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(jE(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):v1(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let l=0;l<r.length;){const u=n[r.charAt(l++)],_=l<r.length?n[r.charAt(l)]:0;++l;const v=l<r.length?n[r.charAt(l)]:64;++l;const S=l<r.length?n[r.charAt(l)]:64;if(++l,u==null||_==null||v==null||S==null)throw new T1;const I=u<<2|_>>4;if(a.push(I),v!==64){const M=_<<4&240|v>>2;if(a.push(M),S!==64){const q=v<<6&192|S;a.push(q)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class T1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const E1=function(r){const t=jE(r);return qE.encodeByteArray(t,!0)},_f=function(r){return E1(r).replace(/\./g,"")},FE=function(r){try{return qE.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b1=()=>w1().__FIREBASE_DEFAULTS__,S1=()=>{if(typeof process>"u"||typeof qv>"u")return;const r=qv.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},A1=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&FE(r[1]);return t&&JSON.parse(t)},zf=()=>{try{return y1()||b1()||S1()||A1()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},GE=r=>{var t,n;return(n=(t=zf())==null?void 0:t.emulatorHosts)==null?void 0:n[r]},ZE=r=>{const t=GE(r);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const a=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),a]:[t.substring(0,n),a]},KE=()=>{var r;return(r=zf())==null?void 0:r.config},YE=r=>{var t;return(t=zf())==null?void 0:t[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,a)=>{n?this.reject(n):this.resolve(a),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,a))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ko(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function qp(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QE(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},a=t||"demo-project",l=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${a}`,aud:a,iat:l,exp:l+3600,auth_time:l,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...r};return[_f(JSON.stringify(n)),_f(JSON.stringify(f)),""].join(".")}const hc={};function R1(){const r={prod:[],emulator:[]};for(const t of Object.keys(hc))hc[t]?r.emulator.push(t):r.prod.push(t);return r}function I1(r){let t=document.getElementById(r),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",r),n=!0),{created:n,element:t}}let Fv=!1;function Fp(r,t){if(typeof window>"u"||typeof document>"u"||!Ko(window.location.host)||hc[r]===t||hc[r]||Fv)return;hc[r]=t;function n(I){return`__firebase__banner__${I}`}const a="__firebase__banner",u=R1().prod.length>0;function f(){const I=document.getElementById(a);I&&I.remove()}function _(I){I.style.display="flex",I.style.background="#7faaf0",I.style.position="fixed",I.style.bottom="5px",I.style.left="5px",I.style.padding=".5em",I.style.borderRadius="5px",I.style.alignItems="center"}function g(I,M){I.setAttribute("width","24"),I.setAttribute("id",M),I.setAttribute("height","24"),I.setAttribute("viewBox","0 0 24 24"),I.setAttribute("fill","none"),I.style.marginLeft="-6px"}function v(){const I=document.createElement("span");return I.style.cursor="pointer",I.style.marginLeft="16px",I.style.fontSize="24px",I.innerHTML=" &times;",I.onclick=()=>{Fv=!0,f()},I}function w(I,M){I.setAttribute("id",M),I.innerText="Learn more",I.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",I.setAttribute("target","__blank"),I.style.paddingLeft="5px",I.style.textDecoration="underline"}function S(){const I=I1(a),M=n("text"),q=document.getElementById(M)||document.createElement("span"),F=n("learnmore"),Z=document.getElementById(F)||document.createElement("a"),it=n("preprendIcon"),ut=document.getElementById(it)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(I.created){const st=I.element;_(st),w(Z,F);const St=v();g(ut,it),st.append(ut,q,Z,St),document.body.appendChild(st)}u?(q.innerText="Preview backend disconnected.",ut.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ut.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,q.innerText="Preview backend running in this workspace."),q.setAttribute("id",M)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function L1(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Vn())}function x1(){var t;const r=(t=zf())==null?void 0:t.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function P1(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function M1(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function O1(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function N1(){const r=Vn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function D1(){return!x1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function k1(){try{return typeof indexedDB=="object"}catch{return!1}}function V1(){return new Promise((r,t)=>{try{let n=!0;const a="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(a);l.onsuccess=()=>{l.result.close(),n||self.indexedDB.deleteDatabase(a),r(!0)},l.onupgradeneeded=()=>{n=!1},l.onerror=()=>{var u;t(((u=l.error)==null?void 0:u.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U1="FirebaseError";class ts extends Error{constructor(t,n,a){super(n),this.code=t,this.customData=a,this.name=U1,Object.setPrototypeOf(this,ts.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Mc.prototype.create)}}class Mc{constructor(t,n,a){this.service=t,this.serviceName=n,this.errors=a}create(t,...n){const a=n[0]||{},l=`${this.service}/${t}`,u=this.errors[t],f=u?z1(u,a):"Error",_=`${this.serviceName}: ${f} (${l}).`;return new ts(l,_,a)}}function z1(r,t){return r.replace(B1,(n,a)=>{const l=t[a];return l!=null?String(l):`<${a}?>`})}const B1=/\{\$([^}]+)}/g;function H1(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function Bo(r,t){if(r===t)return!0;const n=Object.keys(r),a=Object.keys(t);for(const l of n){if(!a.includes(l))return!1;const u=r[l],f=t[l];if(Gv(u)&&Gv(f)){if(!Bo(u,f))return!1}else if(u!==f)return!1}for(const l of a)if(!n.includes(l))return!1;return!0}function Gv(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oc(r){const t=[];for(const[n,a]of Object.entries(r))Array.isArray(a)?a.forEach(l=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a));return t.length?"&"+t.join("&"):""}function ic(r){const t={};return r.replace(/^\?/,"").split("&").forEach(a=>{if(a){const[l,u]=a.split("=");t[decodeURIComponent(l)]=decodeURIComponent(u)}}),t}function rc(r){const t=r.indexOf("?");if(!t)return"";const n=r.indexOf("#",t);return r.substring(t,n>0?n:void 0)}function j1(r,t){const n=new q1(r,t);return n.subscribe.bind(n)}class q1{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(a=>{this.error(a)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,a){let l;if(t===void 0&&n===void 0&&a===void 0)throw new Error("Missing Observer.");F1(t,["next","error","complete"])?l=t:l={next:t,error:n,complete:a},l.next===void 0&&(l.next=qm),l.error===void 0&&(l.error=qm),l.complete===void 0&&(l.complete=qm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),u}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function F1(r,t){if(typeof r!="object"||r===null)return!1;for(const n of t)if(n in r&&typeof r[n]=="function")return!0;return!1}function qm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rn(r){return r&&r._delegate?r._delegate:r}class Ga{constructor(t,n,a){this.name=t,this.instanceFactory=n,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G1{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const a=new C1;if(this.instancesDeferred.set(n,a),this.isInitialized(n)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:n});l&&a.resolve(l)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){const n=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),a=(t==null?void 0:t.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(K1(t))try{this.getOrInitializeService({instanceIdentifier:Oo})}catch{}for(const[n,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:l});a.resolve(u)}catch{}}}}clearInstance(t=Oo){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Oo){return this.instances.has(t)}getOptions(t=Oo){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:a,options:n});for(const[u,f]of this.instancesDeferred.entries()){const _=this.normalizeInstanceIdentifier(u);a===_&&f.resolve(l)}return l}onInit(t,n){const a=this.normalizeInstanceIdentifier(n),l=this.onInitCallbacks.get(a)??new Set;l.add(t),this.onInitCallbacks.set(a,l);const u=this.instances.get(a);return u&&t(u,a),()=>{l.delete(t)}}invokeOnInitCallbacks(t,n){const a=this.onInitCallbacks.get(n);if(a)for(const l of a)try{l(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let a=this.instances.get(t);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:Z1(t),options:n}),this.instances.set(t,a),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(a,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,a)}catch{}return a||null}normalizeInstanceIdentifier(t=Oo){return this.component?this.component.multipleInstances?t:Oo:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Z1(r){return r===Oo?void 0:r}function K1(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y1{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new G1(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ee;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(ee||(ee={}));const Q1={debug:ee.DEBUG,verbose:ee.VERBOSE,info:ee.INFO,warn:ee.WARN,error:ee.ERROR,silent:ee.SILENT},X1=ee.INFO,W1={[ee.DEBUG]:"log",[ee.VERBOSE]:"log",[ee.INFO]:"info",[ee.WARN]:"warn",[ee.ERROR]:"error"},$1=(r,t,...n)=>{if(t<r.logLevel)return;const a=new Date().toISOString(),l=W1[t];if(l)console[l](`[${a}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Gp{constructor(t){this.name=t,this._logLevel=X1,this._logHandler=$1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in ee))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?Q1[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,ee.DEBUG,...t),this._logHandler(this,ee.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,ee.VERBOSE,...t),this._logHandler(this,ee.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,ee.INFO,...t),this._logHandler(this,ee.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,ee.WARN,...t),this._logHandler(this,ee.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,ee.ERROR,...t),this._logHandler(this,ee.ERROR,...t)}}const J1=(r,t)=>t.some(n=>r instanceof n);let Zv,Kv;function tC(){return Zv||(Zv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function eC(){return Kv||(Kv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const XE=new WeakMap,rp=new WeakMap,WE=new WeakMap,Fm=new WeakMap,Zp=new WeakMap;function nC(r){const t=new Promise((n,a)=>{const l=()=>{r.removeEventListener("success",u),r.removeEventListener("error",f)},u=()=>{n(Ba(r.result)),l()},f=()=>{a(r.error),l()};r.addEventListener("success",u),r.addEventListener("error",f)});return t.then(n=>{n instanceof IDBCursor&&XE.set(n,r)}).catch(()=>{}),Zp.set(t,r),t}function iC(r){if(rp.has(r))return;const t=new Promise((n,a)=>{const l=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",f),r.removeEventListener("abort",f)},u=()=>{n(),l()},f=()=>{a(r.error||new DOMException("AbortError","AbortError")),l()};r.addEventListener("complete",u),r.addEventListener("error",f),r.addEventListener("abort",f)});rp.set(r,t)}let sp={get(r,t,n){if(r instanceof IDBTransaction){if(t==="done")return rp.get(r);if(t==="objectStoreNames")return r.objectStoreNames||WE.get(r);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ba(r[t])},set(r,t,n){return r[t]=n,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function rC(r){sp=r(sp)}function sC(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const a=r.call(Gm(this),t,...n);return WE.set(a,t.sort?t.sort():[t]),Ba(a)}:eC().includes(r)?function(...t){return r.apply(Gm(this),t),Ba(XE.get(this))}:function(...t){return Ba(r.apply(Gm(this),t))}}function aC(r){return typeof r=="function"?sC(r):(r instanceof IDBTransaction&&iC(r),J1(r,tC())?new Proxy(r,sp):r)}function Ba(r){if(r instanceof IDBRequest)return nC(r);if(Fm.has(r))return Fm.get(r);const t=aC(r);return t!==r&&(Fm.set(r,t),Zp.set(t,r)),t}const Gm=r=>Zp.get(r);function oC(r,t,{blocked:n,upgrade:a,blocking:l,terminated:u}={}){const f=indexedDB.open(r,t),_=Ba(f);return a&&f.addEventListener("upgradeneeded",g=>{a(Ba(f.result),g.oldVersion,g.newVersion,Ba(f.transaction),g)}),n&&f.addEventListener("blocked",g=>n(g.oldVersion,g.newVersion,g)),_.then(g=>{u&&g.addEventListener("close",()=>u()),l&&g.addEventListener("versionchange",v=>l(v.oldVersion,v.newVersion,v))}).catch(()=>{}),_}const lC=["get","getKey","getAll","getAllKeys","count"],uC=["put","add","delete","clear"],Zm=new Map;function Yv(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(Zm.get(t))return Zm.get(t);const n=t.replace(/FromIndex$/,""),a=t!==n,l=uC.includes(n);if(!(n in(a?IDBIndex:IDBObjectStore).prototype)||!(l||lC.includes(n)))return;const u=async function(f,..._){const g=this.transaction(f,l?"readwrite":"readonly");let v=g.store;return a&&(v=v.index(_.shift())),(await Promise.all([v[n](..._),l&&g.done]))[0]};return Zm.set(t,u),u}rC(r=>({...r,get:(t,n,a)=>Yv(t,n)||r.get(t,n,a),has:(t,n)=>!!Yv(t,n)||r.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cC{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(hC(n)){const a=n.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(n=>n).join(" ")}}function hC(r){const t=r.getComponent();return(t==null?void 0:t.type)==="VERSION"}const ap="@firebase/app",Qv="0.14.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bs=new Gp("@firebase/app"),fC="@firebase/app-compat",dC="@firebase/analytics-compat",mC="@firebase/analytics",pC="@firebase/app-check-compat",_C="@firebase/app-check",gC="@firebase/auth",yC="@firebase/auth-compat",vC="@firebase/database",TC="@firebase/data-connect",EC="@firebase/database-compat",wC="@firebase/functions",bC="@firebase/functions-compat",SC="@firebase/installations",AC="@firebase/installations-compat",CC="@firebase/messaging",RC="@firebase/messaging-compat",IC="@firebase/performance",LC="@firebase/performance-compat",xC="@firebase/remote-config",PC="@firebase/remote-config-compat",MC="@firebase/storage",OC="@firebase/storage-compat",NC="@firebase/firestore",DC="@firebase/ai",kC="@firebase/firestore-compat",VC="firebase",UC="12.3.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const op="[DEFAULT]",zC={[ap]:"fire-core",[fC]:"fire-core-compat",[mC]:"fire-analytics",[dC]:"fire-analytics-compat",[_C]:"fire-app-check",[pC]:"fire-app-check-compat",[gC]:"fire-auth",[yC]:"fire-auth-compat",[vC]:"fire-rtdb",[TC]:"fire-data-connect",[EC]:"fire-rtdb-compat",[wC]:"fire-fn",[bC]:"fire-fn-compat",[SC]:"fire-iid",[AC]:"fire-iid-compat",[CC]:"fire-fcm",[RC]:"fire-fcm-compat",[IC]:"fire-perf",[LC]:"fire-perf-compat",[xC]:"fire-rc",[PC]:"fire-rc-compat",[MC]:"fire-gcs",[OC]:"fire-gcs-compat",[NC]:"fire-fst",[kC]:"fire-fst-compat",[DC]:"fire-vertex","fire-js":"fire-js",[VC]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gf=new Map,BC=new Map,lp=new Map;function Xv(r,t){try{r.container.addComponent(t)}catch(n){Bs.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,n)}}function Ho(r){const t=r.name;if(lp.has(t))return Bs.debug(`There were multiple attempts to register component ${t}.`),!1;lp.set(t,r);for(const n of gf.values())Xv(n,r);for(const n of BC.values())Xv(n,r);return!0}function Bf(r,t){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(t)}function di(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ha=new Mc("app","Firebase",HC);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jC{constructor(t,n,a){this._isDeleted=!1,this._options={...t},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new Ga("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Ha.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yo=UC;function $E(r,t={}){let n=r;typeof t!="object"&&(t={name:t});const a={name:op,automaticDataCollectionEnabled:!0,...t},l=a.name;if(typeof l!="string"||!l)throw Ha.create("bad-app-name",{appName:String(l)});if(n||(n=KE()),!n)throw Ha.create("no-options");const u=gf.get(l);if(u){if(Bo(n,u.options)&&Bo(a,u.config))return u;throw Ha.create("duplicate-app",{appName:l})}const f=new Y1(l);for(const g of lp.values())f.addComponent(g);const _=new jC(n,a,f);return gf.set(l,_),_}function Kp(r=op){const t=gf.get(r);if(!t&&r===op&&KE())return $E();if(!t)throw Ha.create("no-app",{appName:r});return t}function Zr(r,t,n){let a=zC[r]??r;n&&(a+=`-${n}`);const l=a.match(/\s|\//),u=t.match(/\s|\//);if(l||u){const f=[`Unable to register library "${a}" with version "${t}":`];l&&f.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&u&&f.push("and"),u&&f.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Bs.warn(f.join(" "));return}Ho(new Ga(`${a}-version`,()=>({library:a,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qC="firebase-heartbeat-database",FC=1,yc="firebase-heartbeat-store";let Km=null;function JE(){return Km||(Km=oC(qC,FC,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(yc)}catch(n){console.warn(n)}}}}).catch(r=>{throw Ha.create("idb-open",{originalErrorMessage:r.message})})),Km}async function GC(r){try{const n=(await JE()).transaction(yc),a=await n.objectStore(yc).get(t0(r));return await n.done,a}catch(t){if(t instanceof ts)Bs.warn(t.message);else{const n=Ha.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Bs.warn(n.message)}}}async function Wv(r,t){try{const a=(await JE()).transaction(yc,"readwrite");await a.objectStore(yc).put(t,t0(r)),await a.done}catch(n){if(n instanceof ts)Bs.warn(n.message);else{const a=Ha.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Bs.warn(a.message)}}}function t0(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZC=1024,KC=30;class YC{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new XC(n),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){var t,n;try{const l=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=$v();if(((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(f=>f.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:l}),this._heartbeatsCache.heartbeats.length>KC){const f=WC(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(a){Bs.warn(a)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=$v(),{heartbeatsToSend:a,unsentEntries:l}=QC(this._heartbeatsCache.heartbeats),u=_f(JSON.stringify({version:2,heartbeats:a}));return this._heartbeatsCache.lastSentHeartbeatDate=n,l.length>0?(this._heartbeatsCache.heartbeats=l,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return Bs.warn(n),""}}}function $v(){return new Date().toISOString().substring(0,10)}function QC(r,t=ZC){const n=[];let a=r.slice();for(const l of r){const u=n.find(f=>f.agent===l.agent);if(u){if(u.dates.push(l.date),Jv(n)>t){u.dates.pop();break}}else if(n.push({agent:l.agent,dates:[l.date]}),Jv(n)>t){n.pop();break}a=a.slice(1)}return{heartbeatsToSend:n,unsentEntries:a}}class XC{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return k1()?V1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await GC(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return Wv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return Wv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...t.heartbeats]})}else return}}function Jv(r){return _f(JSON.stringify({version:2,heartbeats:r})).length}function WC(r){if(r.length===0)return-1;let t=0,n=r[0].date;for(let a=1;a<r.length;a++)r[a].date<n&&(n=r[a].date,t=a);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $C(r){Ho(new Ga("platform-logger",t=>new cC(t),"PRIVATE")),Ho(new Ga("heartbeat",t=>new YC(t),"PRIVATE")),Zr(ap,Qv,r),Zr(ap,Qv,"esm2020"),Zr("fire-js","")}$C("");function e0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const JC=e0,n0=new Mc("auth","Firebase",e0());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yf=new Gp("@firebase/auth");function tR(r,...t){yf.logLevel<=ee.WARN&&yf.warn(`Auth (${Yo}): ${r}`,...t)}function rf(r,...t){yf.logLevel<=ee.ERROR&&yf.error(`Auth (${Yo}): ${r}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function er(r,...t){throw Qp(r,...t)}function br(r,...t){return Qp(r,...t)}function Yp(r,t,n){const a={...JC(),[t]:n};return new Mc("auth","Firebase",a).create(t,{appName:r.name})}function Vs(r){return Yp(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function eR(r,t,n){const a=n;if(!(t instanceof a))throw a.name!==t.constructor.name&&er(r,"argument-error"),Yp(r,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Qp(r,...t){if(typeof r!="string"){const n=t[0],a=[...t.slice(1)];return a[0]&&(a[0].appName=r.name),r._errorFactory.create(n,...a)}return n0.create(r,...t)}function Bt(r,t,...n){if(!r)throw Qp(t,...n)}function Ns(r){const t="INTERNAL ASSERTION FAILED: "+r;throw rf(t),new Error(t)}function Hs(r,t){r||Ns(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function up(){var r;return typeof self<"u"&&((r=self.location)==null?void 0:r.href)||""}function nR(){return tT()==="http:"||tT()==="https:"}function tT(){var r;return typeof self<"u"&&((r=self.location)==null?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(nR()||M1()||"connection"in navigator)?navigator.onLine:!0}function rR(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nc{constructor(t,n){this.shortDelay=t,this.longDelay=n,Hs(n>t,"Short delay should be less than long delay!"),this.isMobile=L1()||O1()}get(){return iR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xp(r,t){Hs(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i0{static initialize(t,n,a){this.fetchImpl=t,n&&(this.headersImpl=n),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ns("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ns("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ns("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sR={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aR=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],oR=new Nc(3e4,6e4);function Ja(r,t){return r.tenantId&&!t.tenantId?{...t,tenantId:r.tenantId}:t}async function to(r,t,n,a,l={}){return r0(r,l,async()=>{let u={},f={};a&&(t==="GET"?f=a:u={body:JSON.stringify(a)});const _=Oc({key:r.config.apiKey,...f}).slice(1),g=await r._getAdditionalHeaders();g["Content-Type"]="application/json",r.languageCode&&(g["X-Firebase-Locale"]=r.languageCode);const v={method:t,headers:g,...u};return P1()||(v.referrerPolicy="no-referrer"),r.emulatorConfig&&Ko(r.emulatorConfig.host)&&(v.credentials="include"),i0.fetch()(await s0(r,r.config.apiHost,n,_),v)})}async function r0(r,t,n){r._canInitEmulator=!1;const a={...sR,...t};try{const l=new uR(r),u=await Promise.race([n(),l.promise]);l.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw Yh(r,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const _=u.ok?f.errorMessage:f.error.message,[g,v]=_.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw Yh(r,"credential-already-in-use",f);if(g==="EMAIL_EXISTS")throw Yh(r,"email-already-in-use",f);if(g==="USER_DISABLED")throw Yh(r,"user-disabled",f);const w=a[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(v)throw Yp(r,w,v);er(r,w)}}catch(l){if(l instanceof ts)throw l;er(r,"network-request-failed",{message:String(l)})}}async function Dc(r,t,n,a,l={}){const u=await to(r,t,n,a,l);return"mfaPendingCredential"in u&&er(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function s0(r,t,n,a){const l=`${t}${n}?${a}`,u=r,f=u.config.emulator?Xp(r.config,l):`${r.config.apiScheme}://${l}`;return aR.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}function lR(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class uR{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,a)=>{this.timer=setTimeout(()=>a(br(this.auth,"network-request-failed")),oR.get())})}}function Yh(r,t,n){const a={appName:r.name};n.email&&(a.email=n.email),n.phoneNumber&&(a.phoneNumber=n.phoneNumber);const l=br(r,t,a);return l.customData._tokenResponse=n,l}function eT(r){return r!==void 0&&r.enterprise!==void 0}class cR{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===t)return lR(n.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function hR(r,t){return to(r,"GET","/v2/recaptchaConfig",Ja(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fR(r,t){return to(r,"POST","/v1/accounts:delete",t)}async function vf(r,t){return to(r,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fc(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function dR(r,t=!1){const n=Rn(r),a=await n.getIdToken(t),l=Wp(a);Bt(l&&l.exp&&l.auth_time&&l.iat,n.auth,"internal-error");const u=typeof l.firebase=="object"?l.firebase:void 0,f=u==null?void 0:u.sign_in_provider;return{claims:l,token:a,authTime:fc(Ym(l.auth_time)),issuedAtTime:fc(Ym(l.iat)),expirationTime:fc(Ym(l.exp)),signInProvider:f||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function Ym(r){return Number(r)*1e3}function Wp(r){const[t,n,a]=r.split(".");if(t===void 0||n===void 0||a===void 0)return rf("JWT malformed, contained fewer than 3 sections"),null;try{const l=FE(n);return l?JSON.parse(l):(rf("Failed to decode base64 JWT payload"),null)}catch(l){return rf("Caught error parsing JWT payload as JSON",l==null?void 0:l.toString()),null}}function nT(r){const t=Wp(r);return Bt(t,"internal-error"),Bt(typeof t.exp<"u","internal-error"),Bt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vc(r,t,n=!1){if(n)return t;try{return await t}catch(a){throw a instanceof ts&&mR(a)&&r.auth.currentUser===r&&await r.auth.signOut(),a}}function mR({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pR{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cp{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=fc(this.lastLoginAt),this.creationTime=fc(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tf(r){var S;const t=r.auth,n=await r.getIdToken(),a=await vc(r,vf(t,{idToken:n}));Bt(a==null?void 0:a.users.length,t,"internal-error");const l=a.users[0];r._notifyReloadListener(l);const u=(S=l.providerUserInfo)!=null&&S.length?a0(l.providerUserInfo):[],f=gR(r.providerData,u),_=r.isAnonymous,g=!(r.email&&l.passwordHash)&&!(f!=null&&f.length),v=_?g:!1,w={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:f,metadata:new cp(l.createdAt,l.lastLoginAt),isAnonymous:v};Object.assign(r,w)}async function _R(r){const t=Rn(r);await Tf(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function gR(r,t){return[...r.filter(a=>!t.some(l=>l.providerId===a.providerId)),...t]}function a0(r){return r.map(({providerId:t,...n})=>({providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yR(r,t){const n=await r0(r,{},async()=>{const a=Oc({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:u}=r.config,f=await s0(r,l,"/v1/token",`key=${u}`),_=await r._getAdditionalHeaders();_["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:_,body:a};return r.emulatorConfig&&Ko(r.emulatorConfig.host)&&(g.credentials="include"),i0.fetch()(f,g)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function vR(r,t){return to(r,"POST","/v2/accounts:revokeToken",Ja(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Bt(t.idToken,"internal-error"),Bt(typeof t.idToken<"u","internal-error"),Bt(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):nT(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){Bt(t.length!==0,"internal-error");const n=nT(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Bt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:a,refreshToken:l,expiresIn:u}=await yR(t,n);this.updateTokensAndExpiration(a,l,Number(u))}updateTokensAndExpiration(t,n,a){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(t,n){const{refreshToken:a,accessToken:l,expirationTime:u}=n,f=new Kl;return a&&(Bt(typeof a=="string","internal-error",{appName:t}),f.refreshToken=a),l&&(Bt(typeof l=="string","internal-error",{appName:t}),f.accessToken=l),u&&(Bt(typeof u=="number","internal-error",{appName:t}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Kl,this.toJSON())}_performRefresh(){return Ns("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Da(r,t){Bt(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class Tr{constructor({uid:t,auth:n,stsTokenManager:a,...l}){this.providerId="firebase",this.proactiveRefresh=new pR(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new cp(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const n=await vc(this,this.stsTokenManager.getToken(this.auth,t));return Bt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return dR(this,t)}reload(){return _R(this)}_assign(t){this!==t&&(Bt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>({...n})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new Tr({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(t){Bt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let a=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),a=!0),n&&await Tf(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(di(this.auth.app))return Promise.reject(Vs(this.auth));const t=await this.getIdToken();return await vc(this,fR(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){const a=n.displayName??void 0,l=n.email??void 0,u=n.phoneNumber??void 0,f=n.photoURL??void 0,_=n.tenantId??void 0,g=n._redirectEventId??void 0,v=n.createdAt??void 0,w=n.lastLoginAt??void 0,{uid:S,emailVerified:I,isAnonymous:M,providerData:q,stsTokenManager:F}=n;Bt(S&&F,t,"internal-error");const Z=Kl.fromJSON(this.name,F);Bt(typeof S=="string",t,"internal-error"),Da(a,t.name),Da(l,t.name),Bt(typeof I=="boolean",t,"internal-error"),Bt(typeof M=="boolean",t,"internal-error"),Da(u,t.name),Da(f,t.name),Da(_,t.name),Da(g,t.name),Da(v,t.name),Da(w,t.name);const it=new Tr({uid:S,auth:t,email:l,emailVerified:I,displayName:a,isAnonymous:M,photoURL:f,phoneNumber:u,tenantId:_,stsTokenManager:Z,createdAt:v,lastLoginAt:w});return q&&Array.isArray(q)&&(it.providerData=q.map(ut=>({...ut}))),g&&(it._redirectEventId=g),it}static async _fromIdTokenResponse(t,n,a=!1){const l=new Kl;l.updateFromServerResponse(n);const u=new Tr({uid:n.localId,auth:t,stsTokenManager:l,isAnonymous:a});return await Tf(u),u}static async _fromGetAccountInfoResponse(t,n,a){const l=n.users[0];Bt(l.localId!==void 0,"internal-error");const u=l.providerUserInfo!==void 0?a0(l.providerUserInfo):[],f=!(l.email&&l.passwordHash)&&!(u!=null&&u.length),_=new Kl;_.updateFromIdToken(a);const g=new Tr({uid:l.localId,auth:t,stsTokenManager:_,isAnonymous:f}),v={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:u,metadata:new cp(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!(u!=null&&u.length)};return Object.assign(g,v),g}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iT=new Map;function Ds(r){Hs(r instanceof Function,"Expected a class definition");let t=iT.get(r);return t?(Hs(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,iT.set(r,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}o0.type="NONE";const rT=o0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sf(r,t,n){return`firebase:${r}:${t}:${n}`}class Yl{constructor(t,n,a){this.persistence=t,this.auth=n,this.userKey=a;const{config:l,name:u}=this.auth;this.fullUserKey=sf(this.userKey,l.apiKey,u),this.fullPersistenceKey=sf("persistence",l.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await vf(this.auth,{idToken:t}).catch(()=>{});return n?Tr._fromGetAccountInfoResponse(this.auth,n,t):null}return Tr._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,a="authUser"){if(!n.length)return new Yl(Ds(rT),t,a);const l=(await Promise.all(n.map(async v=>{if(await v._isAvailable())return v}))).filter(v=>v);let u=l[0]||Ds(rT);const f=sf(a,t.config.apiKey,t.name);let _=null;for(const v of n)try{const w=await v._get(f);if(w){let S;if(typeof w=="string"){const I=await vf(t,{idToken:w}).catch(()=>{});if(!I)break;S=await Tr._fromGetAccountInfoResponse(t,I,w)}else S=Tr._fromJSON(t,w);v!==u&&(_=S),u=v;break}}catch{}const g=l.filter(v=>v._shouldAllowMigration);return!u._shouldAllowMigration||!g.length?new Yl(u,t,a):(u=g[0],_&&await u._set(f,_.toJSON()),await Promise.all(n.map(async v=>{if(v!==u)try{await v._remove(f)}catch{}})),new Yl(u,t,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sT(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(h0(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(l0(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(d0(t))return"Blackberry";if(m0(t))return"Webos";if(u0(t))return"Safari";if((t.includes("chrome/")||c0(t))&&!t.includes("edge/"))return"Chrome";if(f0(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=r.match(n);if((a==null?void 0:a.length)===2)return a[1]}return"Other"}function l0(r=Vn()){return/firefox\//i.test(r)}function u0(r=Vn()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function c0(r=Vn()){return/crios\//i.test(r)}function h0(r=Vn()){return/iemobile/i.test(r)}function f0(r=Vn()){return/android/i.test(r)}function d0(r=Vn()){return/blackberry/i.test(r)}function m0(r=Vn()){return/webos/i.test(r)}function $p(r=Vn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function TR(r=Vn()){var t;return $p(r)&&!!((t=window.navigator)!=null&&t.standalone)}function ER(){return N1()&&document.documentMode===10}function p0(r=Vn()){return $p(r)||f0(r)||m0(r)||d0(r)||/windows phone/i.test(r)||h0(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _0(r,t=[]){let n;switch(r){case"Browser":n=sT(Vn());break;case"Worker":n=`${sT(Vn())}-${r}`;break;default:n=r}const a=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${Yo}/${a}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wR{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const a=u=>new Promise((f,_)=>{try{const g=t(u);f(g)}catch(g){_(g)}});a.onAbort=n,this.queue.push(a);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const a of this.queue)await a(t),a.onAbort&&n.push(a.onAbort)}catch(a){n.reverse();for(const l of n)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a==null?void 0:a.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bR(r,t={}){return to(r,"GET","/v2/passwordPolicy",Ja(r,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SR=6;class AR{constructor(t){var a;const n=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??SR,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((a=t.allowedNonAlphanumericCharacters)==null?void 0:a.join(""))??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,n),this.validatePasswordCharacterOptions(t,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(t,n){const a=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;a&&(n.meetsMinPasswordLength=t.length>=a),l&&(n.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let a;for(let l=0;l<t.length;l++)a=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(n,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(t,n,a,l,u){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CR{constructor(t,n,a,l){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=a,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new aT(this),this.idTokenSubscription=new aT(this),this.beforeStateQueue=new wR(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=n0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=Ds(n)),this._initializationPromise=this.queue(async()=>{var a,l,u;if(!this._deleted&&(this.persistenceManager=await Yl.create(this,t),(a=this._resolvePersistenceManagerAvailable)==null||a.call(this),!this._deleted)){if((l=this._popupRedirectResolver)!=null&&l._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((u=this.currentUser)==null?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await vf(this,{idToken:t}),a=await Tr._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(a)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var u;if(di(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(_=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(_,_))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let a=n,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(u=this.redirectUser)==null?void 0:u._redirectEventId,_=a==null?void 0:a._redirectEventId,g=await this.tryRedirectSignIn(t);(!f||f===_)&&(g!=null&&g.user)&&(a=g.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(f){a=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return Bt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await Tf(t)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=rR()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(di(this.app))return Promise.reject(Vs(this));const n=t?Rn(t):null;return n&&Bt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&Bt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return di(this.app)?Promise.reject(Vs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return di(this.app)?Promise.reject(Vs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ds(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await bR(this),n=new AR(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Mc("auth","Firebase",t())}onAuthStateChanged(t,n,a){return this.registerStateListener(this.authStateSubscription,t,n,a)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,a){return this.registerStateListener(this.idTokenSubscription,t,n,a)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const a=this.onAuthStateChanged(()=>{a(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(a.tenantId=this.tenantId),await vR(this,a)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)==null?void 0:t.toJSON()}}async _setRedirectUser(t,n){const a=await this.getOrInitRedirectPersistenceManager(n);return t===null?a.removeCurrentUser():a.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&Ds(t)||this._popupRedirectResolver;Bt(n,this,"argument-error"),this.redirectPersistenceManager=await Yl.create(this,[Ds(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,a;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===t?this._currentUser:((a=this.redirectUser)==null?void 0:a._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,a,l){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const _=this._isInitialized?Promise.resolve():this._initializationPromise;if(Bt(_,this,"internal-error"),_.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const g=t.addObserver(n,a,l);return()=>{f=!0,g()}}else{const g=t.addObserver(n);return()=>{f=!0,g()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Bt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=_0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var l;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await((l=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:l.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){var n;if(di(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return t!=null&&t.error&&tR(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function eo(r){return Rn(r)}class aT{constructor(t){this.auth=t,this.observer=null,this.addObserver=j1(n=>this.observer=n)}get next(){return Bt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function RR(r){Hf=r}function g0(r){return Hf.loadJS(r)}function IR(){return Hf.recaptchaEnterpriseScript}function LR(){return Hf.gapiScript}function xR(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class PR{constructor(){this.enterprise=new MR}ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}class MR{ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}const OR="recaptcha-enterprise",y0="NO_RECAPTCHA";class NR{constructor(t){this.type=OR,this.auth=eo(t)}async verify(t="verify",n=!1){async function a(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,_)=>{hR(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(g=>{if(g.recaptchaKey===void 0)_(new Error("recaptcha Enterprise site key undefined"));else{const v=new cR(g);return u.tenantId==null?u._agentRecaptchaConfig=v:u._tenantRecaptchaConfigs[u.tenantId]=v,f(v.siteKey)}}).catch(g=>{_(g)})})}function l(u,f,_){const g=window.grecaptcha;eT(g)?g.enterprise.ready(()=>{g.enterprise.execute(u,{action:t}).then(v=>{f(v)}).catch(()=>{f(y0)})}):_(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new PR().execute("siteKey",{action:"verify"}):new Promise((u,f)=>{a(this.auth).then(_=>{if(!n&&eT(window.grecaptcha))l(_,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let g=IR();g.length!==0&&(g+=_),g0(g).then(()=>{l(_,u,f)}).catch(v=>{f(v)})}}).catch(_=>{f(_)})})}}async function oT(r,t,n,a=!1,l=!1){const u=new NR(r);let f;if(l)f=y0;else try{f=await u.verify(n)}catch{f=await u.verify(n,!0)}const _={...t};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in _){const g=_.phoneEnrollmentInfo.phoneNumber,v=_.phoneEnrollmentInfo.recaptchaToken;Object.assign(_,{phoneEnrollmentInfo:{phoneNumber:g,recaptchaToken:v,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in _){const g=_.phoneSignInInfo.recaptchaToken;Object.assign(_,{phoneSignInInfo:{recaptchaToken:g,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return _}return a?Object.assign(_,{captchaResp:f}):Object.assign(_,{captchaResponse:f}),Object.assign(_,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(_,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),_}async function hp(r,t,n,a,l){var u;if((u=r._getRecaptchaConfig())!=null&&u.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const f=await oT(r,t,n,n==="getOobCode");return a(r,f)}else return a(r,t).catch(async f=>{if(f.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const _=await oT(r,t,n,n==="getOobCode");return a(r,_)}else return Promise.reject(f)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DR(r,t){const n=Bf(r,"auth");if(n.isInitialized()){const l=n.getImmediate(),u=n.getOptions();if(Bo(u,t??{}))return l;er(l,"already-initialized")}return n.initialize({options:t})}function kR(r,t){const n=(t==null?void 0:t.persistence)||[],a=(Array.isArray(n)?n:[n]).map(Ds);t!=null&&t.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(a,t==null?void 0:t.popupRedirectResolver)}function VR(r,t,n){const a=eo(r);Bt(/^https?:\/\//.test(t),a,"invalid-emulator-scheme");const l=!1,u=v0(t),{host:f,port:_}=UR(t),g=_===null?"":`:${_}`,v={url:`${u}//${f}${g}/`},w=Object.freeze({host:f,port:_,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!a._canInitEmulator){Bt(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),Bt(Bo(v,a.config.emulator)&&Bo(w,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=v,a.emulatorConfig=w,a.settings.appVerificationDisabledForTesting=!0,Ko(f)?(qp(`${u}//${f}${g}`),Fp("Auth",!0)):zR()}function v0(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function UR(r){const t=v0(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!n)return{host:"",port:null};const a=n[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(a);if(l){const u=l[1];return{host:u,port:lT(a.substr(u.length+1))}}else{const[u,f]=a.split(":");return{host:u,port:lT(f)}}}function lT(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function zR(){function r(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jp{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return Ns("not implemented")}_getIdTokenResponse(t){return Ns("not implemented")}_linkToIdToken(t,n){return Ns("not implemented")}_getReauthenticationResolver(t){return Ns("not implemented")}}async function BR(r,t){return to(r,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HR(r,t){return Dc(r,"POST","/v1/accounts:signInWithPassword",Ja(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jR(r,t){return Dc(r,"POST","/v1/accounts:signInWithEmailLink",Ja(r,t))}async function qR(r,t){return Dc(r,"POST","/v1/accounts:signInWithEmailLink",Ja(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tc extends Jp{constructor(t,n,a,l=null){super("password",a),this._email=t,this._password=n,this._tenantId=l}static _fromEmailAndPassword(t,n){return new Tc(t,n,"password")}static _fromEmailAndCode(t,n,a=null){return new Tc(t,n,"emailLink",a)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return hp(t,n,"signInWithPassword",HR);case"emailLink":return jR(t,{email:this._email,oobCode:this._password});default:er(t,"internal-error")}}async _linkToIdToken(t,n){switch(this.signInMethod){case"password":const a={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return hp(t,a,"signUpPassword",BR);case"emailLink":return qR(t,{idToken:n,email:this._email,oobCode:this._password});default:er(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ql(r,t){return Dc(r,"POST","/v1/accounts:signInWithIdp",Ja(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FR="http://localhost";class jo extends Jp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new jo(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):er("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:a,signInMethod:l,...u}=n;if(!a||!l)return null;const f=new jo(a,l);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(t){const n=this.buildRequest();return Ql(t,n)}_linkToIdToken(t,n){const a=this.buildRequest();return a.idToken=n,Ql(t,a)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,Ql(t,n)}buildRequest(){const t={requestUri:FR,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=Oc(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GR(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function ZR(r){const t=ic(rc(r)).link,n=t?ic(rc(t)).deep_link_id:null,a=ic(rc(r)).deep_link_id;return(a?ic(rc(a)).link:null)||a||n||t||r}class t_{constructor(t){const n=ic(rc(t)),a=n.apiKey??null,l=n.oobCode??null,u=GR(n.mode??null);Bt(a&&l&&u,"argument-error"),this.apiKey=a,this.operation=u,this.code=l,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(t){const n=ZR(t);try{return new t_(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class au{constructor(){this.providerId=au.PROVIDER_ID}static credential(t,n){return Tc._fromEmailAndPassword(t,n)}static credentialWithLink(t,n){const a=t_.parseLink(n);return Bt(a,"argument-error"),Tc._fromEmailAndCode(t,a.code,a.tenantId)}}au.PROVIDER_ID="password";au.EMAIL_PASSWORD_SIGN_IN_METHOD="password";au.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e_{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kc extends e_{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ka extends kc{constructor(){super("facebook.com")}static credential(t){return jo._fromParams({providerId:ka.PROVIDER_ID,signInMethod:ka.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return ka.credentialFromTaggedObject(t)}static credentialFromError(t){return ka.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return ka.credential(t.oauthAccessToken)}catch{return null}}}ka.FACEBOOK_SIGN_IN_METHOD="facebook.com";ka.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Os extends kc{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return jo._fromParams({providerId:Os.PROVIDER_ID,signInMethod:Os.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return Os.credentialFromTaggedObject(t)}static credentialFromError(t){return Os.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:a}=t;if(!n&&!a)return null;try{return Os.credential(n,a)}catch{return null}}}Os.GOOGLE_SIGN_IN_METHOD="google.com";Os.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Va extends kc{constructor(){super("github.com")}static credential(t){return jo._fromParams({providerId:Va.PROVIDER_ID,signInMethod:Va.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Va.credentialFromTaggedObject(t)}static credentialFromError(t){return Va.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Va.credential(t.oauthAccessToken)}catch{return null}}}Va.GITHUB_SIGN_IN_METHOD="github.com";Va.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ua extends kc{constructor(){super("twitter.com")}static credential(t,n){return jo._fromParams({providerId:Ua.PROVIDER_ID,signInMethod:Ua.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return Ua.credentialFromTaggedObject(t)}static credentialFromError(t){return Ua.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:a}=t;if(!n||!a)return null;try{return Ua.credential(n,a)}catch{return null}}}Ua.TWITTER_SIGN_IN_METHOD="twitter.com";Ua.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KR(r,t){return Dc(r,"POST","/v1/accounts:signUp",Ja(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qo{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,a,l=!1){const u=await Tr._fromIdTokenResponse(t,a,l),f=uT(a);return new qo({user:u,providerId:f,_tokenResponse:a,operationType:n})}static async _forOperation(t,n,a){await t._updateTokensIfNecessary(a,!0);const l=uT(a);return new qo({user:t,providerId:l,_tokenResponse:a,operationType:n})}}function uT(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ef extends ts{constructor(t,n,a,l){super(n.code,n.message),this.operationType=a,this.user=l,Object.setPrototypeOf(this,Ef.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(t,n,a,l){return new Ef(t,n,a,l)}}function T0(r,t,n,a){return(t==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Ef._fromErrorAndOperation(r,u,t,a):u})}async function YR(r,t,n=!1){const a=await vc(r,t._linkToIdToken(r.auth,await r.getIdToken()),n);return qo._forOperation(r,"link",a)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QR(r,t,n=!1){const{auth:a}=r;if(di(a.app))return Promise.reject(Vs(a));const l="reauthenticate";try{const u=await vc(r,T0(a,l,t,r),n);Bt(u.idToken,a,"internal-error");const f=Wp(u.idToken);Bt(f,a,"internal-error");const{sub:_}=f;return Bt(r.uid===_,a,"user-mismatch"),qo._forOperation(r,l,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&er(a,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function E0(r,t,n=!1){if(di(r.app))return Promise.reject(Vs(r));const a="signIn",l=await T0(r,a,t),u=await qo._fromIdTokenResponse(r,a,l);return n||await r._updateCurrentUser(u.user),u}async function XR(r,t){return E0(eo(r),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function w0(r){const t=eo(r);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function WR(r,t,n){if(di(r.app))return Promise.reject(Vs(r));const a=eo(r),f=await hp(a,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",KR).catch(g=>{throw g.code==="auth/password-does-not-meet-requirements"&&w0(r),g}),_=await qo._fromIdTokenResponse(a,"signIn",f);return await a._updateCurrentUser(_.user),_}function $R(r,t,n){return di(r.app)?Promise.reject(Vs(r)):XR(Rn(r),au.credential(t,n)).catch(async a=>{throw a.code==="auth/password-does-not-meet-requirements"&&w0(r),a})}function JR(r,t,n,a){return Rn(r).onIdTokenChanged(t,n,a)}function tI(r,t,n){return Rn(r).beforeAuthStateChanged(t,n)}function eI(r,t,n,a){return Rn(r).onAuthStateChanged(t,n,a)}function nI(r){return Rn(r).signOut()}const wf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b0{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(wf,"1"),this.storage.removeItem(wf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iI=1e3,rI=10;class S0 extends b0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=p0(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const a=this.storage.getItem(n),l=this.localCache[n];a!==l&&t(n,l,a)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((f,_,g)=>{this.notifyListeners(f,g)});return}const a=t.key;n?this.detachListener():this.stopPolling();const l=()=>{const f=this.storage.getItem(a);!n&&this.localCache[a]===f||this.notifyListeners(a,f)},u=this.storage.getItem(a);ER()&&u!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,rI):l()}notifyListeners(t,n){this.localCache[t]=n;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:a}),!0)})},iI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}S0.type="LOCAL";const sI=S0;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A0 extends b0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}A0.type="SESSION";const C0=A0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aI(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jf{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(l=>l.isListeningto(t));if(n)return n;const a=new jf(t);return this.receivers.push(a),a}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:a,eventType:l,data:u}=n.data,f=this.handlersMap[l];if(!(f!=null&&f.size))return;n.ports[0].postMessage({status:"ack",eventId:a,eventType:l});const _=Array.from(f).map(async v=>v(n.origin,u)),g=await aI(_);n.ports[0].postMessage({status:"done",eventId:a,eventType:l,response:g})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}jf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n_(r="",t=10){let n="";for(let a=0;a<t;a++)n+=Math.floor(Math.random()*10);return r+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oI{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,a=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let u,f;return new Promise((_,g)=>{const v=n_("",20);l.port1.start();const w=setTimeout(()=>{g(new Error("unsupported_event"))},a);f={messageChannel:l,onMessage(S){const I=S;if(I.data.eventId===v)switch(I.data.status){case"ack":clearTimeout(w),u=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),_(I.data.response);break;default:clearTimeout(w),clearTimeout(u),g(new Error("invalid_response"));break}}},this.handlers.add(f),l.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:t,eventId:v,data:n},[l.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kr(){return window}function lI(r){Kr().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R0(){return typeof Kr().WorkerGlobalScope<"u"&&typeof Kr().importScripts=="function"}async function uI(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function cI(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)==null?void 0:r.controller)||null}function hI(){return R0()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I0="firebaseLocalStorageDb",fI=1,bf="firebaseLocalStorage",L0="fbase_key";class Vc{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function qf(r,t){return r.transaction([bf],t?"readwrite":"readonly").objectStore(bf)}function dI(){const r=indexedDB.deleteDatabase(I0);return new Vc(r).toPromise()}function fp(){const r=indexedDB.open(I0,fI);return new Promise((t,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const a=r.result;try{a.createObjectStore(bf,{keyPath:L0})}catch(l){n(l)}}),r.addEventListener("success",async()=>{const a=r.result;a.objectStoreNames.contains(bf)?t(a):(a.close(),await dI(),t(await fp()))})})}async function cT(r,t,n){const a=qf(r,!0).put({[L0]:t,value:n});return new Vc(a).toPromise()}async function mI(r,t){const n=qf(r,!1).get(t),a=await new Vc(n).toPromise();return a===void 0?null:a.value}function hT(r,t){const n=qf(r,!0).delete(t);return new Vc(n).toPromise()}const pI=800,_I=3;class x0{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await fp(),this.db)}async _withRetries(t){let n=0;for(;;)try{const a=await this._openDb();return await t(a)}catch(a){if(n++>_I)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return R0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=jf._getInstance(hI()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var n,a;if(this.activeServiceWorker=await uI(),!this.activeServiceWorker)return;this.sender=new oI(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&(n=t[0])!=null&&n.fulfilled&&(a=t[0])!=null&&a.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||cI()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await fp();return await cT(t,wf,"1"),await hT(t,wf),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(a=>cT(a,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(a=>mI(a,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>hT(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const u=qf(l,!1).getAll();return new Vc(u).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],a=new Set;if(t.length!==0)for(const{fbase_key:l,value:u}of t)a.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(u)&&(this.notifyListeners(l,u),n.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!a.has(l)&&(this.notifyListeners(l,null),n.push(l));return n}notifyListeners(t,n){this.localCache[t]=n;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),pI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}x0.type="LOCAL";const gI=x0;new Nc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P0(r,t){return t?Ds(t):(Bt(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i_ extends Jp{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Ql(t,this._buildIdpRequest())}_linkToIdToken(t,n){return Ql(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return Ql(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function yI(r){return E0(r.auth,new i_(r),r.bypassAuthState)}function vI(r){const{auth:t,user:n}=r;return Bt(n,t,"internal-error"),QR(n,new i_(r),r.bypassAuthState)}async function TI(r){const{auth:t,user:n}=r;return Bt(n,t,"internal-error"),YR(n,new i_(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M0{constructor(t,n,a,l,u=!1){this.auth=t,this.resolver=a,this.user=l,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:a,postBody:l,tenantId:u,error:f,type:_}=t;if(f){this.reject(f);return}const g={auth:this.auth,requestUri:n,sessionId:a,tenantId:u||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(_)(g))}catch(v){this.reject(v)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return yI;case"linkViaPopup":case"linkViaRedirect":return TI;case"reauthViaPopup":case"reauthViaRedirect":return vI;default:er(this.auth,"internal-error")}}resolve(t){Hs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Hs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EI=new Nc(2e3,1e4);async function wI(r,t,n){if(di(r.app))return Promise.reject(br(r,"operation-not-supported-in-this-environment"));const a=eo(r);eR(r,t,e_);const l=P0(a,n);return new No(a,"signInViaPopup",t,l).executeNotNull()}class No extends M0{constructor(t,n,a,l,u){super(t,n,l,u),this.provider=a,this.authWindow=null,this.pollId=null,No.currentPopupAction&&No.currentPopupAction.cancel(),No.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Bt(t,this.auth,"internal-error"),t}async onExecution(){Hs(this.filter.length===1,"Popup operations only handle one event");const t=n_();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(br(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)==null?void 0:t.associatedEvent)||null}cancel(){this.reject(br(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,No.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,a;if((a=(n=this.authWindow)==null?void 0:n.window)!=null&&a.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(br(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,EI.get())};t()}}No.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bI="pendingRedirect",af=new Map;class SI extends M0{constructor(t,n,a=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,a),this.eventId=null}async execute(){let t=af.get(this.auth._key());if(!t){try{const a=await AI(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(a)}catch(n){t=()=>Promise.reject(n)}af.set(this.auth._key(),t)}return this.bypassAuthState||af.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function AI(r,t){const n=II(t),a=RI(r);if(!await a._isAvailable())return!1;const l=await a._get(n)==="true";return await a._remove(n),l}function CI(r,t){af.set(r._key(),t)}function RI(r){return Ds(r._redirectPersistence)}function II(r){return sf(bI,r.config.apiKey,r.name)}async function LI(r,t,n=!1){if(di(r.app))return Promise.reject(Vs(r));const a=eo(r),l=P0(a,t),f=await new SI(a,l,n).execute();return f&&!n&&(delete f.user._redirectEventId,await a._persistUserIfCurrent(f.user),await a._setRedirectUser(null,t)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xI=600*1e3;class PI{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(t,a)&&(n=!0,this.sendToConsumer(t,a),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!MI(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var a;if(t.error&&!O0(t)){const l=((a=t.error.code)==null?void 0:a.split("auth/")[1])||"internal-error";n.onError(br(this.auth,l))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const a=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&a}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=xI&&this.cachedEventUids.clear(),this.cachedEventUids.has(fT(t))}saveEventToCache(t){this.cachedEventUids.add(fT(t)),this.lastProcessedEventTime=Date.now()}}function fT(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function O0({type:r,error:t}){return r==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function MI(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return O0(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OI(r,t={}){return to(r,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NI=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,DI=/^https?/;async function kI(r){if(r.config.emulator)return;const{authorizedDomains:t}=await OI(r);for(const n of t)try{if(VI(n))return}catch{}er(r,"unauthorized-domain")}function VI(r){const t=up(),{protocol:n,hostname:a}=new URL(t);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&a===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===a}if(!DI.test(n))return!1;if(NI.test(r))return a===r;const l=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(a)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UI=new Nc(3e4,6e4);function dT(){const r=Kr().___jsl;if(r!=null&&r.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function zI(r){return new Promise((t,n)=>{var l,u,f;function a(){dT(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{dT(),n(br(r,"network-request-failed"))},timeout:UI.get()})}if((u=(l=Kr().gapi)==null?void 0:l.iframes)!=null&&u.Iframe)t(gapi.iframes.getContext());else if((f=Kr().gapi)!=null&&f.load)a();else{const _=xR("iframefcb");return Kr()[_]=()=>{gapi.load?a():n(br(r,"network-request-failed"))},g0(`${LR()}?onload=${_}`).catch(g=>n(g))}}).catch(t=>{throw of=null,t})}let of=null;function BI(r){return of=of||zI(r),of}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HI=new Nc(5e3,15e3),jI="__/auth/iframe",qI="emulator/auth/iframe",FI={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},GI=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ZI(r){const t=r.config;Bt(t.authDomain,r,"auth-domain-config-required");const n=t.emulator?Xp(t,qI):`https://${r.config.authDomain}/${jI}`,a={apiKey:t.apiKey,appName:r.name,v:Yo},l=GI.get(r.config.apiHost);l&&(a.eid=l);const u=r._getFrameworks();return u.length&&(a.fw=u.join(",")),`${n}?${Oc(a).slice(1)}`}async function KI(r){const t=await BI(r),n=Kr().gapi;return Bt(n,r,"internal-error"),t.open({where:document.body,url:ZI(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:FI,dontclear:!0},a=>new Promise(async(l,u)=>{await a.restyle({setHideOnLeave:!1});const f=br(r,"network-request-failed"),_=Kr().setTimeout(()=>{u(f)},HI.get());function g(){Kr().clearTimeout(_),l(a)}a.ping(g).then(g,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YI={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},QI=500,XI=600,WI="_blank",$I="http://localhost";class mT{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function JI(r,t,n,a=QI,l=XI){const u=Math.max((window.screen.availHeight-l)/2,0).toString(),f=Math.max((window.screen.availWidth-a)/2,0).toString();let _="";const g={...YI,width:a.toString(),height:l.toString(),top:u,left:f},v=Vn().toLowerCase();n&&(_=c0(v)?WI:n),l0(v)&&(t=t||$I,g.scrollbars="yes");const w=Object.entries(g).reduce((I,[M,q])=>`${I}${M}=${q},`,"");if(TR(v)&&_!=="_self")return tL(t||"",_),new mT(null);const S=window.open(t||"",_,w);Bt(S,r,"popup-blocked");try{S.focus()}catch{}return new mT(S)}function tL(r,t){const n=document.createElement("a");n.href=r,n.target=t;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eL="__/auth/handler",nL="emulator/auth/handler",iL=encodeURIComponent("fac");async function pT(r,t,n,a,l,u){Bt(r.config.authDomain,r,"auth-domain-config-required"),Bt(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:a,v:Yo,eventId:l};if(t instanceof e_){t.setDefaultLanguage(r.languageCode),f.providerId=t.providerId||"",H1(t.getCustomParameters())||(f.customParameters=JSON.stringify(t.getCustomParameters()));for(const[w,S]of Object.entries({}))f[w]=S}if(t instanceof kc){const w=t.getScopes().filter(S=>S!=="");w.length>0&&(f.scopes=w.join(","))}r.tenantId&&(f.tid=r.tenantId);const _=f;for(const w of Object.keys(_))_[w]===void 0&&delete _[w];const g=await r._getAppCheckToken(),v=g?`#${iL}=${encodeURIComponent(g)}`:"";return`${rL(r)}?${Oc(_).slice(1)}${v}`}function rL({config:r}){return r.emulator?Xp(r,nL):`https://${r.authDomain}/${eL}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qm="webStorageSupport";class sL{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=C0,this._completeRedirectFn=LI,this._overrideRedirectResult=CI}async _openPopup(t,n,a,l){var f;Hs((f=this.eventManagers[t._key()])==null?void 0:f.manager,"_initialize() not called before _openPopup()");const u=await pT(t,n,a,up(),l);return JI(t,u,n_())}async _openRedirect(t,n,a,l){await this._originValidation(t);const u=await pT(t,n,a,up(),l);return lI(u),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:l,promise:u}=this.eventManagers[n];return l?Promise.resolve(l):(Hs(u,"If manager is not set, promise should be"),u)}const a=this.initAndGetManager(t);return this.eventManagers[n]={promise:a},a.catch(()=>{delete this.eventManagers[n]}),a}async initAndGetManager(t){const n=await KI(t),a=new PI(t);return n.register("authEvent",l=>(Bt(l==null?void 0:l.authEvent,t,"invalid-auth-event"),{status:a.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:a},this.iframes[t._key()]=n,a}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(Qm,{type:Qm},l=>{var f;const u=(f=l==null?void 0:l[0])==null?void 0:f[Qm];u!==void 0&&n(!!u),er(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=kI(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return p0()||u0()||$p()}}const aL=sL;var _T="@firebase/auth",gT="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oL{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)==null?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(a=>{t((a==null?void 0:a.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Bt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lL(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function uL(r){Ho(new Ga("auth",(t,{options:n})=>{const a=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),u=t.getProvider("app-check-internal"),{apiKey:f,authDomain:_}=a.options;Bt(f&&!f.includes(":"),"invalid-api-key",{appName:a.name});const g={apiKey:f,authDomain:_,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:_0(r)},v=new CR(a,l,u,g);return kR(v,n),v},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,a)=>{t.getProvider("auth-internal").initialize()})),Ho(new Ga("auth-internal",t=>{const n=eo(t.getProvider("auth").getImmediate());return(a=>new oL(a))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Zr(_T,gT,lL(r)),Zr(_T,gT,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cL=300,hL=YE("authIdTokenMaxAge")||cL;let yT=null;const fL=r=>async t=>{const n=t&&await t.getIdTokenResult(),a=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(a&&a>hL)return;const l=n==null?void 0:n.token;yT!==l&&(yT=l,await fetch(r,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function dL(r=Kp()){const t=Bf(r,"auth");if(t.isInitialized())return t.getImmediate();const n=DR(r,{popupRedirectResolver:aL,persistence:[gI,sI,C0]}),a=YE("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(a,location.origin);if(location.origin===u.origin){const f=fL(u.toString());tI(n,f,()=>f(n.currentUser)),JR(n,_=>f(_))}}const l=GE("auth");return l&&VR(n,`http://${l}`),n}function mL(){var r;return((r=document.getElementsByTagName("head"))==null?void 0:r[0])??document}RR({loadJS(r){return new Promise((t,n)=>{const a=document.createElement("script");a.setAttribute("src",r),a.onload=t,a.onerror=l=>{const u=br("internal-error");u.customData=l,n(u)},a.type="text/javascript",a.charset="UTF-8",mL().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});uL("Browser");var pL="firebase",_L="12.3.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Zr(pL,_L,"app");var vT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ja,N0;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(z,O){function D(){}D.prototype=O.prototype,z.F=O.prototype,z.prototype=new D,z.prototype.constructor=z,z.D=function(j,B,G){for(var U=Array(arguments.length-2),ce=2;ce<arguments.length;ce++)U[ce-2]=arguments[ce];return O.prototype[B].apply(j,U)}}function n(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(a,n),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(z,O,D){D||(D=0);const j=Array(16);if(typeof O=="string")for(var B=0;B<16;++B)j[B]=O.charCodeAt(D++)|O.charCodeAt(D++)<<8|O.charCodeAt(D++)<<16|O.charCodeAt(D++)<<24;else for(B=0;B<16;++B)j[B]=O[D++]|O[D++]<<8|O[D++]<<16|O[D++]<<24;O=z.g[0],D=z.g[1],B=z.g[2];let G=z.g[3],U;U=O+(G^D&(B^G))+j[0]+3614090360&4294967295,O=D+(U<<7&4294967295|U>>>25),U=G+(B^O&(D^B))+j[1]+3905402710&4294967295,G=O+(U<<12&4294967295|U>>>20),U=B+(D^G&(O^D))+j[2]+606105819&4294967295,B=G+(U<<17&4294967295|U>>>15),U=D+(O^B&(G^O))+j[3]+3250441966&4294967295,D=B+(U<<22&4294967295|U>>>10),U=O+(G^D&(B^G))+j[4]+4118548399&4294967295,O=D+(U<<7&4294967295|U>>>25),U=G+(B^O&(D^B))+j[5]+1200080426&4294967295,G=O+(U<<12&4294967295|U>>>20),U=B+(D^G&(O^D))+j[6]+2821735955&4294967295,B=G+(U<<17&4294967295|U>>>15),U=D+(O^B&(G^O))+j[7]+4249261313&4294967295,D=B+(U<<22&4294967295|U>>>10),U=O+(G^D&(B^G))+j[8]+1770035416&4294967295,O=D+(U<<7&4294967295|U>>>25),U=G+(B^O&(D^B))+j[9]+2336552879&4294967295,G=O+(U<<12&4294967295|U>>>20),U=B+(D^G&(O^D))+j[10]+4294925233&4294967295,B=G+(U<<17&4294967295|U>>>15),U=D+(O^B&(G^O))+j[11]+2304563134&4294967295,D=B+(U<<22&4294967295|U>>>10),U=O+(G^D&(B^G))+j[12]+1804603682&4294967295,O=D+(U<<7&4294967295|U>>>25),U=G+(B^O&(D^B))+j[13]+4254626195&4294967295,G=O+(U<<12&4294967295|U>>>20),U=B+(D^G&(O^D))+j[14]+2792965006&4294967295,B=G+(U<<17&4294967295|U>>>15),U=D+(O^B&(G^O))+j[15]+1236535329&4294967295,D=B+(U<<22&4294967295|U>>>10),U=O+(B^G&(D^B))+j[1]+4129170786&4294967295,O=D+(U<<5&4294967295|U>>>27),U=G+(D^B&(O^D))+j[6]+3225465664&4294967295,G=O+(U<<9&4294967295|U>>>23),U=B+(O^D&(G^O))+j[11]+643717713&4294967295,B=G+(U<<14&4294967295|U>>>18),U=D+(G^O&(B^G))+j[0]+3921069994&4294967295,D=B+(U<<20&4294967295|U>>>12),U=O+(B^G&(D^B))+j[5]+3593408605&4294967295,O=D+(U<<5&4294967295|U>>>27),U=G+(D^B&(O^D))+j[10]+38016083&4294967295,G=O+(U<<9&4294967295|U>>>23),U=B+(O^D&(G^O))+j[15]+3634488961&4294967295,B=G+(U<<14&4294967295|U>>>18),U=D+(G^O&(B^G))+j[4]+3889429448&4294967295,D=B+(U<<20&4294967295|U>>>12),U=O+(B^G&(D^B))+j[9]+568446438&4294967295,O=D+(U<<5&4294967295|U>>>27),U=G+(D^B&(O^D))+j[14]+3275163606&4294967295,G=O+(U<<9&4294967295|U>>>23),U=B+(O^D&(G^O))+j[3]+4107603335&4294967295,B=G+(U<<14&4294967295|U>>>18),U=D+(G^O&(B^G))+j[8]+1163531501&4294967295,D=B+(U<<20&4294967295|U>>>12),U=O+(B^G&(D^B))+j[13]+2850285829&4294967295,O=D+(U<<5&4294967295|U>>>27),U=G+(D^B&(O^D))+j[2]+4243563512&4294967295,G=O+(U<<9&4294967295|U>>>23),U=B+(O^D&(G^O))+j[7]+1735328473&4294967295,B=G+(U<<14&4294967295|U>>>18),U=D+(G^O&(B^G))+j[12]+2368359562&4294967295,D=B+(U<<20&4294967295|U>>>12),U=O+(D^B^G)+j[5]+4294588738&4294967295,O=D+(U<<4&4294967295|U>>>28),U=G+(O^D^B)+j[8]+2272392833&4294967295,G=O+(U<<11&4294967295|U>>>21),U=B+(G^O^D)+j[11]+1839030562&4294967295,B=G+(U<<16&4294967295|U>>>16),U=D+(B^G^O)+j[14]+4259657740&4294967295,D=B+(U<<23&4294967295|U>>>9),U=O+(D^B^G)+j[1]+2763975236&4294967295,O=D+(U<<4&4294967295|U>>>28),U=G+(O^D^B)+j[4]+1272893353&4294967295,G=O+(U<<11&4294967295|U>>>21),U=B+(G^O^D)+j[7]+4139469664&4294967295,B=G+(U<<16&4294967295|U>>>16),U=D+(B^G^O)+j[10]+3200236656&4294967295,D=B+(U<<23&4294967295|U>>>9),U=O+(D^B^G)+j[13]+681279174&4294967295,O=D+(U<<4&4294967295|U>>>28),U=G+(O^D^B)+j[0]+3936430074&4294967295,G=O+(U<<11&4294967295|U>>>21),U=B+(G^O^D)+j[3]+3572445317&4294967295,B=G+(U<<16&4294967295|U>>>16),U=D+(B^G^O)+j[6]+76029189&4294967295,D=B+(U<<23&4294967295|U>>>9),U=O+(D^B^G)+j[9]+3654602809&4294967295,O=D+(U<<4&4294967295|U>>>28),U=G+(O^D^B)+j[12]+3873151461&4294967295,G=O+(U<<11&4294967295|U>>>21),U=B+(G^O^D)+j[15]+530742520&4294967295,B=G+(U<<16&4294967295|U>>>16),U=D+(B^G^O)+j[2]+3299628645&4294967295,D=B+(U<<23&4294967295|U>>>9),U=O+(B^(D|~G))+j[0]+4096336452&4294967295,O=D+(U<<6&4294967295|U>>>26),U=G+(D^(O|~B))+j[7]+1126891415&4294967295,G=O+(U<<10&4294967295|U>>>22),U=B+(O^(G|~D))+j[14]+2878612391&4294967295,B=G+(U<<15&4294967295|U>>>17),U=D+(G^(B|~O))+j[5]+4237533241&4294967295,D=B+(U<<21&4294967295|U>>>11),U=O+(B^(D|~G))+j[12]+1700485571&4294967295,O=D+(U<<6&4294967295|U>>>26),U=G+(D^(O|~B))+j[3]+2399980690&4294967295,G=O+(U<<10&4294967295|U>>>22),U=B+(O^(G|~D))+j[10]+4293915773&4294967295,B=G+(U<<15&4294967295|U>>>17),U=D+(G^(B|~O))+j[1]+2240044497&4294967295,D=B+(U<<21&4294967295|U>>>11),U=O+(B^(D|~G))+j[8]+1873313359&4294967295,O=D+(U<<6&4294967295|U>>>26),U=G+(D^(O|~B))+j[15]+4264355552&4294967295,G=O+(U<<10&4294967295|U>>>22),U=B+(O^(G|~D))+j[6]+2734768916&4294967295,B=G+(U<<15&4294967295|U>>>17),U=D+(G^(B|~O))+j[13]+1309151649&4294967295,D=B+(U<<21&4294967295|U>>>11),U=O+(B^(D|~G))+j[4]+4149444226&4294967295,O=D+(U<<6&4294967295|U>>>26),U=G+(D^(O|~B))+j[11]+3174756917&4294967295,G=O+(U<<10&4294967295|U>>>22),U=B+(O^(G|~D))+j[2]+718787259&4294967295,B=G+(U<<15&4294967295|U>>>17),U=D+(G^(B|~O))+j[9]+3951481745&4294967295,z.g[0]=z.g[0]+O&4294967295,z.g[1]=z.g[1]+(B+(U<<21&4294967295|U>>>11))&4294967295,z.g[2]=z.g[2]+B&4294967295,z.g[3]=z.g[3]+G&4294967295}a.prototype.v=function(z,O){O===void 0&&(O=z.length);const D=O-this.blockSize,j=this.C;let B=this.h,G=0;for(;G<O;){if(B==0)for(;G<=D;)l(this,z,G),G+=this.blockSize;if(typeof z=="string"){for(;G<O;)if(j[B++]=z.charCodeAt(G++),B==this.blockSize){l(this,j),B=0;break}}else for(;G<O;)if(j[B++]=z[G++],B==this.blockSize){l(this,j),B=0;break}}this.h=B,this.o+=O},a.prototype.A=function(){var z=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);z[0]=128;for(var O=1;O<z.length-8;++O)z[O]=0;O=this.o*8;for(var D=z.length-8;D<z.length;++D)z[D]=O&255,O/=256;for(this.v(z),z=Array(16),O=0,D=0;D<4;++D)for(let j=0;j<32;j+=8)z[O++]=this.g[D]>>>j&255;return z};function u(z,O){var D=_;return Object.prototype.hasOwnProperty.call(D,z)?D[z]:D[z]=O(z)}function f(z,O){this.h=O;const D=[];let j=!0;for(let B=z.length-1;B>=0;B--){const G=z[B]|0;j&&G==O||(D[B]=G,j=!1)}this.g=D}var _={};function g(z){return-128<=z&&z<128?u(z,function(O){return new f([O|0],O<0?-1:0)}):new f([z|0],z<0?-1:0)}function v(z){if(isNaN(z)||!isFinite(z))return S;if(z<0)return Z(v(-z));const O=[];let D=1;for(let j=0;z>=D;j++)O[j]=z/D|0,D*=4294967296;return new f(O,0)}function w(z,O){if(z.length==0)throw Error("number format error: empty string");if(O=O||10,O<2||36<O)throw Error("radix out of range: "+O);if(z.charAt(0)=="-")return Z(w(z.substring(1),O));if(z.indexOf("-")>=0)throw Error('number format error: interior "-" character');const D=v(Math.pow(O,8));let j=S;for(let G=0;G<z.length;G+=8){var B=Math.min(8,z.length-G);const U=parseInt(z.substring(G,G+B),O);B<8?(B=v(Math.pow(O,B)),j=j.j(B).add(v(U))):(j=j.j(D),j=j.add(v(U)))}return j}var S=g(0),I=g(1),M=g(16777216);r=f.prototype,r.m=function(){if(F(this))return-Z(this).m();let z=0,O=1;for(let D=0;D<this.g.length;D++){const j=this.i(D);z+=(j>=0?j:4294967296+j)*O,O*=4294967296}return z},r.toString=function(z){if(z=z||10,z<2||36<z)throw Error("radix out of range: "+z);if(q(this))return"0";if(F(this))return"-"+Z(this).toString(z);const O=v(Math.pow(z,6));var D=this;let j="";for(;;){const B=St(D,O).g;D=it(D,B.j(O));let G=((D.g.length>0?D.g[0]:D.h)>>>0).toString(z);if(D=B,q(D))return G+j;for(;G.length<6;)G="0"+G;j=G+j}},r.i=function(z){return z<0?0:z<this.g.length?this.g[z]:this.h};function q(z){if(z.h!=0)return!1;for(let O=0;O<z.g.length;O++)if(z.g[O]!=0)return!1;return!0}function F(z){return z.h==-1}r.l=function(z){return z=it(this,z),F(z)?-1:q(z)?0:1};function Z(z){const O=z.g.length,D=[];for(let j=0;j<O;j++)D[j]=~z.g[j];return new f(D,~z.h).add(I)}r.abs=function(){return F(this)?Z(this):this},r.add=function(z){const O=Math.max(this.g.length,z.g.length),D=[];let j=0;for(let B=0;B<=O;B++){let G=j+(this.i(B)&65535)+(z.i(B)&65535),U=(G>>>16)+(this.i(B)>>>16)+(z.i(B)>>>16);j=U>>>16,G&=65535,U&=65535,D[B]=U<<16|G}return new f(D,D[D.length-1]&-2147483648?-1:0)};function it(z,O){return z.add(Z(O))}r.j=function(z){if(q(this)||q(z))return S;if(F(this))return F(z)?Z(this).j(Z(z)):Z(Z(this).j(z));if(F(z))return Z(this.j(Z(z)));if(this.l(M)<0&&z.l(M)<0)return v(this.m()*z.m());const O=this.g.length+z.g.length,D=[];for(var j=0;j<2*O;j++)D[j]=0;for(j=0;j<this.g.length;j++)for(let B=0;B<z.g.length;B++){const G=this.i(j)>>>16,U=this.i(j)&65535,ce=z.i(B)>>>16,be=z.i(B)&65535;D[2*j+2*B]+=U*be,ut(D,2*j+2*B),D[2*j+2*B+1]+=G*be,ut(D,2*j+2*B+1),D[2*j+2*B+1]+=U*ce,ut(D,2*j+2*B+1),D[2*j+2*B+2]+=G*ce,ut(D,2*j+2*B+2)}for(z=0;z<O;z++)D[z]=D[2*z+1]<<16|D[2*z];for(z=O;z<2*O;z++)D[z]=0;return new f(D,0)};function ut(z,O){for(;(z[O]&65535)!=z[O];)z[O+1]+=z[O]>>>16,z[O]&=65535,O++}function st(z,O){this.g=z,this.h=O}function St(z,O){if(q(O))throw Error("division by zero");if(q(z))return new st(S,S);if(F(z))return O=St(Z(z),O),new st(Z(O.g),Z(O.h));if(F(O))return O=St(z,Z(O)),new st(Z(O.g),O.h);if(z.g.length>30){if(F(z)||F(O))throw Error("slowDivide_ only works with positive integers.");for(var D=I,j=O;j.l(z)<=0;)D=Tt(D),j=Tt(j);var B=kt(D,1),G=kt(j,1);for(j=kt(j,2),D=kt(D,2);!q(j);){var U=G.add(j);U.l(z)<=0&&(B=B.add(D),G=U),j=kt(j,1),D=kt(D,1)}return O=it(z,B.j(O)),new st(B,O)}for(B=S;z.l(O)>=0;){for(D=Math.max(1,Math.floor(z.m()/O.m())),j=Math.ceil(Math.log(D)/Math.LN2),j=j<=48?1:Math.pow(2,j-48),G=v(D),U=G.j(O);F(U)||U.l(z)>0;)D-=j,G=v(D),U=G.j(O);q(G)&&(G=I),B=B.add(G),z=it(z,U)}return new st(B,z)}r.B=function(z){return St(this,z).h},r.and=function(z){const O=Math.max(this.g.length,z.g.length),D=[];for(let j=0;j<O;j++)D[j]=this.i(j)&z.i(j);return new f(D,this.h&z.h)},r.or=function(z){const O=Math.max(this.g.length,z.g.length),D=[];for(let j=0;j<O;j++)D[j]=this.i(j)|z.i(j);return new f(D,this.h|z.h)},r.xor=function(z){const O=Math.max(this.g.length,z.g.length),D=[];for(let j=0;j<O;j++)D[j]=this.i(j)^z.i(j);return new f(D,this.h^z.h)};function Tt(z){const O=z.g.length+1,D=[];for(let j=0;j<O;j++)D[j]=z.i(j)<<1|z.i(j-1)>>>31;return new f(D,z.h)}function kt(z,O){const D=O>>5;O%=32;const j=z.g.length-D,B=[];for(let G=0;G<j;G++)B[G]=O>0?z.i(G+D)>>>O|z.i(G+D+1)<<32-O:z.i(G+D);return new f(B,z.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,N0=a,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.B,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=v,f.fromString=w,ja=f}).apply(typeof vT<"u"?vT:typeof self<"u"?self:typeof window<"u"?window:{});var Qh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var D0,sc,k0,lf,dp,V0,U0,z0;(function(){var r,t=Object.defineProperty;function n(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof Qh=="object"&&Qh];for(var E=0;E<d.length;++E){var A=d[E];if(A&&A.Math==Math)return A}throw Error("Cannot find global object")}var a=n(this);function l(d,E){if(E)t:{var A=a;d=d.split(".");for(var P=0;P<d.length-1;P++){var Q=d[P];if(!(Q in A))break t;A=A[Q]}d=d[d.length-1],P=A[d],E=E(P),E!=P&&E!=null&&t(A,d,{configurable:!0,writable:!0,value:E})}}l("Symbol.dispose",function(d){return d||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(d){return d||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(d){return d||function(E){var A=[],P;for(P in E)Object.prototype.hasOwnProperty.call(E,P)&&A.push([P,E[P]]);return A}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},f=this||self;function _(d){var E=typeof d;return E=="object"&&d!=null||E=="function"}function g(d,E,A){return d.call.apply(d.bind,arguments)}function v(d,E,A){return v=g,v.apply(null,arguments)}function w(d,E){var A=Array.prototype.slice.call(arguments,1);return function(){var P=A.slice();return P.push.apply(P,arguments),d.apply(this,P)}}function S(d,E){function A(){}A.prototype=E.prototype,d.Z=E.prototype,d.prototype=new A,d.prototype.constructor=d,d.Ob=function(P,Q,tt){for(var yt=Array(arguments.length-2),Ut=2;Ut<arguments.length;Ut++)yt[Ut-2]=arguments[Ut];return E.prototype[Q].apply(P,yt)}}var I=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?d=>d&&AsyncContext.Snapshot.wrap(d):d=>d;function M(d){const E=d.length;if(E>0){const A=Array(E);for(let P=0;P<E;P++)A[P]=d[P];return A}return[]}function q(d,E){for(let P=1;P<arguments.length;P++){const Q=arguments[P];var A=typeof Q;if(A=A!="object"?A:Q?Array.isArray(Q)?"array":A:"null",A=="array"||A=="object"&&typeof Q.length=="number"){A=d.length||0;const tt=Q.length||0;d.length=A+tt;for(let yt=0;yt<tt;yt++)d[A+yt]=Q[yt]}else d.push(Q)}}class F{constructor(E,A){this.i=E,this.j=A,this.h=0,this.g=null}get(){let E;return this.h>0?(this.h--,E=this.g,this.g=E.next,E.next=null):E=this.i(),E}}function Z(d){f.setTimeout(()=>{throw d},0)}function it(){var d=z;let E=null;return d.g&&(E=d.g,d.g=d.g.next,d.g||(d.h=null),E.next=null),E}class ut{constructor(){this.h=this.g=null}add(E,A){const P=st.get();P.set(E,A),this.h?this.h.next=P:this.g=P,this.h=P}}var st=new F(()=>new St,d=>d.reset());class St{constructor(){this.next=this.g=this.h=null}set(E,A){this.h=E,this.g=A,this.next=null}reset(){this.next=this.g=this.h=null}}let Tt,kt=!1,z=new ut,O=()=>{const d=Promise.resolve(void 0);Tt=()=>{d.then(D)}};function D(){for(var d;d=it();){try{d.h.call(d.g)}catch(A){Z(A)}var E=st;E.j(d),E.h<100&&(E.h++,d.next=E.g,E.g=d)}kt=!1}function j(){this.u=this.u,this.C=this.C}j.prototype.u=!1,j.prototype.dispose=function(){this.u||(this.u=!0,this.N())},j.prototype[Symbol.dispose]=function(){this.dispose()},j.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function B(d,E){this.type=d,this.g=this.target=E,this.defaultPrevented=!1}B.prototype.h=function(){this.defaultPrevented=!0};var G=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var d=!1,E=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const A=()=>{};f.addEventListener("test",A,E),f.removeEventListener("test",A,E)}catch{}return d})();function U(d){return/^[\s\xa0]*$/.test(d)}function ce(d,E){B.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d&&this.init(d,E)}S(ce,B),ce.prototype.init=function(d,E){const A=this.type=d.type,P=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;this.target=d.target||d.srcElement,this.g=E,E=d.relatedTarget,E||(A=="mouseover"?E=d.fromElement:A=="mouseout"&&(E=d.toElement)),this.relatedTarget=E,P?(this.clientX=P.clientX!==void 0?P.clientX:P.pageX,this.clientY=P.clientY!==void 0?P.clientY:P.pageY,this.screenX=P.screenX||0,this.screenY=P.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=d.pointerType,this.state=d.state,this.i=d,d.defaultPrevented&&ce.Z.h.call(this)},ce.prototype.h=function(){ce.Z.h.call(this);const d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var be="closure_listenable_"+(Math.random()*1e6|0),rt=0;function Et(d,E,A,P,Q){this.listener=d,this.proxy=null,this.src=E,this.type=A,this.capture=!!P,this.ha=Q,this.key=++rt,this.da=this.fa=!1}function pt(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function re(d,E,A){for(const P in d)E.call(A,d[P],P,d)}function N(d,E){for(const A in d)E.call(void 0,d[A],A,d)}function at(d){const E={};for(const A in d)E[A]=d[A];return E}const gt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function _t(d,E){let A,P;for(let Q=1;Q<arguments.length;Q++){P=arguments[Q];for(A in P)d[A]=P[A];for(let tt=0;tt<gt.length;tt++)A=gt[tt],Object.prototype.hasOwnProperty.call(P,A)&&(d[A]=P[A])}}function wt(d){this.src=d,this.g={},this.h=0}wt.prototype.add=function(d,E,A,P,Q){const tt=d.toString();d=this.g[tt],d||(d=this.g[tt]=[],this.h++);const yt=vt(d,E,P,Q);return yt>-1?(E=d[yt],A||(E.fa=!1)):(E=new Et(E,this.src,tt,!!P,Q),E.fa=A,d.push(E)),E};function It(d,E){const A=E.type;if(A in d.g){var P=d.g[A],Q=Array.prototype.indexOf.call(P,E,void 0),tt;(tt=Q>=0)&&Array.prototype.splice.call(P,Q,1),tt&&(pt(E),d.g[A].length==0&&(delete d.g[A],d.h--))}}function vt(d,E,A,P){for(let Q=0;Q<d.length;++Q){const tt=d[Q];if(!tt.da&&tt.listener==E&&tt.capture==!!A&&tt.ha==P)return Q}return-1}var Ee="closure_lm_"+(Math.random()*1e6|0),Wt={};function Jn(d,E,A,P,Q){if(Array.isArray(E)){for(let tt=0;tt<E.length;tt++)Jn(d,E[tt],A,P,Q);return null}return A=is(A),d&&d[be]?d.J(E,A,_(P)?!!P.capture:!1,Q):ns(d,E,A,!1,P,Q)}function ns(d,E,A,P,Q,tt){if(!E)throw Error("Invalid event type");const yt=_(Q)?!!Q.capture:!!Q;let Ut=Gs(d);if(Ut||(d[Ee]=Ut=new wt(d)),A=Ut.add(E,A,P,yt,tt),A.proxy)return A;if(P=Rr(),A.proxy=P,P.src=d,P.listener=A,d.addEventListener)G||(Q=yt),Q===void 0&&(Q=!1),d.addEventListener(E.toString(),P,Q);else if(d.attachEvent)d.attachEvent(Fs(E.toString()),P);else if(d.addListener&&d.removeListener)d.addListener(P);else throw Error("addEventListener and attachEvent are unavailable.");return A}function Rr(){function d(A){return E.call(d.src,d.listener,A)}const E=tl;return d}function Oi(d,E,A,P,Q){if(Array.isArray(E))for(var tt=0;tt<E.length;tt++)Oi(d,E[tt],A,P,Q);else P=_(P)?!!P.capture:!!P,A=is(A),d&&d[be]?(d=d.i,tt=String(E).toString(),tt in d.g&&(E=d.g[tt],A=vt(E,A,P,Q),A>-1&&(pt(E[A]),Array.prototype.splice.call(E,A,1),E.length==0&&(delete d.g[tt],d.h--)))):d&&(d=Gs(d))&&(E=d.g[E.toString()],d=-1,E&&(d=vt(E,A,P,Q)),(A=d>-1?E[d]:null)&&nr(A))}function nr(d){if(typeof d!="number"&&d&&!d.da){var E=d.src;if(E&&E[be])It(E.i,d);else{var A=d.type,P=d.proxy;E.removeEventListener?E.removeEventListener(A,P,d.capture):E.detachEvent?E.detachEvent(Fs(A),P):E.addListener&&E.removeListener&&E.removeListener(P),(A=Gs(E))?(It(A,d),A.h==0&&(A.src=null,E[Ee]=null)):pt(d)}}}function Fs(d){return d in Wt?Wt[d]:Wt[d]="on"+d}function tl(d,E){if(d.da)d=!0;else{E=new ce(E,this);const A=d.listener,P=d.ha||d.src;d.fa&&nr(d),d=A.call(P,E)}return d}function Gs(d){return d=d[Ee],d instanceof wt?d:null}var ln="__closure_events_fn_"+(Math.random()*1e9>>>0);function is(d){return typeof d=="function"?d:(d[ln]||(d[ln]=function(E){return d.handleEvent(E)}),d[ln])}function qe(){j.call(this),this.i=new wt(this),this.M=this,this.G=null}S(qe,j),qe.prototype[be]=!0,qe.prototype.removeEventListener=function(d,E,A,P){Oi(this,d,E,A,P)};function Fe(d,E){var A,P=d.G;if(P)for(A=[];P;P=P.G)A.push(P);if(d=d.M,P=E.type||E,typeof E=="string")E=new B(E,d);else if(E instanceof B)E.target=E.target||d;else{var Q=E;E=new B(P,d),_t(E,Q)}Q=!0;let tt,yt;if(A)for(yt=A.length-1;yt>=0;yt--)tt=E.g=A[yt],Q=mi(tt,P,!0,E)&&Q;if(tt=E.g=d,Q=mi(tt,P,!0,E)&&Q,Q=mi(tt,P,!1,E)&&Q,A)for(yt=0;yt<A.length;yt++)tt=E.g=A[yt],Q=mi(tt,P,!1,E)&&Q}qe.prototype.N=function(){if(qe.Z.N.call(this),this.i){var d=this.i;for(const E in d.g){const A=d.g[E];for(let P=0;P<A.length;P++)pt(A[P]);delete d.g[E],d.h--}}this.G=null},qe.prototype.J=function(d,E,A,P){return this.i.add(String(d),E,!1,A,P)},qe.prototype.K=function(d,E,A,P){return this.i.add(String(d),E,!0,A,P)};function mi(d,E,A,P){if(E=d.i.g[String(E)],!E)return!0;E=E.concat();let Q=!0;for(let tt=0;tt<E.length;++tt){const yt=E[tt];if(yt&&!yt.da&&yt.capture==A){const Ut=yt.listener,Qt=yt.ha||yt.src;yt.fa&&It(d.i,yt),Q=Ut.call(Qt,P)!==!1&&Q}}return Q&&!P.defaultPrevented}function el(d,E){if(typeof d!="function")if(d&&typeof d.handleEvent=="function")d=v(d.handleEvent,d);else throw Error("Invalid listener argument");return Number(E)>2147483647?-1:f.setTimeout(d,E||0)}function Zs(d){d.g=el(()=>{d.g=null,d.i&&(d.i=!1,Zs(d))},d.l);const E=d.h;d.h=null,d.m.apply(null,E)}class hu extends j{constructor(E,A){super(),this.m=E,this.l=A,this.h=null,this.i=!1,this.g=null}j(E){this.h=arguments,this.g?this.i=!0:Zs(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function rs(d){j.call(this),this.h=d,this.g={}}S(rs,j);var Ni=[];function Je(d){re(d.g,function(E,A){this.g.hasOwnProperty(A)&&nr(E)},d),d.g={}}rs.prototype.N=function(){rs.Z.N.call(this),Je(this)},rs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Un=f.JSON.stringify,En=f.JSON.parse,nl=class{stringify(d){return f.JSON.stringify(d,void 0)}parse(d){return f.JSON.parse(d,void 0)}};function no(){}function il(){}var pi={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Di(){B.call(this,"d")}S(Di,B);function ti(){B.call(this,"c")}S(ti,B);var ei={},ni=null;function Ks(){return ni=ni||new qe}ei.Ia="serverreachability";function io(d){B.call(this,ei.Ia,d)}S(io,B);function ir(d){const E=Ks();Fe(E,new io(E))}ei.STAT_EVENT="statevent";function ss(d,E){B.call(this,ei.STAT_EVENT,d),this.stat=E}S(ss,B);function xe(d){const E=Ks();Fe(E,new ss(E,d))}ei.Ja="timingevent";function rl(d,E){B.call(this,ei.Ja,d),this.size=E}S(rl,B);function Ir(d,E){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){d()},E)}function Lr(){this.g=!0}Lr.prototype.ua=function(){this.g=!1};function ro(d,E,A,P,Q,tt){d.info(function(){if(d.g)if(tt){var yt="",Ut=tt.split("&");for(let he=0;he<Ut.length;he++){var Qt=Ut[he].split("=");if(Qt.length>1){const Pe=Qt[0];Qt=Qt[1];const Gn=Pe.split("_");yt=Gn.length>=2&&Gn[1]=="type"?yt+(Pe+"="+Qt+"&"):yt+(Pe+"=redacted&")}}}else yt=null;else yt=tt;return"XMLHTTP REQ ("+P+") [attempt "+Q+"]: "+E+`
`+A+`
`+yt})}function so(d,E,A,P,Q,tt,yt){d.info(function(){return"XMLHTTP RESP ("+P+") [ attempt "+Q+"]: "+E+`
`+A+`
`+tt+" "+yt})}function rr(d,E,A,P){d.info(function(){return"XMLHTTP TEXT ("+E+"): "+ki(d,A)+(P?" "+P:"")})}function ao(d,E){d.info(function(){return"TIMEOUT: "+E})}Lr.prototype.info=function(){};function ki(d,E){if(!d.g)return E;if(!E)return null;try{const tt=JSON.parse(E);if(tt){for(d=0;d<tt.length;d++)if(Array.isArray(tt[d])){var A=tt[d];if(!(A.length<2)){var P=A[1];if(Array.isArray(P)&&!(P.length<1)){var Q=P[0];if(Q!="noop"&&Q!="stop"&&Q!="close")for(let yt=1;yt<P.length;yt++)P[yt]=""}}}}return Un(tt)}catch{return E}}var De={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},tn={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},sr;function un(){}S(un,no),un.prototype.g=function(){return new XMLHttpRequest},sr=new un;function xt(d){return encodeURIComponent(String(d))}function sl(d){var E=1;d=d.split(":");const A=[];for(;E>0&&d.length;)A.push(d.shift()),E--;return d.length&&A.push(d.join(":")),A}function ii(d,E,A,P){this.j=d,this.i=E,this.l=A,this.S=P||1,this.V=new rs(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ar}function ar(){this.i=null,this.g="",this.h=!1}var as={},ri={};function _i(d,E,A){d.M=1,d.A=de(ge(E)),d.u=A,d.R=!0,zn(d,null)}function zn(d,E){d.F=Date.now(),os(d),d.B=ge(d.A);var A=d.B,P=d.S;Array.isArray(P)||(P=[String(P)]),Qs(A.i,"t",P),d.C=0,A=d.j.L,d.h=new ar,d.g=gs(d.j,A?E:null,!d.u),d.P>0&&(d.O=new hu(v(d.Y,d,d.g),d.P)),E=d.V,A=d.g,P=d.ba;var Q="readystatechange";Array.isArray(Q)||(Q&&(Ni[0]=Q.toString()),Q=Ni);for(let tt=0;tt<Q.length;tt++){const yt=Jn(A,Q[tt],P||E.handleEvent,!1,E.h||E);if(!yt)break;E.g[yt.key]=yt}E=d.J?at(d.J):{},d.u?(d.v||(d.v="POST"),E["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.B,d.v,d.u,E)):(d.v="GET",d.g.ea(d.B,d.v,null,E)),ir(),ro(d.i,d.v,d.B,d.l,d.S,d.u)}ii.prototype.ba=function(d){d=d.target;const E=this.O;E&&mn(d)==3?E.j():this.Y(d)},ii.prototype.Y=function(d){try{if(d==this.g)t:{const Ut=mn(this.g),Qt=this.g.ya(),he=this.g.ca();if(!(Ut<3)&&(Ut!=3||this.g&&(this.h.h||this.g.la()||Dr(this.g)))){this.K||Ut!=4||Qt==7||(Qt==8||he<=0?ir(3):ir(2)),gi(this);var E=this.g.ca();this.X=E;var A=or(this);if(this.o=E==200,so(this.i,this.v,this.B,this.l,this.S,Ut,E),this.o){if(this.U&&!this.L){e:{if(this.g){var P,Q=this.g;if((P=Q.g?Q.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!U(P)){var tt=P;break e}}tt=null}if(d=tt)rr(this.i,this.l,d,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ys(this,d);else{this.o=!1,this.m=3,xe(12),Bn(this),ls(this);break t}}if(this.R){d=!0;let Pe;for(;!this.K&&this.C<A.length;)if(Pe=al(this,A),Pe==ri){Ut==4&&(this.m=4,xe(14),d=!1),rr(this.i,this.l,null,"[Incomplete Response]");break}else if(Pe==as){this.m=4,xe(15),rr(this.i,this.l,A,"[Invalid Chunk]"),d=!1;break}else rr(this.i,this.l,Pe,null),Ys(this,Pe);if(ke(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ut!=4||A.length!=0||this.h.h||(this.m=1,xe(16),d=!1),this.o=this.o&&d,!d)rr(this.i,this.l,A,"[Invalid Chunked Response]"),Bn(this),ls(this);else if(A.length>0&&!this.W){this.W=!0;var yt=this.j;yt.g==this&&yt.aa&&!yt.P&&(yt.j.info("Great, no buffering proxy detected. Bytes received: "+A.length),co(yt),yt.P=!0,xe(11))}}else rr(this.i,this.l,A,null),Ys(this,A);Ut==4&&Bn(this),this.o&&!this.K&&(Ut==4?Pn(this.j,this):(this.o=!1,os(this)))}else fr(this.g),E==400&&A.indexOf("Unknown SID")>0?(this.m=3,xe(12)):(this.m=0,xe(13)),Bn(this),ls(this)}}}catch{}finally{}};function or(d){if(!ke(d))return d.g.la();const E=Dr(d.g);if(E==="")return"";let A="";const P=E.length,Q=mn(d.g)==4;if(!d.h.i){if(typeof TextDecoder>"u")return Bn(d),ls(d),"";d.h.i=new f.TextDecoder}for(let tt=0;tt<P;tt++)d.h.h=!0,A+=d.h.i.decode(E[tt],{stream:!(Q&&tt==P-1)});return E.length=0,d.h.g+=A,d.C=0,d.h.g}function ke(d){return d.g?d.v=="GET"&&d.M!=2&&d.j.Aa:!1}function al(d,E){var A=d.C,P=E.indexOf(`
`,A);return P==-1?ri:(A=Number(E.substring(A,P)),isNaN(A)?as:(P+=1,P+A>E.length?ri:(E=E.slice(P,P+A),d.C=P+A,E)))}ii.prototype.cancel=function(){this.K=!0,Bn(this)};function os(d){d.T=Date.now()+d.H,Vi(d,d.H)}function Vi(d,E){if(d.D!=null)throw Error("WatchDog timer not null");d.D=Ir(v(d.aa,d),E)}function gi(d){d.D&&(f.clearTimeout(d.D),d.D=null)}ii.prototype.aa=function(){this.D=null;const d=Date.now();d-this.T>=0?(ao(this.i,this.B),this.M!=2&&(ir(),xe(17)),Bn(this),this.m=2,ls(this)):Vi(this,this.T-d)};function ls(d){d.j.I==0||d.K||Pn(d.j,d)}function Bn(d){gi(d);var E=d.O;E&&typeof E.dispose=="function"&&E.dispose(),d.O=null,Je(d.V),d.g&&(E=d.g,d.g=null,E.abort(),E.dispose())}function Ys(d,E){try{var A=d.j;if(A.I!=0&&(A.g==d||lr(A.h,d))){if(!d.L&&lr(A.h,d)&&A.I==3){try{var P=A.Ba.g.parse(E)}catch{P=null}if(Array.isArray(P)&&P.length==3){var Q=P;if(Q[0]==0){t:if(!A.v){if(A.g)if(A.g.F+3e3<d.F)Js(A),Fi(A);else break t;uo(A),xe(18)}}else A.xa=Q[1],0<A.xa-A.K&&Q[2]<37500&&A.F&&A.A==0&&!A.C&&(A.C=Ir(v(A.Va,A),6e3));si(A.h)<=1&&A.ta&&(A.ta=void 0)}else Gi(A,11)}else if((d.L||A.g==d)&&Js(A),!U(E))for(Q=A.Ba.g.parse(E),E=0;E<Q.length;E++){let he=Q[E];const Pe=he[0];if(!(Pe<=A.K))if(A.K=Pe,he=he[1],A.I==2)if(he[0]=="c"){A.M=he[1],A.ba=he[2];const Gn=he[3];Gn!=null&&(A.ka=Gn,A.j.info("VER="+A.ka));const oi=he[4];oi!=null&&(A.za=oi,A.j.info("SVER="+A.za));const Zn=he[5];Zn!=null&&typeof Zn=="number"&&Zn>0&&(P=1.5*Zn,A.O=P,A.j.info("backChannelRequestTimeoutMs_="+P)),P=A;const Ei=d.g;if(Ei){const wi=Ei.g?Ei.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(wi){var tt=P.h;tt.g||wi.indexOf("spdy")==-1&&wi.indexOf("quic")==-1&&wi.indexOf("h2")==-1||(tt.j=tt.l,tt.g=new Set,tt.h&&(Ui(tt,tt.h),tt.h=null))}if(P.G){const ia=Ei.g?Ei.g.getResponseHeader("X-HTTP-Session-Id"):null;ia&&(P.wa=ia,At(P.J,P.G,ia))}}A.I=3,A.l&&A.l.ra(),A.aa&&(A.T=Date.now()-d.F,A.j.info("Handshake RTT: "+A.T+"ms")),P=A;var yt=d;if(P.na=ho(P,P.L?P.ba:null,P.W),yt.L){zi(P.h,yt);var Ut=yt,Qt=P.O;Qt&&(Ut.H=Qt),Ut.D&&(gi(Ut),os(Ut)),P.g=yt}else lo(P);A.i.length>0&&vi(A)}else he[0]!="stop"&&he[0]!="close"||Gi(A,7);else A.I==3&&(he[0]=="stop"||he[0]=="close"?he[0]=="stop"?Gi(A,7):Zt(A):he[0]!="noop"&&A.l&&A.l.qa(he),A.A=0)}}ir(4)}catch{}}var fu=class{constructor(d,E){this.g=d,this.map=E}};function us(d){this.l=d||10,f.PerformanceNavigationTiming?(d=f.performance.getEntriesByType("navigation"),d=d.length>0&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function cs(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function si(d){return d.h?1:d.g?d.g.size:0}function lr(d,E){return d.h?d.h==E:d.g?d.g.has(E):!1}function Ui(d,E){d.g?d.g.add(E):d.h=E}function zi(d,E){d.h&&d.h==E?d.h=null:d.g&&d.g.has(E)&&d.g.delete(E)}us.prototype.cancel=function(){if(this.i=hs(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function hs(d){if(d.h!=null)return d.i.concat(d.h.G);if(d.g!=null&&d.g.size!==0){let E=d.i;for(const A of d.g.values())E=E.concat(A.G);return E}return M(d.i)}var Bi=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function te(d,E){if(d){d=d.split("&");for(let A=0;A<d.length;A++){const P=d[A].indexOf("=");let Q,tt=null;P>=0?(Q=d[A].substring(0,P),tt=d[A].substring(P+1)):Q=d[A],E(Q,tt?decodeURIComponent(tt.replace(/\+/g," ")):"")}}}function se(d){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let E;d instanceof se?(this.l=d.l,Hn(this,d.j),this.o=d.o,this.g=d.g,ai(this,d.u),this.h=d.h,Hi(this,ds(d.i)),this.m=d.m):d&&(E=String(d).match(Bi))?(this.l=!1,Hn(this,E[1]||"",!0),this.o=ur(E[2]||""),this.g=ur(E[3]||"",!0),ai(this,E[4]),this.h=ur(E[5]||"",!0),Hi(this,E[6]||"",!0),this.m=ur(E[7]||"")):(this.l=!1,this.i=new hn(null,this.l))}se.prototype.toString=function(){const d=[];var E=this.j;E&&d.push(Ve(E,oo,!0),":");var A=this.g;return(A||E=="file")&&(d.push("//"),(E=this.o)&&d.push(Ve(E,oo,!0),"@"),d.push(xt(A).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),A=this.u,A!=null&&d.push(":",String(A))),(A=this.h)&&(this.g&&A.charAt(0)!="/"&&d.push("/"),d.push(Ve(A,A.charAt(0)=="/"?Ln:xr,!0))),(A=this.i.toString())&&d.push("?",A),(A=this.m)&&d.push("#",Ve(A,ji)),d.join("")},se.prototype.resolve=function(d){const E=ge(this);let A=!!d.j;A?Hn(E,d.j):A=!!d.o,A?E.o=d.o:A=!!d.g,A?E.g=d.g:A=d.u!=null;var P=d.h;if(A)ai(E,d.u);else if(A=!!d.h){if(P.charAt(0)!="/")if(this.g&&!this.h)P="/"+P;else{var Q=E.h.lastIndexOf("/");Q!=-1&&(P=E.h.slice(0,Q+1)+P)}if(Q=P,Q==".."||Q==".")P="";else if(Q.indexOf("./")!=-1||Q.indexOf("/.")!=-1){P=Q.lastIndexOf("/",0)==0,Q=Q.split("/");const tt=[];for(let yt=0;yt<Q.length;){const Ut=Q[yt++];Ut=="."?P&&yt==Q.length&&tt.push(""):Ut==".."?((tt.length>1||tt.length==1&&tt[0]!="")&&tt.pop(),P&&yt==Q.length&&tt.push("")):(tt.push(Ut),P=!0)}P=tt.join("/")}else P=Q}return A?E.h=P:A=d.i.toString()!=="",A?Hi(E,ds(d.i)):A=!!d.m,A&&(E.m=d.m),E};function ge(d){return new se(d)}function Hn(d,E,A){d.j=A?ur(E,!0):E,d.j&&(d.j=d.j.replace(/:$/,""))}function ai(d,E){if(E){if(E=Number(E),isNaN(E)||E<0)throw Error("Bad port number "+E);d.u=E}else d.u=null}function Hi(d,E,A){E instanceof hn?(d.i=E,ms(d.i,d.l)):(A||(E=Ve(E,Re)),d.i=new hn(E,d.l))}function At(d,E,A){d.i.set(E,A)}function de(d){return At(d,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),d}function ur(d,E){return d?E?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function Ve(d,E,A){return typeof d=="string"?(d=encodeURI(d).replace(E,cn),A&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function cn(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var oo=/[#\/\?@]/g,xr=/[#\?:]/g,Ln=/[#\?]/g,Re=/[#\?@]/g,ji=/#/g;function hn(d,E){this.h=this.g=null,this.i=d||null,this.j=!!E}function jn(d){d.g||(d.g=new Map,d.h=0,d.i&&te(d.i,function(E,A){d.add(decodeURIComponent(E.replace(/\+/g," ")),A)}))}r=hn.prototype,r.add=function(d,E){jn(this),this.i=null,d=qn(this,d);let A=this.g.get(d);return A||this.g.set(d,A=[]),A.push(E),this.h+=1,this};function fs(d,E){jn(d),E=qn(d,E),d.g.has(E)&&(d.i=null,d.h-=d.g.get(E).length,d.g.delete(E))}function cr(d,E){return jn(d),E=qn(d,E),d.g.has(E)}r.forEach=function(d,E){jn(this),this.g.forEach(function(A,P){A.forEach(function(Q){d.call(E,Q,P,this)},this)},this)};function Pr(d,E){jn(d);let A=[];if(typeof E=="string")cr(d,E)&&(A=A.concat(d.g.get(qn(d,E))));else for(d=Array.from(d.g.values()),E=0;E<d.length;E++)A=A.concat(d[E]);return A}r.set=function(d,E){return jn(this),this.i=null,d=qn(this,d),cr(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[E]),this.h+=1,this},r.get=function(d,E){return d?(d=Pr(this,d),d.length>0?String(d[0]):E):E};function Qs(d,E,A){fs(d,E),A.length>0&&(d.i=null,d.g.set(qn(d,E),M(A)),d.h+=A.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],E=Array.from(this.g.keys());for(let P=0;P<E.length;P++){var A=E[P];const Q=xt(A);A=Pr(this,A);for(let tt=0;tt<A.length;tt++){let yt=Q;A[tt]!==""&&(yt+="="+xt(A[tt])),d.push(yt)}}return this.i=d.join("&")};function ds(d){const E=new hn;return E.i=d.i,d.g&&(E.g=new Map(d.g),E.h=d.h),E}function qn(d,E){return E=String(E),d.j&&(E=E.toLowerCase()),E}function ms(d,E){E&&!d.j&&(jn(d),d.i=null,d.g.forEach(function(A,P){const Q=P.toLowerCase();P!=Q&&(fs(this,P),Qs(this,Q,A))},d)),d.j=E}function Mr(d,E){const A=new Lr;if(f.Image){const P=new Image;P.onload=w(en,A,"TestLoadImage: loaded",!0,E,P),P.onerror=w(en,A,"TestLoadImage: error",!1,E,P),P.onabort=w(en,A,"TestLoadImage: abort",!1,E,P),P.ontimeout=w(en,A,"TestLoadImage: timeout",!1,E,P),f.setTimeout(function(){P.ontimeout&&P.ontimeout()},1e4),P.src=d}else E(!1)}function hr(d,E){const A=new Lr,P=new AbortController,Q=setTimeout(()=>{P.abort(),en(A,"TestPingServer: timeout",!1,E)},1e4);fetch(d,{signal:P.signal}).then(tt=>{clearTimeout(Q),tt.ok?en(A,"TestPingServer: ok",!0,E):en(A,"TestPingServer: server error",!1,E)}).catch(()=>{clearTimeout(Q),en(A,"TestPingServer: error",!1,E)})}function en(d,E,A,P,Q){try{Q&&(Q.onload=null,Q.onerror=null,Q.onabort=null,Q.ontimeout=null),P(A)}catch{}}function ol(){this.g=new nl}function Vt(d){this.i=d.Sb||null,this.h=d.ab||!1}S(Vt,no),Vt.prototype.g=function(){return new fn(this.i,this.h)};function fn(d,E){qe.call(this),this.H=d,this.o=E,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}S(fn,qe),r=fn.prototype,r.open=function(d,E){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=d,this.D=E,this.readyState=1,yi(this)},r.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const E={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};d&&(E.body=d),(this.H||f).fetch(new Request(this.D,E)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,dn(this)),this.readyState=0},r.Pa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,yi(this)),this.g&&(this.readyState=3,yi(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ae(this)}else d.text().then(this.Oa.bind(this),this.ga.bind(this))};function ae(d){d.j.read().then(d.Ma.bind(d)).catch(d.ga.bind(d))}r.Ma=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var E=d.value?d.value:new Uint8Array(0);(E=this.B.decode(E,{stream:!d.done}))&&(this.response=this.responseText+=E)}d.done?dn(this):yi(this),this.readyState==3&&ae(this)}},r.Oa=function(d){this.g&&(this.response=this.responseText=d,dn(this))},r.Na=function(d){this.g&&(this.response=d,dn(this))},r.ga=function(){this.g&&dn(this)};function dn(d){d.readyState=4,d.l=null,d.j=null,d.B=null,yi(d)}r.setRequestHeader=function(d,E){this.A.append(d,E)},r.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],E=this.h.entries();for(var A=E.next();!A.done;)A=A.value,d.push(A[0]+": "+A[1]),A=E.next();return d.join(`\r
`)};function yi(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(fn.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function qi(d){let E="";return re(d,function(A,P){E+=P,E+=":",E+=A,E+=`\r
`}),E}function xn(d,E,A){t:{for(P in A){var P=!1;break t}P=!0}P||(A=qi(A),typeof d=="string"?A!=null&&xt(A):At(d,E,A))}function oe(d){qe.call(this),this.headers=new Map,this.L=d||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}S(oe,qe);var Or=/^https?$/i,Nr=["POST","PUT"];r=oe.prototype,r.Fa=function(d){this.H=d},r.ea=function(d,E,A,P){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);E=E?E.toUpperCase():"GET",this.D=d,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():sr.g(),this.g.onreadystatechange=I(v(this.Ca,this));try{this.B=!0,this.g.open(E,String(d),!0),this.B=!1}catch(tt){Ie(this,tt);return}if(d=A||"",A=new Map(this.headers),P)if(Object.getPrototypeOf(P)===Object.prototype)for(var Q in P)A.set(Q,P[Q]);else if(typeof P.keys=="function"&&typeof P.get=="function")for(const tt of P.keys())A.set(tt,P.get(tt));else throw Error("Unknown input type for opt_headers: "+String(P));P=Array.from(A.keys()).find(tt=>tt.toLowerCase()=="content-type"),Q=f.FormData&&d instanceof f.FormData,!(Array.prototype.indexOf.call(Nr,E,void 0)>=0)||P||Q||A.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[tt,yt]of A)this.g.setRequestHeader(tt,yt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(d),this.v=!1}catch(tt){Ie(this,tt)}};function Ie(d,E){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=E,d.o=5,Fn(d),He(d)}function Fn(d){d.A||(d.A=!0,Fe(d,"complete"),Fe(d,"error"))}r.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=d||7,Fe(this,"complete"),Fe(this,"abort"),He(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),He(this,!0)),oe.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?Xs(this):this.Xa())},r.Xa=function(){Xs(this)};function Xs(d){if(d.h&&typeof u<"u"){if(d.v&&mn(d)==4)setTimeout(d.Ca.bind(d),0);else if(Fe(d,"readystatechange"),mn(d)==4){d.h=!1;try{const tt=d.ca();t:switch(tt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var E=!0;break t;default:E=!1}var A;if(!(A=E)){var P;if(P=tt===0){let yt=String(d.D).match(Bi)[1]||null;!yt&&f.self&&f.self.location&&(yt=f.self.location.protocol.slice(0,-1)),P=!Or.test(yt?yt.toLowerCase():"")}A=P}if(A)Fe(d,"complete"),Fe(d,"success");else{d.o=6;try{var Q=mn(d)>2?d.g.statusText:""}catch{Q=""}d.l=Q+" ["+d.ca()+"]",Fn(d)}}finally{He(d)}}}}function He(d,E){if(d.g){d.m&&(clearTimeout(d.m),d.m=null);const A=d.g;d.g=null,E||Fe(d,"ready");try{A.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function mn(d){return d.g?d.g.readyState:0}r.ca=function(){try{return mn(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(d){if(this.g){var E=this.g.responseText;return d&&E.indexOf(d)==0&&(E=E.substring(d.length)),En(E)}};function Dr(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.F){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function fr(d){const E={};d=(d.g&&mn(d)>=2&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let P=0;P<d.length;P++){if(U(d[P]))continue;var A=sl(d[P]);const Q=A[0];if(A=A[1],typeof A!="string")continue;A=A.trim();const tt=E[Q]||[];E[Q]=tt,tt.push(A)}N(E,function(P){return P.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ps(d,E,A){return A&&A.internalChannelParams&&A.internalChannelParams[d]||E}function _s(d){this.za=0,this.i=[],this.j=new Lr,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ps("failFast",!1,d),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ps("baseRetryDelayMs",5e3,d),this.Za=ps("retryDelaySeedMs",1e4,d),this.Ta=ps("forwardChannelMaxRetries",2,d),this.va=ps("forwardChannelRequestTimeoutMs",2e4,d),this.ma=d&&d.xmlHttpFactory||void 0,this.Ua=d&&d.Rb||void 0,this.Aa=d&&d.useFetchStreams||!1,this.O=void 0,this.L=d&&d.supportsCrossDomainXhr||!1,this.M="",this.h=new us(d&&d.concurrentRequestLimit),this.Ba=new ol,this.S=d&&d.fastHandshake||!1,this.R=d&&d.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=d&&d.Pb||!1,d&&d.ua&&this.j.ua(),d&&d.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&d&&d.detectBufferingProxy||!1,this.ia=void 0,d&&d.longPollingTimeout&&d.longPollingTimeout>0&&(this.ia=d.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=_s.prototype,r.ka=8,r.I=1,r.connect=function(d,E,A,P){xe(0),this.W=d,this.H=E||{},A&&P!==void 0&&(this.H.OSID=A,this.H.OAID=P),this.F=this.X,this.J=ho(this,null,this.W),vi(this)};function Zt(d){if(nn(d),d.I==3){var E=d.V++,A=ge(d.J);if(At(A,"SID",d.M),At(A,"RID",E),At(A,"TYPE","terminate"),dr(d,A),E=new ii(d,d.j,E),E.M=2,E.A=de(ge(A)),A=!1,f.navigator&&f.navigator.sendBeacon)try{A=f.navigator.sendBeacon(E.A.toString(),"")}catch{}!A&&f.Image&&(new Image().src=E.A,A=!0),A||(E.g=gs(E.j,null),E.g.ea(E.A)),E.F=Date.now(),os(E)}Ti(d)}function Fi(d){d.g&&(co(d),d.g.cancel(),d.g=null)}function nn(d){Fi(d),d.v&&(f.clearTimeout(d.v),d.v=null),Js(d),d.h.cancel(),d.m&&(typeof d.m=="number"&&f.clearTimeout(d.m),d.m=null)}function vi(d){if(!cs(d.h)&&!d.m){d.m=!0;var E=d.Ea;Tt||O(),kt||(Tt(),kt=!0),z.add(E,d),d.D=0}}function ll(d,E){return si(d.h)>=d.h.j-(d.m?1:0)?!1:d.m?(d.i=E.G.concat(d.i),!0):d.I==1||d.I==2||d.D>=(d.Sa?0:d.Ta)?!1:(d.m=Ir(v(d.Ea,d,E),cl(d,d.D)),d.D++,!0)}r.Ea=function(d){if(this.m)if(this.m=null,this.I==1){if(!d){this.V=Math.floor(Math.random()*1e5),d=this.V++;const Q=new ii(this,this.j,d);let tt=this.o;if(this.U&&(tt?(tt=at(tt),_t(tt,this.U)):tt=this.U),this.u!==null||this.R||(Q.J=tt,tt=null),this.S)t:{for(var E=0,A=0;A<this.i.length;A++){e:{var P=this.i[A];if("__data__"in P.map&&(P=P.map.__data__,typeof P=="string")){P=P.length;break e}P=void 0}if(P===void 0)break;if(E+=P,E>4096){E=A;break t}if(E===4096||A===this.i.length-1){E=A+1;break t}}E=1e3}else E=1e3;E=Ws(this,Q,E),A=ge(this.J),At(A,"RID",d),At(A,"CVER",22),this.G&&At(A,"X-HTTP-Session-Id",this.G),dr(this,A),tt&&(this.R?E="headers="+xt(qi(tt))+"&"+E:this.u&&xn(A,this.u,tt)),Ui(this.h,Q),this.Ra&&At(A,"TYPE","init"),this.S?(At(A,"$req",E),At(A,"SID","null"),Q.U=!0,_i(Q,A,null)):_i(Q,A,E),this.I=2}}else this.I==3&&(d?ul(this,d):this.i.length==0||cs(this.h)||ul(this))};function ul(d,E){var A;E?A=E.l:A=d.V++;const P=ge(d.J);At(P,"SID",d.M),At(P,"RID",A),At(P,"AID",d.K),dr(d,P),d.u&&d.o&&xn(P,d.u,d.o),A=new ii(d,d.j,A,d.D+1),d.u===null&&(A.J=d.o),E&&(d.i=E.G.concat(d.i)),E=Ws(d,A,1e3),A.H=Math.round(d.va*.5)+Math.round(d.va*.5*Math.random()),Ui(d.h,A),_i(A,P,E)}function dr(d,E){d.H&&re(d.H,function(A,P){At(E,P,A)}),d.l&&re({},function(A,P){At(E,P,A)})}function Ws(d,E,A){A=Math.min(d.i.length,A);const P=d.l?v(d.l.Ka,d.l,d):null;t:{var Q=d.i;let Ut=-1;for(;;){const Qt=["count="+A];Ut==-1?A>0?(Ut=Q[0].g,Qt.push("ofs="+Ut)):Ut=0:Qt.push("ofs="+Ut);let he=!0;for(let Pe=0;Pe<A;Pe++){var tt=Q[Pe].g;const Gn=Q[Pe].map;if(tt-=Ut,tt<0)Ut=Math.max(0,Q[Pe].g-100),he=!1;else try{tt="req"+tt+"_"||"";try{var yt=Gn instanceof Map?Gn:Object.entries(Gn);for(const[oi,Zn]of yt){let Ei=Zn;_(Zn)&&(Ei=Un(Zn)),Qt.push(tt+oi+"="+encodeURIComponent(Ei))}}catch(oi){throw Qt.push(tt+"type="+encodeURIComponent("_badmap")),oi}}catch{P&&P(Gn)}}if(he){yt=Qt.join("&");break t}}yt=void 0}return d=d.i.splice(0,A),E.G=d,yt}function lo(d){if(!d.g&&!d.v){d.Y=1;var E=d.Da;Tt||O(),kt||(Tt(),kt=!0),z.add(E,d),d.A=0}}function uo(d){return d.g||d.v||d.A>=3?!1:(d.Y++,d.v=Ir(v(d.Da,d),cl(d,d.A)),d.A++,!0)}r.Da=function(){if(this.v=null,$s(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var d=4*this.T;this.j.info("BP detection timer enabled: "+d),this.B=Ir(v(this.Wa,this),d)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,xe(10),Fi(this),$s(this))};function co(d){d.B!=null&&(f.clearTimeout(d.B),d.B=null)}function $s(d){d.g=new ii(d,d.j,"rpc",d.Y),d.u===null&&(d.g.J=d.o),d.g.P=0;var E=ge(d.na);At(E,"RID","rpc"),At(E,"SID",d.M),At(E,"AID",d.K),At(E,"CI",d.F?"0":"1"),!d.F&&d.ia&&At(E,"TO",d.ia),At(E,"TYPE","xmlhttp"),dr(d,E),d.u&&d.o&&xn(E,d.u,d.o),d.O&&(d.g.H=d.O);var A=d.g;d=d.ba,A.M=1,A.A=de(ge(E)),A.u=null,A.R=!0,zn(A,d)}r.Va=function(){this.C!=null&&(this.C=null,Fi(this),uo(this),xe(19))};function Js(d){d.C!=null&&(f.clearTimeout(d.C),d.C=null)}function Pn(d,E){var A=null;if(d.g==E){Js(d),co(d),d.g=null;var P=2}else if(lr(d.h,E))A=E.G,zi(d.h,E),P=1;else return;if(d.I!=0){if(E.o)if(P==1){A=E.u?E.u.length:0,E=Date.now()-E.F;var Q=d.D;P=Ks(),Fe(P,new rl(P,A)),vi(d)}else lo(d);else if(Q=E.m,Q==3||Q==0&&E.X>0||!(P==1&&ll(d,E)||P==2&&uo(d)))switch(A&&A.length>0&&(E=d.h,E.i=E.i.concat(A)),Q){case 1:Gi(d,5);break;case 4:Gi(d,10);break;case 3:Gi(d,6);break;default:Gi(d,2)}}}function cl(d,E){let A=d.Qa+Math.floor(Math.random()*d.Za);return d.isActive()||(A*=2),A*E}function Gi(d,E){if(d.j.info("Error code "+E),E==2){var A=v(d.bb,d),P=d.Ua;const Q=!P;P=new se(P||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||Hn(P,"https"),de(P),Q?Mr(P.toString(),A):hr(P.toString(),A)}else xe(2);d.I=0,d.l&&d.l.pa(E),Ti(d),nn(d)}r.bb=function(d){d?(this.j.info("Successfully pinged google.com"),xe(2)):(this.j.info("Failed to ping google.com"),xe(1))};function Ti(d){if(d.I=0,d.ja=[],d.l){const E=hs(d.h);(E.length!=0||d.i.length!=0)&&(q(d.ja,E),q(d.ja,d.i),d.h.i.length=0,M(d.i),d.i.length=0),d.l.oa()}}function ho(d,E,A){var P=A instanceof se?ge(A):new se(A);if(P.g!="")E&&(P.g=E+"."+P.g),ai(P,P.u);else{var Q=f.location;P=Q.protocol,E=E?E+"."+Q.hostname:Q.hostname,Q=+Q.port;const tt=new se(null);P&&Hn(tt,P),E&&(tt.g=E),Q&&ai(tt,Q),A&&(tt.h=A),P=tt}return A=d.G,E=d.wa,A&&E&&At(P,A,E),At(P,"VER",d.ka),dr(d,P),P}function gs(d,E,A){if(E&&!d.L)throw Error("Can't create secondary domain capable XhrIo object.");return E=d.Aa&&!d.ma?new oe(new Vt({ab:A})):new oe(d.ma),E.Fa(d.L),E}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function ta(){}r=ta.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function ea(){}ea.prototype.g=function(d,E){return new pn(d,E)};function pn(d,E){qe.call(this),this.g=new _s(E),this.l=d,this.h=E&&E.messageUrlParams||null,d=E&&E.messageHeaders||null,E&&E.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=E&&E.initMessageHeaders||null,E&&E.messageContentType&&(d?d["X-WebChannel-Content-Type"]=E.messageContentType:d={"X-WebChannel-Content-Type":E.messageContentType}),E&&E.sa&&(d?d["X-WebChannel-Client-Profile"]=E.sa:d={"X-WebChannel-Client-Profile":E.sa}),this.g.U=d,(d=E&&E.Qb)&&!U(d)&&(this.g.u=d),this.A=E&&E.supportsCrossDomainXhr||!1,this.v=E&&E.sendRawJson||!1,(E=E&&E.httpSessionIdParam)&&!U(E)&&(this.g.G=E,d=this.h,d!==null&&E in d&&(d=this.h,E in d&&delete d[E])),this.j=new kr(this)}S(pn,qe),pn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},pn.prototype.close=function(){Zt(this.g)},pn.prototype.o=function(d){var E=this.g;if(typeof d=="string"){var A={};A.__data__=d,d=A}else this.v&&(A={},A.__data__=Un(d),d=A);E.i.push(new fu(E.Ya++,d)),E.I==3&&vi(E)},pn.prototype.N=function(){this.g.l=null,delete this.j,Zt(this.g),delete this.g,pn.Z.N.call(this)};function na(d){Di.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var E=d.__sm__;if(E){t:{for(const A in E){d=A;break t}d=void 0}(this.i=d)&&(d=this.i,E=E!==null&&d in E?E[d]:void 0),this.data=E}else this.data=d}S(na,Di);function hl(){ti.call(this),this.status=1}S(hl,ti);function kr(d){this.g=d}S(kr,ta),kr.prototype.ra=function(){Fe(this.g,"a")},kr.prototype.qa=function(d){Fe(this.g,new na(d))},kr.prototype.pa=function(d){Fe(this.g,new hl)},kr.prototype.oa=function(){Fe(this.g,"b")},ea.prototype.createWebChannel=ea.prototype.g,pn.prototype.send=pn.prototype.o,pn.prototype.open=pn.prototype.m,pn.prototype.close=pn.prototype.close,z0=function(){return new ea},U0=function(){return Ks()},V0=ei,dp={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},De.NO_ERROR=0,De.TIMEOUT=8,De.HTTP_ERROR=6,lf=De,tn.COMPLETE="complete",k0=tn,il.EventType=pi,pi.OPEN="a",pi.CLOSE="b",pi.ERROR="c",pi.MESSAGE="d",qe.prototype.listen=qe.prototype.J,sc=il,oe.prototype.listenOnce=oe.prototype.K,oe.prototype.getLastError=oe.prototype.Ha,oe.prototype.getLastErrorCode=oe.prototype.ya,oe.prototype.getStatus=oe.prototype.ca,oe.prototype.getResponseJson=oe.prototype.La,oe.prototype.getResponseText=oe.prototype.la,oe.prototype.send=oe.prototype.ea,oe.prototype.setWithCredentials=oe.prototype.Fa,D0=oe}).apply(typeof Qh<"u"?Qh:typeof self<"u"?self:typeof window<"u"?window:{});const TT="@firebase/firestore",ET="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Dn.UNAUTHENTICATED=new Dn(null),Dn.GOOGLE_CREDENTIALS=new Dn("google-credentials-uid"),Dn.FIRST_PARTY=new Dn("first-party-uid"),Dn.MOCK_USER=new Dn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ou="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fo=new Gp("@firebase/firestore");function jl(){return Fo.logLevel}function Ct(r,...t){if(Fo.logLevel<=ee.DEBUG){const n=t.map(r_);Fo.debug(`Firestore (${ou}): ${r}`,...n)}}function js(r,...t){if(Fo.logLevel<=ee.ERROR){const n=t.map(r_);Fo.error(`Firestore (${ou}): ${r}`,...n)}}function Wl(r,...t){if(Fo.logLevel<=ee.WARN){const n=t.map(r_);Fo.warn(`Firestore (${ou}): ${r}`,...n)}}function r_(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ht(r,t,n){let a="Unexpected state";typeof t=="string"?a=t:n=t,B0(r,a,n)}function B0(r,t,n){let a=`FIRESTORE (${ou}) INTERNAL ASSERTION FAILED: ${t} (ID: ${r.toString(16)})`;if(n!==void 0)try{a+=" CONTEXT: "+JSON.stringify(n)}catch{a+=" CONTEXT: "+n}throw js(a),new Error(a)}function me(r,t,n,a){let l="Unexpected state";typeof n=="string"?l=n:a=n,r||B0(t,l,a)}function Gt(r,t){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ht={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Rt extends ts{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qa{constructor(){this.promise=new Promise(((t,n)=>{this.resolve=t,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H0{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class gL{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable((()=>n(Dn.UNAUTHENTICATED)))}shutdown(){}}class yL{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class vL{constructor(t){this.t=t,this.currentUser=Dn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){me(this.o===void 0,42304);let a=this.i;const l=g=>this.i!==a?(a=this.i,n(g)):Promise.resolve();let u=new qa;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new qa,t.enqueueRetryable((()=>l(this.currentUser)))};const f=()=>{const g=u;t.enqueueRetryable((async()=>{await g.promise,await l(this.currentUser)}))},_=g=>{Ct("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((g=>_(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?_(g):(Ct("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new qa)}}),0),f()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((a=>this.i!==t?(Ct("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(me(typeof a.accessToken=="string",31837,{l:a}),new H0(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return me(t===null||typeof t=="string",2055,{h:t}),new Dn(t)}}class TL{constructor(t,n,a){this.P=t,this.T=n,this.I=a,this.type="FirstParty",this.user=Dn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class EL{constructor(t,n,a){this.P=t,this.T=n,this.I=a}getToken(){return Promise.resolve(new TL(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable((()=>n(Dn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class wT{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class wL{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,di(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){me(this.o===void 0,3512);const a=u=>{u.error!=null&&Ct("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,Ct("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable((()=>a(u)))};const l=u=>{Ct("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>l(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?l(u):Ct("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new wT(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((n=>n?(me(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new wT(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bL(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let a=0;a<r;a++)n[a]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s_{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const l=bL(40);for(let u=0;u<l.length;++u)a.length<20&&l[u]<n&&(a+=t.charAt(l[u]%62))}return a}}function ne(r,t){return r<t?-1:r>t?1:0}function mp(r,t){const n=Math.min(r.length,t.length);for(let a=0;a<n;a++){const l=r.charAt(a),u=t.charAt(a);if(l!==u)return Xm(l)===Xm(u)?ne(l,u):Xm(l)?1:-1}return ne(r.length,t.length)}const SL=55296,AL=57343;function Xm(r){const t=r.charCodeAt(0);return t>=SL&&t<=AL}function $l(r,t,n){return r.length===t.length&&r.every(((a,l)=>n(a,t[l])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bT="__name__";class Gr{constructor(t,n,a){n===void 0?n=0:n>t.length&&Ht(637,{offset:n,range:t.length}),a===void 0?a=t.length-n:a>t.length-n&&Ht(1746,{length:a,range:t.length-n}),this.segments=t,this.offset=n,this.len=a}get length(){return this.len}isEqual(t){return Gr.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof Gr?t.forEach((a=>{n.push(a)})):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,a=this.limit();n<a;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const a=Math.min(t.length,n.length);for(let l=0;l<a;l++){const u=Gr.compareSegments(t.get(l),n.get(l));if(u!==0)return u}return ne(t.length,n.length)}static compareSegments(t,n){const a=Gr.isNumericId(t),l=Gr.isNumericId(n);return a&&!l?-1:!a&&l?1:a&&l?Gr.extractNumericId(t).compare(Gr.extractNumericId(n)):mp(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return ja.fromString(t.substring(4,t.length-2))}}class Ce extends Gr{construct(t,n,a){return new Ce(t,n,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const a of t){if(a.indexOf("//")>=0)throw new Rt(ht.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);n.push(...a.split("/").filter((l=>l.length>0)))}return new Ce(n)}static emptyPath(){return new Ce([])}}const CL=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Cn extends Gr{construct(t,n,a){return new Cn(t,n,a)}static isValidIdentifier(t){return CL.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Cn.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===bT}static keyField(){return new Cn([bT])}static fromServerFormat(t){const n=[];let a="",l=0;const u=()=>{if(a.length===0)throw new Rt(ht.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(a),a=""};let f=!1;for(;l<t.length;){const _=t[l];if(_==="\\"){if(l+1===t.length)throw new Rt(ht.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const g=t[l+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new Rt(ht.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);a+=g,l+=2}else _==="`"?(f=!f,l++):_!=="."||f?(a+=_,l++):(u(),l++)}if(u(),f)throw new Rt(ht.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Cn(n)}static emptyPath(){return new Cn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nt{constructor(t){this.path=t}static fromPath(t){return new Nt(Ce.fromString(t))}static fromName(t){return new Nt(Ce.fromString(t).popFirst(5))}static empty(){return new Nt(Ce.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Ce.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return Ce.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Nt(new Ce(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j0(r,t,n){if(!n)throw new Rt(ht.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function RL(r,t,n,a){if(t===!0&&a===!0)throw new Rt(ht.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function ST(r){if(!Nt.isDocumentKey(r))throw new Rt(ht.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function AT(r){if(Nt.isDocumentKey(r))throw new Rt(ht.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function q0(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Ff(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=(function(a){return a.constructor?a.constructor.name:null})(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":Ht(12329,{type:typeof r})}function ko(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new Rt(ht.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Ff(r);throw new Rt(ht.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $e(r,t){const n={typeString:r};return t&&(n.value=t),n}function Uc(r,t){if(!q0(r))throw new Rt(ht.INVALID_ARGUMENT,"JSON must be an object");let n;for(const a in t)if(t[a]){const l=t[a].typeString,u="value"in t[a]?{value:t[a].value}:void 0;if(!(a in r)){n=`JSON missing required field: '${a}'`;break}const f=r[a];if(l&&typeof f!==l){n=`JSON field '${a}' must be a ${l}.`;break}if(u!==void 0&&f!==u.value){n=`Expected '${a}' field to equal '${u.value}'`;break}}if(n)throw new Rt(ht.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CT=-62135596800,RT=1e6;class Le{static now(){return Le.fromMillis(Date.now())}static fromDate(t){return Le.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),a=Math.floor((t-1e3*n)*RT);return new Le(n,a)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new Rt(ht.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Rt(ht.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<CT)throw new Rt(ht.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Rt(ht.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/RT}_compareTo(t){return this.seconds===t.seconds?ne(this.nanoseconds,t.nanoseconds):ne(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Le._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Uc(t,Le._jsonSchema))return new Le(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-CT;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Le._jsonSchemaVersion="firestore/timestamp/1.0",Le._jsonSchema={type:$e("string",Le._jsonSchemaVersion),seconds:$e("number"),nanoseconds:$e("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{static fromTimestamp(t){return new Ft(t)}static min(){return new Ft(new Le(0,0))}static max(){return new Ft(new Le(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ec=-1;function IL(r,t){const n=r.toTimestamp().seconds,a=r.toTimestamp().nanoseconds+1,l=Ft.fromTimestamp(a===1e9?new Le(n+1,0):new Le(n,a));return new Za(l,Nt.empty(),t)}function LL(r){return new Za(r.readTime,r.key,Ec)}class Za{constructor(t,n,a){this.readTime=t,this.documentKey=n,this.largestBatchId=a}static min(){return new Za(Ft.min(),Nt.empty(),Ec)}static max(){return new Za(Ft.max(),Nt.empty(),Ec)}}function xL(r,t){let n=r.readTime.compareTo(t.readTime);return n!==0?n:(n=Nt.comparator(r.documentKey,t.documentKey),n!==0?n:ne(r.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PL="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ML{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lu(r){if(r.code!==ht.FAILED_PRECONDITION||r.message!==PL)throw r;Ct("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ft{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&Ht(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new ft(((a,l)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(a,l)},this.catchCallback=u=>{this.wrapFailure(n,u).next(a,l)}}))}toPromise(){return new Promise(((t,n)=>{this.next(t,n)}))}wrapUserFunction(t){try{const n=t();return n instanceof ft?n:ft.resolve(n)}catch(n){return ft.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction((()=>t(n))):ft.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction((()=>t(n))):ft.reject(n)}static resolve(t){return new ft(((n,a)=>{n(t)}))}static reject(t){return new ft(((n,a)=>{a(t)}))}static waitFor(t){return new ft(((n,a)=>{let l=0,u=0,f=!1;t.forEach((_=>{++l,_.next((()=>{++u,f&&u===l&&n()}),(g=>a(g)))})),f=!0,u===l&&n()}))}static or(t){let n=ft.resolve(!1);for(const a of t)n=n.next((l=>l?ft.resolve(l):a()));return n}static forEach(t,n){const a=[];return t.forEach(((l,u)=>{a.push(n.call(this,l,u))})),this.waitFor(a)}static mapArray(t,n){return new ft(((a,l)=>{const u=t.length,f=new Array(u);let _=0;for(let g=0;g<u;g++){const v=g;n(t[v]).next((w=>{f[v]=w,++_,_===u&&a(f)}),(w=>l(w)))}}))}static doWhile(t,n){return new ft(((a,l)=>{const u=()=>{t()===!0?n().next((()=>{u()}),l):a()};u()}))}}function OL(r){const t=r.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function uu(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gf{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>n.writeSequenceNumber(a))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}Gf.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a_=-1;function Zf(r){return r==null}function Sf(r){return r===0&&1/r==-1/0}function NL(r){return typeof r=="number"&&Number.isInteger(r)&&!Sf(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F0="";function DL(r){let t="";for(let n=0;n<r.length;n++)t.length>0&&(t=IT(t)),t=kL(r.get(n),t);return IT(t)}function kL(r,t){let n=t;const a=r.length;for(let l=0;l<a;l++){const u=r.charAt(l);switch(u){case"\0":n+="";break;case F0:n+="";break;default:n+=u}}return n}function IT(r){return r+F0+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LT(r){let t=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t++;return t}function Qo(r,t){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t(n,r[n])}function G0(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Be{constructor(t,n){this.comparator=t,this.root=n||An.EMPTY}insert(t,n){return new Be(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,An.BLACK,null,null))}remove(t){return new Be(this.comparator,this.root.remove(t,this.comparator).copy(null,null,An.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const a=this.comparator(t,n.key);if(a===0)return n.value;a<0?n=n.left:a>0&&(n=n.right)}return null}indexOf(t){let n=0,a=this.root;for(;!a.isEmpty();){const l=this.comparator(t,a.key);if(l===0)return n+a.left.size;l<0?a=a.left:(n+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((n,a)=>(t(n,a),!1)))}toString(){const t=[];return this.inorderTraversal(((n,a)=>(t.push(`${n}:${a}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Xh(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Xh(this.root,t,this.comparator,!1)}getReverseIterator(){return new Xh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Xh(this.root,t,this.comparator,!0)}}class Xh{constructor(t,n,a,l){this.isReverse=l,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=n?a(t.key,n):1,n&&l&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class An{constructor(t,n,a,l,u){this.key=t,this.value=n,this.color=a??An.RED,this.left=l??An.EMPTY,this.right=u??An.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,a,l,u){return new An(t??this.key,n??this.value,a??this.color,l??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,a){let l=this;const u=a(t,l.key);return l=u<0?l.copy(null,null,null,l.left.insert(t,n,a),null):u===0?l.copy(null,n,null,null,null):l.copy(null,null,null,null,l.right.insert(t,n,a)),l.fixUp()}removeMin(){if(this.left.isEmpty())return An.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let a,l=this;if(n(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,n),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),n(t,l.key)===0){if(l.right.isEmpty())return An.EMPTY;a=l.right.min(),l=l.copy(a.key,a.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,n))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,An.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,An.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ht(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ht(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Ht(27949);return t+(this.isRed()?0:1)}}An.EMPTY=null,An.RED=!0,An.BLACK=!1;An.EMPTY=new class{constructor(){this.size=0}get key(){throw Ht(57766)}get value(){throw Ht(16141)}get color(){throw Ht(16727)}get left(){throw Ht(29726)}get right(){throw Ht(36894)}copy(t,n,a,l,u){return this}insert(t,n,a){return new An(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(t){this.comparator=t,this.data=new Be(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((n,a)=>(t(n),!1)))}forEachInRange(t,n){const a=this.data.getIteratorFrom(t[0]);for(;a.hasNext();){const l=a.getNext();if(this.comparator(l.key,t[1])>=0)return;n(l.key)}}forEachWhile(t,n){let a;for(a=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();a.hasNext();)if(!t(a.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new xT(this.data.getIterator())}getIteratorFrom(t){return new xT(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach((a=>{n=n.add(a)})),n}isEqual(t){if(!(t instanceof on)||this.size!==t.size)return!1;const n=this.data.getIterator(),a=t.data.getIterator();for(;n.hasNext();){const l=n.getNext().key,u=a.getNext().key;if(this.comparator(l,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((n=>{t.push(n)})),t}toString(){const t=[];return this.forEach((n=>t.push(n))),"SortedSet("+t.toString()+")"}copy(t){const n=new on(this.comparator);return n.data=t,n}}class xT{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Er{constructor(t){this.fields=t,t.sort(Cn.comparator)}static empty(){return new Er([])}unionWith(t){let n=new on(Cn.comparator);for(const a of this.fields)n=n.add(a);for(const a of t)n=n.add(a);return new Er(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return $l(this.fields,t.fields,((n,a)=>n.isEqual(a)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class In{constructor(t){this.binaryString=t}static fromBase64String(t){const n=(function(l){try{return atob(l)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new Z0("Invalid base64 string: "+u):u}})(t);return new In(n)}static fromUint8Array(t){const n=(function(l){let u="";for(let f=0;f<l.length;++f)u+=String.fromCharCode(l[f]);return u})(t);return new In(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const a=new Uint8Array(n.length);for(let l=0;l<n.length;l++)a[l]=n.charCodeAt(l);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return ne(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}In.EMPTY_BYTE_STRING=new In("");const VL=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ka(r){if(me(!!r,39018),typeof r=="string"){let t=0;const n=VL.exec(r);if(me(!!n,46558,{timestamp:r}),n[1]){let l=n[1];l=(l+"000000000").substr(0,9),t=Number(l)}const a=new Date(r);return{seconds:Math.floor(a.getTime()/1e3),nanos:t}}return{seconds:Ke(r.seconds),nanos:Ke(r.nanos)}}function Ke(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Ya(r){return typeof r=="string"?In.fromBase64String(r):In.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K0="server_timestamp",Y0="__type__",Q0="__previous_value__",X0="__local_write_time__";function o_(r){var n,a;return((a=(((n=r==null?void 0:r.mapValue)==null?void 0:n.fields)||{})[Y0])==null?void 0:a.stringValue)===K0}function Kf(r){const t=r.mapValue.fields[Q0];return o_(t)?Kf(t):t}function wc(r){const t=Ka(r.mapValue.fields[X0].timestampValue);return new Le(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UL{constructor(t,n,a,l,u,f,_,g,v,w){this.databaseId=t,this.appId=n,this.persistenceKey=a,this.host=l,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=_,this.longPollingOptions=g,this.useFetchStreams=v,this.isUsingEmulator=w}}const Af="(default)";class bc{constructor(t,n){this.projectId=t,this.database=n||Af}static empty(){return new bc("","")}get isDefaultDatabase(){return this.database===Af}isEqual(t){return t instanceof bc&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W0="__type__",zL="__max__",Wh={mapValue:{}},$0="__vector__",Cf="value";function Qa(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?o_(r)?4:HL(r)?9007199254740991:BL(r)?10:11:Ht(28295,{value:r})}function Wr(r,t){if(r===t)return!0;const n=Qa(r);if(n!==Qa(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return wc(r).isEqual(wc(t));case 3:return(function(l,u){if(typeof l.timestampValue=="string"&&typeof u.timestampValue=="string"&&l.timestampValue.length===u.timestampValue.length)return l.timestampValue===u.timestampValue;const f=Ka(l.timestampValue),_=Ka(u.timestampValue);return f.seconds===_.seconds&&f.nanos===_.nanos})(r,t);case 5:return r.stringValue===t.stringValue;case 6:return(function(l,u){return Ya(l.bytesValue).isEqual(Ya(u.bytesValue))})(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return(function(l,u){return Ke(l.geoPointValue.latitude)===Ke(u.geoPointValue.latitude)&&Ke(l.geoPointValue.longitude)===Ke(u.geoPointValue.longitude)})(r,t);case 2:return(function(l,u){if("integerValue"in l&&"integerValue"in u)return Ke(l.integerValue)===Ke(u.integerValue);if("doubleValue"in l&&"doubleValue"in u){const f=Ke(l.doubleValue),_=Ke(u.doubleValue);return f===_?Sf(f)===Sf(_):isNaN(f)&&isNaN(_)}return!1})(r,t);case 9:return $l(r.arrayValue.values||[],t.arrayValue.values||[],Wr);case 10:case 11:return(function(l,u){const f=l.mapValue.fields||{},_=u.mapValue.fields||{};if(LT(f)!==LT(_))return!1;for(const g in f)if(f.hasOwnProperty(g)&&(_[g]===void 0||!Wr(f[g],_[g])))return!1;return!0})(r,t);default:return Ht(52216,{left:r})}}function Sc(r,t){return(r.values||[]).find((n=>Wr(n,t)))!==void 0}function Jl(r,t){if(r===t)return 0;const n=Qa(r),a=Qa(t);if(n!==a)return ne(n,a);switch(n){case 0:case 9007199254740991:return 0;case 1:return ne(r.booleanValue,t.booleanValue);case 2:return(function(u,f){const _=Ke(u.integerValue||u.doubleValue),g=Ke(f.integerValue||f.doubleValue);return _<g?-1:_>g?1:_===g?0:isNaN(_)?isNaN(g)?0:-1:1})(r,t);case 3:return PT(r.timestampValue,t.timestampValue);case 4:return PT(wc(r),wc(t));case 5:return mp(r.stringValue,t.stringValue);case 6:return(function(u,f){const _=Ya(u),g=Ya(f);return _.compareTo(g)})(r.bytesValue,t.bytesValue);case 7:return(function(u,f){const _=u.split("/"),g=f.split("/");for(let v=0;v<_.length&&v<g.length;v++){const w=ne(_[v],g[v]);if(w!==0)return w}return ne(_.length,g.length)})(r.referenceValue,t.referenceValue);case 8:return(function(u,f){const _=ne(Ke(u.latitude),Ke(f.latitude));return _!==0?_:ne(Ke(u.longitude),Ke(f.longitude))})(r.geoPointValue,t.geoPointValue);case 9:return MT(r.arrayValue,t.arrayValue);case 10:return(function(u,f){var I,M,q,F;const _=u.fields||{},g=f.fields||{},v=(I=_[Cf])==null?void 0:I.arrayValue,w=(M=g[Cf])==null?void 0:M.arrayValue,S=ne(((q=v==null?void 0:v.values)==null?void 0:q.length)||0,((F=w==null?void 0:w.values)==null?void 0:F.length)||0);return S!==0?S:MT(v,w)})(r.mapValue,t.mapValue);case 11:return(function(u,f){if(u===Wh.mapValue&&f===Wh.mapValue)return 0;if(u===Wh.mapValue)return 1;if(f===Wh.mapValue)return-1;const _=u.fields||{},g=Object.keys(_),v=f.fields||{},w=Object.keys(v);g.sort(),w.sort();for(let S=0;S<g.length&&S<w.length;++S){const I=mp(g[S],w[S]);if(I!==0)return I;const M=Jl(_[g[S]],v[w[S]]);if(M!==0)return M}return ne(g.length,w.length)})(r.mapValue,t.mapValue);default:throw Ht(23264,{he:n})}}function PT(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return ne(r,t);const n=Ka(r),a=Ka(t),l=ne(n.seconds,a.seconds);return l!==0?l:ne(n.nanos,a.nanos)}function MT(r,t){const n=r.values||[],a=t.values||[];for(let l=0;l<n.length&&l<a.length;++l){const u=Jl(n[l],a[l]);if(u)return u}return ne(n.length,a.length)}function tu(r){return pp(r)}function pp(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(n){const a=Ka(n);return`time(${a.seconds},${a.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(n){return Ya(n).toBase64()})(r.bytesValue):"referenceValue"in r?(function(n){return Nt.fromName(n).toString()})(r.referenceValue):"geoPointValue"in r?(function(n){return`geo(${n.latitude},${n.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(n){let a="[",l=!0;for(const u of n.values||[])l?l=!1:a+=",",a+=pp(u);return a+"]"})(r.arrayValue):"mapValue"in r?(function(n){const a=Object.keys(n.fields||{}).sort();let l="{",u=!0;for(const f of a)u?u=!1:l+=",",l+=`${f}:${pp(n.fields[f])}`;return l+"}"})(r.mapValue):Ht(61005,{value:r})}function uf(r){switch(Qa(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Kf(r);return t?16+uf(t):16;case 5:return 2*r.stringValue.length;case 6:return Ya(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((l,u)=>l+uf(u)),0)})(r.arrayValue);case 10:case 11:return(function(a){let l=0;return Qo(a.fields,((u,f)=>{l+=u.length+uf(f)})),l})(r.mapValue);default:throw Ht(13486,{value:r})}}function OT(r,t){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${t.path.canonicalString()}`}}function _p(r){return!!r&&"integerValue"in r}function l_(r){return!!r&&"arrayValue"in r}function NT(r){return!!r&&"nullValue"in r}function DT(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function cf(r){return!!r&&"mapValue"in r}function BL(r){var n,a;return((a=(((n=r==null?void 0:r.mapValue)==null?void 0:n.fields)||{})[W0])==null?void 0:a.stringValue)===$0}function dc(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const t={mapValue:{fields:{}}};return Qo(r.mapValue.fields,((n,a)=>t.mapValue.fields[n]=dc(a))),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=dc(r.arrayValue.values[n]);return t}return{...r}}function HL(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===zL}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i{constructor(t){this.value=t}static empty(){return new $i({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let a=0;a<t.length-1;++a)if(n=(n.mapValue.fields||{})[t.get(a)],!cf(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=dc(n)}setAll(t){let n=Cn.emptyPath(),a={},l=[];t.forEach(((f,_)=>{if(!n.isImmediateParentOf(_)){const g=this.getFieldsMap(n);this.applyChanges(g,a,l),a={},l=[],n=_.popLast()}f?a[_.lastSegment()]=dc(f):l.push(_.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,a,l)}delete(t){const n=this.field(t.popLast());cf(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return Wr(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let a=0;a<t.length;++a){let l=n.mapValue.fields[t.get(a)];cf(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},n.mapValue.fields[t.get(a)]=l),n=l}return n.mapValue.fields}applyChanges(t,n,a){Qo(n,((l,u)=>t[l]=u));for(const l of a)delete t[l]}clone(){return new $i(dc(this.value))}}function J0(r){const t=[];return Qo(r.fields,((n,a)=>{const l=new Cn([n]);if(cf(a)){const u=J0(a.mapValue).fields;if(u.length===0)t.push(l);else for(const f of u)t.push(l.child(f))}else t.push(l)})),new Er(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kn{constructor(t,n,a,l,u,f,_){this.key=t,this.documentType=n,this.version=a,this.readTime=l,this.createTime=u,this.data=f,this.documentState=_}static newInvalidDocument(t){return new kn(t,0,Ft.min(),Ft.min(),Ft.min(),$i.empty(),0)}static newFoundDocument(t,n,a,l){return new kn(t,1,n,Ft.min(),a,l,0)}static newNoDocument(t,n){return new kn(t,2,n,Ft.min(),Ft.min(),$i.empty(),0)}static newUnknownDocument(t,n){return new kn(t,3,n,Ft.min(),Ft.min(),$i.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(Ft.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=$i.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=$i.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ft.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof kn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new kn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rf{constructor(t,n){this.position=t,this.inclusive=n}}function kT(r,t,n){let a=0;for(let l=0;l<r.position.length;l++){const u=t[l],f=r.position[l];if(u.field.isKeyField()?a=Nt.comparator(Nt.fromName(f.referenceValue),n.key):a=Jl(f,n.data.field(u.field)),u.dir==="desc"&&(a*=-1),a!==0)break}return a}function VT(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!Wr(r.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class If{constructor(t,n="asc"){this.field=t,this.dir=n}}function jL(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tw{}class We extends tw{constructor(t,n,a){super(),this.field=t,this.op=n,this.value=a}static create(t,n,a){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,a):new FL(t,n,a):n==="array-contains"?new KL(t,a):n==="in"?new YL(t,a):n==="not-in"?new QL(t,a):n==="array-contains-any"?new XL(t,a):new We(t,n,a)}static createKeyFieldInFilter(t,n,a){return n==="in"?new GL(t,a):new ZL(t,a)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Jl(n,this.value)):n!==null&&Qa(this.value)===Qa(n)&&this.matchesComparison(Jl(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Ht(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ar extends tw{constructor(t,n){super(),this.filters=t,this.op=n,this.Pe=null}static create(t,n){return new Ar(t,n)}matches(t){return ew(this)?this.filters.find((n=>!n.matches(t)))===void 0:this.filters.find((n=>n.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,n)=>t.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function ew(r){return r.op==="and"}function nw(r){return qL(r)&&ew(r)}function qL(r){for(const t of r.filters)if(t instanceof Ar)return!1;return!0}function gp(r){if(r instanceof We)return r.field.canonicalString()+r.op.toString()+tu(r.value);if(nw(r))return r.filters.map((t=>gp(t))).join(",");{const t=r.filters.map((n=>gp(n))).join(",");return`${r.op}(${t})`}}function iw(r,t){return r instanceof We?(function(a,l){return l instanceof We&&a.op===l.op&&a.field.isEqual(l.field)&&Wr(a.value,l.value)})(r,t):r instanceof Ar?(function(a,l){return l instanceof Ar&&a.op===l.op&&a.filters.length===l.filters.length?a.filters.reduce(((u,f,_)=>u&&iw(f,l.filters[_])),!0):!1})(r,t):void Ht(19439)}function rw(r){return r instanceof We?(function(n){return`${n.field.canonicalString()} ${n.op} ${tu(n.value)}`})(r):r instanceof Ar?(function(n){return n.op.toString()+" {"+n.getFilters().map(rw).join(" ,")+"}"})(r):"Filter"}class FL extends We{constructor(t,n,a){super(t,n,a),this.key=Nt.fromName(a.referenceValue)}matches(t){const n=Nt.comparator(t.key,this.key);return this.matchesComparison(n)}}class GL extends We{constructor(t,n){super(t,"in",n),this.keys=sw("in",n)}matches(t){return this.keys.some((n=>n.isEqual(t.key)))}}class ZL extends We{constructor(t,n){super(t,"not-in",n),this.keys=sw("not-in",n)}matches(t){return!this.keys.some((n=>n.isEqual(t.key)))}}function sw(r,t){var n;return(((n=t.arrayValue)==null?void 0:n.values)||[]).map((a=>Nt.fromName(a.referenceValue)))}class KL extends We{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return l_(n)&&Sc(n.arrayValue,this.value)}}class YL extends We{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&Sc(this.value.arrayValue,n)}}class QL extends We{constructor(t,n){super(t,"not-in",n)}matches(t){if(Sc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Sc(this.value.arrayValue,n)}}class XL extends We{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!l_(n)||!n.arrayValue.values)&&n.arrayValue.values.some((a=>Sc(this.value.arrayValue,a)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WL{constructor(t,n=null,a=[],l=[],u=null,f=null,_=null){this.path=t,this.collectionGroup=n,this.orderBy=a,this.filters=l,this.limit=u,this.startAt=f,this.endAt=_,this.Te=null}}function UT(r,t=null,n=[],a=[],l=null,u=null,f=null){return new WL(r,t,n,a,l,u,f)}function u_(r){const t=Gt(r);if(t.Te===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((a=>gp(a))).join(","),n+="|ob:",n+=t.orderBy.map((a=>(function(u){return u.field.canonicalString()+u.dir})(a))).join(","),Zf(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((a=>tu(a))).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((a=>tu(a))).join(",")),t.Te=n}return t.Te}function c_(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!jL(r.orderBy[n],t.orderBy[n]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!iw(r.filters[n],t.filters[n]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!VT(r.startAt,t.startAt)&&VT(r.endAt,t.endAt)}function yp(r){return Nt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zc{constructor(t,n=null,a=[],l=[],u=null,f="F",_=null,g=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=a,this.filters=l,this.limit=u,this.limitType=f,this.startAt=_,this.endAt=g,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function $L(r,t,n,a,l,u,f,_){return new zc(r,t,n,a,l,u,f,_)}function h_(r){return new zc(r)}function zT(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function aw(r){return r.collectionGroup!==null}function mc(r){const t=Gt(r);if(t.Ie===null){t.Ie=[];const n=new Set;for(const u of t.explicitOrderBy)t.Ie.push(u),n.add(u.field.canonicalString());const a=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(f){let _=new on(Cn.comparator);return f.filters.forEach((g=>{g.getFlattenedFilters().forEach((v=>{v.isInequality()&&(_=_.add(v.field))}))})),_})(t).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||t.Ie.push(new If(u,a))})),n.has(Cn.keyField().canonicalString())||t.Ie.push(new If(Cn.keyField(),a))}return t.Ie}function Yr(r){const t=Gt(r);return t.Ee||(t.Ee=JL(t,mc(r))),t.Ee}function JL(r,t){if(r.limitType==="F")return UT(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map((l=>{const u=l.dir==="desc"?"asc":"desc";return new If(l.field,u)}));const n=r.endAt?new Rf(r.endAt.position,r.endAt.inclusive):null,a=r.startAt?new Rf(r.startAt.position,r.startAt.inclusive):null;return UT(r.path,r.collectionGroup,t,r.filters,r.limit,n,a)}}function vp(r,t){const n=r.filters.concat([t]);return new zc(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function Tp(r,t,n){return new zc(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,n,r.startAt,r.endAt)}function Yf(r,t){return c_(Yr(r),Yr(t))&&r.limitType===t.limitType}function ow(r){return`${u_(Yr(r))}|lt:${r.limitType}`}function ql(r){return`Query(target=${(function(n){let a=n.path.canonicalString();return n.collectionGroup!==null&&(a+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(a+=`, filters: [${n.filters.map((l=>rw(l))).join(", ")}]`),Zf(n.limit)||(a+=", limit: "+n.limit),n.orderBy.length>0&&(a+=`, orderBy: [${n.orderBy.map((l=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(l))).join(", ")}]`),n.startAt&&(a+=", startAt: ",a+=n.startAt.inclusive?"b:":"a:",a+=n.startAt.position.map((l=>tu(l))).join(",")),n.endAt&&(a+=", endAt: ",a+=n.endAt.inclusive?"a:":"b:",a+=n.endAt.position.map((l=>tu(l))).join(",")),`Target(${a})`})(Yr(r))}; limitType=${r.limitType})`}function Qf(r,t){return t.isFoundDocument()&&(function(a,l){const u=l.key.path;return a.collectionGroup!==null?l.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(u):Nt.isDocumentKey(a.path)?a.path.isEqual(u):a.path.isImmediateParentOf(u)})(r,t)&&(function(a,l){for(const u of mc(a))if(!u.field.isKeyField()&&l.data.field(u.field)===null)return!1;return!0})(r,t)&&(function(a,l){for(const u of a.filters)if(!u.matches(l))return!1;return!0})(r,t)&&(function(a,l){return!(a.startAt&&!(function(f,_,g){const v=kT(f,_,g);return f.inclusive?v<=0:v<0})(a.startAt,mc(a),l)||a.endAt&&!(function(f,_,g){const v=kT(f,_,g);return f.inclusive?v>=0:v>0})(a.endAt,mc(a),l))})(r,t)}function tx(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function lw(r){return(t,n)=>{let a=!1;for(const l of mc(r)){const u=ex(l,t,n);if(u!==0)return u;a=a||l.field.isKeyField()}return 0}}function ex(r,t,n){const a=r.field.isKeyField()?Nt.comparator(t.key,n.key):(function(u,f,_){const g=f.data.field(u),v=_.data.field(u);return g!==null&&v!==null?Jl(g,v):Ht(42886)})(r.field,t,n);switch(r.dir){case"asc":return a;case"desc":return-1*a;default:return Ht(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xo{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),a=this.inner[n];if(a!==void 0){for(const[l,u]of a)if(this.equalsFn(l,t))return u}}has(t){return this.get(t)!==void 0}set(t,n){const a=this.mapKeyFn(t),l=this.inner[a];if(l===void 0)return this.inner[a]=[[t,n]],void this.innerSize++;for(let u=0;u<l.length;u++)if(this.equalsFn(l[u][0],t))return void(l[u]=[t,n]);l.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),a=this.inner[n];if(a===void 0)return!1;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],t))return a.length===1?delete this.inner[n]:a.splice(l,1),this.innerSize--,!0;return!1}forEach(t){Qo(this.inner,((n,a)=>{for(const[l,u]of a)t(l,u)}))}isEmpty(){return G0(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nx=new Be(Nt.comparator);function qs(){return nx}const uw=new Be(Nt.comparator);function ac(...r){let t=uw;for(const n of r)t=t.insert(n.key,n);return t}function cw(r){let t=uw;return r.forEach(((n,a)=>t=t.insert(n,a.overlayedDocument))),t}function Do(){return pc()}function hw(){return pc()}function pc(){return new Xo((r=>r.toString()),((r,t)=>r.isEqual(t)))}const ix=new Be(Nt.comparator),rx=new on(Nt.comparator);function ie(...r){let t=rx;for(const n of r)t=t.add(n);return t}const sx=new on(ne);function ax(){return sx}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f_(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Sf(t)?"-0":t}}function fw(r){return{integerValue:""+r}}function ox(r,t){return NL(t)?fw(t):f_(r,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xf{constructor(){this._=void 0}}function lx(r,t,n){return r instanceof Ac?(function(l,u){const f={fields:{[Y0]:{stringValue:K0},[X0]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return u&&o_(u)&&(u=Kf(u)),u&&(f.fields[Q0]=u),{mapValue:f}})(n,t):r instanceof Cc?mw(r,t):r instanceof Rc?pw(r,t):(function(l,u){const f=dw(l,u),_=BT(f)+BT(l.Ae);return _p(f)&&_p(l.Ae)?fw(_):f_(l.serializer,_)})(r,t)}function ux(r,t,n){return r instanceof Cc?mw(r,t):r instanceof Rc?pw(r,t):n}function dw(r,t){return r instanceof Lf?(function(a){return _p(a)||(function(u){return!!u&&"doubleValue"in u})(a)})(t)?t:{integerValue:0}:null}class Ac extends Xf{}class Cc extends Xf{constructor(t){super(),this.elements=t}}function mw(r,t){const n=_w(t);for(const a of r.elements)n.some((l=>Wr(l,a)))||n.push(a);return{arrayValue:{values:n}}}class Rc extends Xf{constructor(t){super(),this.elements=t}}function pw(r,t){let n=_w(t);for(const a of r.elements)n=n.filter((l=>!Wr(l,a)));return{arrayValue:{values:n}}}class Lf extends Xf{constructor(t,n){super(),this.serializer=t,this.Ae=n}}function BT(r){return Ke(r.integerValue||r.doubleValue)}function _w(r){return l_(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cx{constructor(t,n){this.field=t,this.transform=n}}function hx(r,t){return r.field.isEqual(t.field)&&(function(a,l){return a instanceof Cc&&l instanceof Cc||a instanceof Rc&&l instanceof Rc?$l(a.elements,l.elements,Wr):a instanceof Lf&&l instanceof Lf?Wr(a.Ae,l.Ae):a instanceof Ac&&l instanceof Ac})(r.transform,t.transform)}class fx{constructor(t,n){this.version=t,this.transformResults=n}}class Us{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new Us}static exists(t){return new Us(void 0,t)}static updateTime(t){return new Us(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function hf(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class Wf{}function gw(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new vw(r.key,Us.none()):new Bc(r.key,r.data,Us.none());{const n=r.data,a=$i.empty();let l=new on(Cn.comparator);for(let u of t.fields)if(!l.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?a.delete(u):a.set(u,f),l=l.add(u)}return new Wo(r.key,a,new Er(l.toArray()),Us.none())}}function dx(r,t,n){r instanceof Bc?(function(l,u,f){const _=l.value.clone(),g=jT(l.fieldTransforms,u,f.transformResults);_.setAll(g),u.convertToFoundDocument(f.version,_).setHasCommittedMutations()})(r,t,n):r instanceof Wo?(function(l,u,f){if(!hf(l.precondition,u))return void u.convertToUnknownDocument(f.version);const _=jT(l.fieldTransforms,u,f.transformResults),g=u.data;g.setAll(yw(l)),g.setAll(_),u.convertToFoundDocument(f.version,g).setHasCommittedMutations()})(r,t,n):(function(l,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()})(0,t,n)}function _c(r,t,n,a){return r instanceof Bc?(function(u,f,_,g){if(!hf(u.precondition,f))return _;const v=u.value.clone(),w=qT(u.fieldTransforms,g,f);return v.setAll(w),f.convertToFoundDocument(f.version,v).setHasLocalMutations(),null})(r,t,n,a):r instanceof Wo?(function(u,f,_,g){if(!hf(u.precondition,f))return _;const v=qT(u.fieldTransforms,g,f),w=f.data;return w.setAll(yw(u)),w.setAll(v),f.convertToFoundDocument(f.version,w).setHasLocalMutations(),_===null?null:_.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((S=>S.field)))})(r,t,n,a):(function(u,f,_){return hf(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):_})(r,t,n)}function mx(r,t){let n=null;for(const a of r.fieldTransforms){const l=t.data.field(a.field),u=dw(a.transform,l||null);u!=null&&(n===null&&(n=$i.empty()),n.set(a.field,u))}return n||null}function HT(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!(function(a,l){return a===void 0&&l===void 0||!(!a||!l)&&$l(a,l,((u,f)=>hx(u,f)))})(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class Bc extends Wf{constructor(t,n,a,l=[]){super(),this.key=t,this.value=n,this.precondition=a,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class Wo extends Wf{constructor(t,n,a,l,u=[]){super(),this.key=t,this.data=n,this.fieldMask=a,this.precondition=l,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function yw(r){const t=new Map;return r.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const a=r.data.field(n);t.set(n,a)}})),t}function jT(r,t,n){const a=new Map;me(r.length===n.length,32656,{Re:n.length,Ve:r.length});for(let l=0;l<n.length;l++){const u=r[l],f=u.transform,_=t.data.field(u.field);a.set(u.field,ux(f,_,n[l]))}return a}function qT(r,t,n){const a=new Map;for(const l of r){const u=l.transform,f=n.data.field(l.field);a.set(l.field,lx(u,f,t))}return a}class vw extends Wf{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class px extends Wf{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _x{constructor(t,n,a,l){this.batchId=t,this.localWriteTime=n,this.baseMutations=a,this.mutations=l}applyToRemoteDocument(t,n){const a=n.mutationResults;for(let l=0;l<this.mutations.length;l++){const u=this.mutations[l];u.key.isEqual(t.key)&&dx(u,t,a[l])}}applyToLocalView(t,n){for(const a of this.baseMutations)a.key.isEqual(t.key)&&(n=_c(a,t,n,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(t.key)&&(n=_c(a,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const a=hw();return this.mutations.forEach((l=>{const u=t.get(l.key),f=u.overlayedDocument;let _=this.applyToLocalView(f,u.mutatedFields);_=n.has(l.key)?null:_;const g=gw(f,_);g!==null&&a.set(l.key,g),f.isValidDocument()||f.convertToNoDocument(Ft.min())})),a}keys(){return this.mutations.reduce(((t,n)=>t.add(n.key)),ie())}isEqual(t){return this.batchId===t.batchId&&$l(this.mutations,t.mutations,((n,a)=>HT(n,a)))&&$l(this.baseMutations,t.baseMutations,((n,a)=>HT(n,a)))}}class d_{constructor(t,n,a,l){this.batch=t,this.commitVersion=n,this.mutationResults=a,this.docVersions=l}static from(t,n,a){me(t.mutations.length===a.length,58842,{me:t.mutations.length,fe:a.length});let l=(function(){return ix})();const u=t.mutations;for(let f=0;f<u.length;f++)l=l.insert(u[f].key,a[f].version);return new d_(t,n,a,l)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gx{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yx{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Xe,ue;function vx(r){switch(r){case ht.OK:return Ht(64938);case ht.CANCELLED:case ht.UNKNOWN:case ht.DEADLINE_EXCEEDED:case ht.RESOURCE_EXHAUSTED:case ht.INTERNAL:case ht.UNAVAILABLE:case ht.UNAUTHENTICATED:return!1;case ht.INVALID_ARGUMENT:case ht.NOT_FOUND:case ht.ALREADY_EXISTS:case ht.PERMISSION_DENIED:case ht.FAILED_PRECONDITION:case ht.ABORTED:case ht.OUT_OF_RANGE:case ht.UNIMPLEMENTED:case ht.DATA_LOSS:return!0;default:return Ht(15467,{code:r})}}function Tw(r){if(r===void 0)return js("GRPC error has no .code"),ht.UNKNOWN;switch(r){case Xe.OK:return ht.OK;case Xe.CANCELLED:return ht.CANCELLED;case Xe.UNKNOWN:return ht.UNKNOWN;case Xe.DEADLINE_EXCEEDED:return ht.DEADLINE_EXCEEDED;case Xe.RESOURCE_EXHAUSTED:return ht.RESOURCE_EXHAUSTED;case Xe.INTERNAL:return ht.INTERNAL;case Xe.UNAVAILABLE:return ht.UNAVAILABLE;case Xe.UNAUTHENTICATED:return ht.UNAUTHENTICATED;case Xe.INVALID_ARGUMENT:return ht.INVALID_ARGUMENT;case Xe.NOT_FOUND:return ht.NOT_FOUND;case Xe.ALREADY_EXISTS:return ht.ALREADY_EXISTS;case Xe.PERMISSION_DENIED:return ht.PERMISSION_DENIED;case Xe.FAILED_PRECONDITION:return ht.FAILED_PRECONDITION;case Xe.ABORTED:return ht.ABORTED;case Xe.OUT_OF_RANGE:return ht.OUT_OF_RANGE;case Xe.UNIMPLEMENTED:return ht.UNIMPLEMENTED;case Xe.DATA_LOSS:return ht.DATA_LOSS;default:return Ht(39323,{code:r})}}(ue=Xe||(Xe={}))[ue.OK=0]="OK",ue[ue.CANCELLED=1]="CANCELLED",ue[ue.UNKNOWN=2]="UNKNOWN",ue[ue.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ue[ue.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ue[ue.NOT_FOUND=5]="NOT_FOUND",ue[ue.ALREADY_EXISTS=6]="ALREADY_EXISTS",ue[ue.PERMISSION_DENIED=7]="PERMISSION_DENIED",ue[ue.UNAUTHENTICATED=16]="UNAUTHENTICATED",ue[ue.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ue[ue.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ue[ue.ABORTED=10]="ABORTED",ue[ue.OUT_OF_RANGE=11]="OUT_OF_RANGE",ue[ue.UNIMPLEMENTED=12]="UNIMPLEMENTED",ue[ue.INTERNAL=13]="INTERNAL",ue[ue.UNAVAILABLE=14]="UNAVAILABLE",ue[ue.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tx(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ex=new ja([4294967295,4294967295],0);function FT(r){const t=Tx().encode(r),n=new N0;return n.update(t),new Uint8Array(n.digest())}function GT(r){const t=new DataView(r.buffer),n=t.getUint32(0,!0),a=t.getUint32(4,!0),l=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new ja([n,a],0),new ja([l,u],0)]}class m_{constructor(t,n,a){if(this.bitmap=t,this.padding=n,this.hashCount=a,n<0||n>=8)throw new oc(`Invalid padding: ${n}`);if(a<0)throw new oc(`Invalid hash count: ${a}`);if(t.length>0&&this.hashCount===0)throw new oc(`Invalid hash count: ${a}`);if(t.length===0&&n!==0)throw new oc(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*t.length-n,this.pe=ja.fromNumber(this.ge)}ye(t,n,a){let l=t.add(n.multiply(ja.fromNumber(a)));return l.compare(Ex)===1&&(l=new ja([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const n=FT(t),[a,l]=GT(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(a,l,u);if(!this.we(f))return!1}return!0}static create(t,n,a){const l=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),f=new m_(u,l,n);return a.forEach((_=>f.insert(_))),f}insert(t){if(this.ge===0)return;const n=FT(t),[a,l]=GT(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(a,l,u);this.Se(f)}}Se(t){const n=Math.floor(t/8),a=t%8;this.bitmap[n]|=1<<a}}class oc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $f{constructor(t,n,a,l,u){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=a,this.documentUpdates=l,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,n,a){const l=new Map;return l.set(t,Hc.createSynthesizedTargetChangeForCurrentChange(t,n,a)),new $f(Ft.min(),l,new Be(ne),qs(),ie())}}class Hc{constructor(t,n,a,l,u){this.resumeToken=t,this.current=n,this.addedDocuments=a,this.modifiedDocuments=l,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,n,a){return new Hc(a,n,ie(),ie(),ie())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ff{constructor(t,n,a,l){this.be=t,this.removedTargetIds=n,this.key=a,this.De=l}}class Ew{constructor(t,n){this.targetId=t,this.Ce=n}}class ww{constructor(t,n,a=In.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=n,this.resumeToken=a,this.cause=l}}class ZT{constructor(){this.ve=0,this.Fe=KT(),this.Me=In.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=ie(),n=ie(),a=ie();return this.Fe.forEach(((l,u)=>{switch(u){case 0:t=t.add(l);break;case 2:n=n.add(l);break;case 1:a=a.add(l);break;default:Ht(38017,{changeType:u})}})),new Hc(this.Me,this.xe,t,n,a)}qe(){this.Oe=!1,this.Fe=KT()}Qe(t,n){this.Oe=!0,this.Fe=this.Fe.insert(t,n)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,me(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class wx{constructor(t){this.Ge=t,this.ze=new Map,this.je=qs(),this.Je=$h(),this.He=$h(),this.Ye=new Be(ne)}Ze(t){for(const n of t.be)t.De&&t.De.isFoundDocument()?this.Xe(n,t.De):this.et(n,t.key,t.De);for(const n of t.removedTargetIds)this.et(n,t.key,t.De)}tt(t){this.forEachTarget(t,(n=>{const a=this.nt(n);switch(t.state){case 0:this.rt(n)&&a.Le(t.resumeToken);break;case 1:a.Ke(),a.Ne||a.qe(),a.Le(t.resumeToken);break;case 2:a.Ke(),a.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(a.We(),a.Le(t.resumeToken));break;case 4:this.rt(n)&&(this.it(n),a.Le(t.resumeToken));break;default:Ht(56790,{state:t.state})}}))}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.ze.forEach(((a,l)=>{this.rt(l)&&n(l)}))}st(t){const n=t.targetId,a=t.Ce.count,l=this.ot(n);if(l){const u=l.target;if(yp(u))if(a===0){const f=new Nt(u.path);this.et(n,f,kn.newNoDocument(f,Ft.min()))}else me(a===1,20013,{expectedCount:a});else{const f=this._t(n);if(f!==a){const _=this.ut(t),g=_?this.ct(_,t,f):1;if(g!==0){this.it(n);const v=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,v)}}}}}ut(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:a="",padding:l=0},hashCount:u=0}=n;let f,_;try{f=Ya(a).toUint8Array()}catch(g){if(g instanceof Z0)return Wl("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{_=new m_(f,l,u)}catch(g){return Wl(g instanceof oc?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return _.ge===0?null:_}ct(t,n,a){return n.Ce.count===a-this.Pt(t,n.targetId)?0:2}Pt(t,n){const a=this.Ge.getRemoteKeysForTarget(n);let l=0;return a.forEach((u=>{const f=this.Ge.ht(),_=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;t.mightContain(_)||(this.et(n,u,null),l++)})),l}Tt(t){const n=new Map;this.ze.forEach(((u,f)=>{const _=this.ot(f);if(_){if(u.current&&yp(_.target)){const g=new Nt(_.target.path);this.It(g).has(f)||this.Et(f,g)||this.et(f,g,kn.newNoDocument(g,t))}u.Be&&(n.set(f,u.ke()),u.qe())}}));let a=ie();this.He.forEach(((u,f)=>{let _=!0;f.forEachWhile((g=>{const v=this.ot(g);return!v||v.purpose==="TargetPurposeLimboResolution"||(_=!1,!1)})),_&&(a=a.add(u))})),this.je.forEach(((u,f)=>f.setReadTime(t)));const l=new $f(t,n,this.Ye,this.je,a);return this.je=qs(),this.Je=$h(),this.He=$h(),this.Ye=new Be(ne),l}Xe(t,n){if(!this.rt(t))return;const a=this.Et(t,n.key)?2:0;this.nt(t).Qe(n.key,a),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(t)),this.He=this.He.insert(n.key,this.dt(n.key).add(t))}et(t,n,a){if(!this.rt(t))return;const l=this.nt(t);this.Et(t,n)?l.Qe(n,1):l.$e(n),this.He=this.He.insert(n,this.dt(n).delete(t)),this.He=this.He.insert(n,this.dt(n).add(t)),a&&(this.je=this.je.insert(n,a))}removeTarget(t){this.ze.delete(t)}_t(t){const n=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let n=this.ze.get(t);return n||(n=new ZT,this.ze.set(t,n)),n}dt(t){let n=this.He.get(t);return n||(n=new on(ne),this.He=this.He.insert(t,n)),n}It(t){let n=this.Je.get(t);return n||(n=new on(ne),this.Je=this.Je.insert(t,n)),n}rt(t){const n=this.ot(t)!==null;return n||Ct("WatchChangeAggregator","Detected inactive target",t),n}ot(t){const n=this.ze.get(t);return n&&n.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new ZT),this.Ge.getRemoteKeysForTarget(t).forEach((n=>{this.et(t,n,null)}))}Et(t,n){return this.Ge.getRemoteKeysForTarget(t).has(n)}}function $h(){return new Be(Nt.comparator)}function KT(){return new Be(Nt.comparator)}const bx={asc:"ASCENDING",desc:"DESCENDING"},Sx={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Ax={and:"AND",or:"OR"};class Cx{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function Ep(r,t){return r.useProto3Json||Zf(t)?t:{value:t}}function xf(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function bw(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function Rx(r,t){return xf(r,t.toTimestamp())}function Qr(r){return me(!!r,49232),Ft.fromTimestamp((function(n){const a=Ka(n);return new Le(a.seconds,a.nanos)})(r))}function p_(r,t){return wp(r,t).canonicalString()}function wp(r,t){const n=(function(l){return new Ce(["projects",l.projectId,"databases",l.database])})(r).child("documents");return t===void 0?n:n.child(t)}function Sw(r){const t=Ce.fromString(r);return me(Lw(t),10190,{key:t.toString()}),t}function bp(r,t){return p_(r.databaseId,t.path)}function Wm(r,t){const n=Sw(t);if(n.get(1)!==r.databaseId.projectId)throw new Rt(ht.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new Rt(ht.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new Nt(Cw(n))}function Aw(r,t){return p_(r.databaseId,t)}function Ix(r){const t=Sw(r);return t.length===4?Ce.emptyPath():Cw(t)}function Sp(r){return new Ce(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function Cw(r){return me(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function YT(r,t,n){return{name:bp(r,t),fields:n.value.mapValue.fields}}function Lx(r,t){let n;if("targetChange"in t){t.targetChange;const a=(function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:Ht(39313,{state:v})})(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],u=(function(v,w){return v.useProto3Json?(me(w===void 0||typeof w=="string",58123),In.fromBase64String(w||"")):(me(w===void 0||w instanceof Buffer||w instanceof Uint8Array,16193),In.fromUint8Array(w||new Uint8Array))})(r,t.targetChange.resumeToken),f=t.targetChange.cause,_=f&&(function(v){const w=v.code===void 0?ht.UNKNOWN:Tw(v.code);return new Rt(w,v.message||"")})(f);n=new ww(a,l,u,_||null)}else if("documentChange"in t){t.documentChange;const a=t.documentChange;a.document,a.document.name,a.document.updateTime;const l=Wm(r,a.document.name),u=Qr(a.document.updateTime),f=a.document.createTime?Qr(a.document.createTime):Ft.min(),_=new $i({mapValue:{fields:a.document.fields}}),g=kn.newFoundDocument(l,u,f,_),v=a.targetIds||[],w=a.removedTargetIds||[];n=new ff(v,w,g.key,g)}else if("documentDelete"in t){t.documentDelete;const a=t.documentDelete;a.document;const l=Wm(r,a.document),u=a.readTime?Qr(a.readTime):Ft.min(),f=kn.newNoDocument(l,u),_=a.removedTargetIds||[];n=new ff([],_,f.key,f)}else if("documentRemove"in t){t.documentRemove;const a=t.documentRemove;a.document;const l=Wm(r,a.document),u=a.removedTargetIds||[];n=new ff([],u,l,null)}else{if(!("filter"in t))return Ht(11601,{Rt:t});{t.filter;const a=t.filter;a.targetId;const{count:l=0,unchangedNames:u}=a,f=new yx(l,u),_=a.targetId;n=new Ew(_,f)}}return n}function xx(r,t){let n;if(t instanceof Bc)n={update:YT(r,t.key,t.value)};else if(t instanceof vw)n={delete:bp(r,t.key)};else if(t instanceof Wo)n={update:YT(r,t.key,t.data),updateMask:zx(t.fieldMask)};else{if(!(t instanceof px))return Ht(16599,{Vt:t.type});n={verify:bp(r,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((a=>(function(u,f){const _=f.transform;if(_ instanceof Ac)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(_ instanceof Cc)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:_.elements}};if(_ instanceof Rc)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:_.elements}};if(_ instanceof Lf)return{fieldPath:f.field.canonicalString(),increment:_.Ae};throw Ht(20930,{transform:f.transform})})(0,a)))),t.precondition.isNone||(n.currentDocument=(function(l,u){return u.updateTime!==void 0?{updateTime:Rx(l,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Ht(27497)})(r,t.precondition)),n}function Px(r,t){return r&&r.length>0?(me(t!==void 0,14353),r.map((n=>(function(l,u){let f=l.updateTime?Qr(l.updateTime):Qr(u);return f.isEqual(Ft.min())&&(f=Qr(u)),new fx(f,l.transformResults||[])})(n,t)))):[]}function Mx(r,t){return{documents:[Aw(r,t.path)]}}function Ox(r,t){const n={structuredQuery:{}},a=t.path;let l;t.collectionGroup!==null?(l=a,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=a.popLast(),n.structuredQuery.from=[{collectionId:a.lastSegment()}]),n.parent=Aw(r,l);const u=(function(v){if(v.length!==0)return Iw(Ar.create(v,"and"))})(t.filters);u&&(n.structuredQuery.where=u);const f=(function(v){if(v.length!==0)return v.map((w=>(function(I){return{field:Fl(I.field),direction:kx(I.dir)}})(w)))})(t.orderBy);f&&(n.structuredQuery.orderBy=f);const _=Ep(r,t.limit);return _!==null&&(n.structuredQuery.limit=_),t.startAt&&(n.structuredQuery.startAt=(function(v){return{before:v.inclusive,values:v.position}})(t.startAt)),t.endAt&&(n.structuredQuery.endAt=(function(v){return{before:!v.inclusive,values:v.position}})(t.endAt)),{ft:n,parent:l}}function Nx(r){let t=Ix(r.parent);const n=r.structuredQuery,a=n.from?n.from.length:0;let l=null;if(a>0){me(a===1,65062);const w=n.from[0];w.allDescendants?l=w.collectionId:t=t.child(w.collectionId)}let u=[];n.where&&(u=(function(S){const I=Rw(S);return I instanceof Ar&&nw(I)?I.getFilters():[I]})(n.where));let f=[];n.orderBy&&(f=(function(S){return S.map((I=>(function(q){return new If(Gl(q.field),(function(Z){switch(Z){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(q.direction))})(I)))})(n.orderBy));let _=null;n.limit&&(_=(function(S){let I;return I=typeof S=="object"?S.value:S,Zf(I)?null:I})(n.limit));let g=null;n.startAt&&(g=(function(S){const I=!!S.before,M=S.values||[];return new Rf(M,I)})(n.startAt));let v=null;return n.endAt&&(v=(function(S){const I=!S.before,M=S.values||[];return new Rf(M,I)})(n.endAt)),$L(t,l,f,u,_,"F",g,v)}function Dx(r,t){const n=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ht(28987,{purpose:l})}})(t.purpose);return n==null?null:{"goog-listen-tags":n}}function Rw(r){return r.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const a=Gl(n.unaryFilter.field);return We.create(a,"==",{doubleValue:NaN});case"IS_NULL":const l=Gl(n.unaryFilter.field);return We.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Gl(n.unaryFilter.field);return We.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Gl(n.unaryFilter.field);return We.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ht(61313);default:return Ht(60726)}})(r):r.fieldFilter!==void 0?(function(n){return We.create(Gl(n.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ht(58110);default:return Ht(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(n){return Ar.create(n.compositeFilter.filters.map((a=>Rw(a))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return Ht(1026)}})(n.compositeFilter.op))})(r):Ht(30097,{filter:r})}function kx(r){return bx[r]}function Vx(r){return Sx[r]}function Ux(r){return Ax[r]}function Fl(r){return{fieldPath:r.canonicalString()}}function Gl(r){return Cn.fromServerFormat(r.fieldPath)}function Iw(r){return r instanceof We?(function(n){if(n.op==="=="){if(DT(n.value))return{unaryFilter:{field:Fl(n.field),op:"IS_NAN"}};if(NT(n.value))return{unaryFilter:{field:Fl(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(DT(n.value))return{unaryFilter:{field:Fl(n.field),op:"IS_NOT_NAN"}};if(NT(n.value))return{unaryFilter:{field:Fl(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Fl(n.field),op:Vx(n.op),value:n.value}}})(r):r instanceof Ar?(function(n){const a=n.getFilters().map((l=>Iw(l)));return a.length===1?a[0]:{compositeFilter:{op:Ux(n.op),filters:a}}})(r):Ht(54877,{filter:r})}function zx(r){const t=[];return r.fields.forEach((n=>t.push(n.canonicalString()))),{fieldPaths:t}}function Lw(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class za{constructor(t,n,a,l,u=Ft.min(),f=Ft.min(),_=In.EMPTY_BYTE_STRING,g=null){this.target=t,this.targetId=n,this.purpose=a,this.sequenceNumber=l,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=_,this.expectedCount=g}withSequenceNumber(t){return new za(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new za(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new za(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new za(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bx{constructor(t){this.yt=t}}function Hx(r){const t=Nx({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Tp(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jx{constructor(){this.Cn=new qx}addToCollectionParentIndex(t,n){return this.Cn.add(n),ft.resolve()}getCollectionParents(t,n){return ft.resolve(this.Cn.getEntries(n))}addFieldIndex(t,n){return ft.resolve()}deleteFieldIndex(t,n){return ft.resolve()}deleteAllFieldIndexes(t){return ft.resolve()}createTargetIndexes(t,n){return ft.resolve()}getDocumentsMatchingTarget(t,n){return ft.resolve(null)}getIndexType(t,n){return ft.resolve(0)}getFieldIndexes(t,n){return ft.resolve([])}getNextCollectionGroupToUpdate(t){return ft.resolve(null)}getMinOffset(t,n){return ft.resolve(Za.min())}getMinOffsetFromCollectionGroup(t,n){return ft.resolve(Za.min())}updateCollectionGroup(t,n,a){return ft.resolve()}updateIndexEntries(t,n){return ft.resolve()}}class qx{constructor(){this.index={}}add(t){const n=t.lastSegment(),a=t.popLast(),l=this.index[n]||new on(Ce.comparator),u=!l.has(a);return this.index[n]=l.add(a),u}has(t){const n=t.lastSegment(),a=t.popLast(),l=this.index[n];return l&&l.has(a)}getEntries(t){return(this.index[t]||new on(Ce.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},xw=41943040;class fi{static withCacheSize(t){return new fi(t,fi.DEFAULT_COLLECTION_PERCENTILE,fi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,a){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */fi.DEFAULT_COLLECTION_PERCENTILE=10,fi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,fi.DEFAULT=new fi(xw,fi.DEFAULT_COLLECTION_PERCENTILE,fi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),fi.DISABLED=new fi(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eu{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new eu(0)}static cr(){return new eu(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XT="LruGarbageCollector",Fx=1048576;function WT([r,t],[n,a]){const l=ne(r,n);return l===0?ne(t,a):l}class Gx{constructor(t){this.Ir=t,this.buffer=new on(WT),this.Er=0}dr(){return++this.Er}Ar(t){const n=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const a=this.buffer.last();WT(n,a)<0&&(this.buffer=this.buffer.delete(a).add(n))}}get maxValue(){return this.buffer.last()[0]}}class Zx{constructor(t,n,a){this.garbageCollector=t,this.asyncQueue=n,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){Ct(XT,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){uu(n)?Ct(XT,"Ignoring IndexedDB error during garbage collection: ",n):await lu(n)}await this.Vr(3e5)}))}}class Kx{constructor(t,n){this.mr=t,this.params=n}calculateTargetCount(t,n){return this.mr.gr(t).next((a=>Math.floor(n/100*a)))}nthSequenceNumber(t,n){if(n===0)return ft.resolve(Gf.ce);const a=new Gx(n);return this.mr.forEachTarget(t,(l=>a.Ar(l.sequenceNumber))).next((()=>this.mr.pr(t,(l=>a.Ar(l))))).next((()=>a.maxValue))}removeTargets(t,n,a){return this.mr.removeTargets(t,n,a)}removeOrphanedDocuments(t,n){return this.mr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(Ct("LruGarbageCollector","Garbage collection skipped; disabled"),ft.resolve(QT)):this.getCacheSize(t).next((a=>a<this.params.cacheSizeCollectionThreshold?(Ct("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),QT):this.yr(t,n)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,n){let a,l,u,f,_,g,v;const w=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((S=>(S>this.params.maximumSequenceNumbersToCollect?(Ct("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),l=this.params.maximumSequenceNumbersToCollect):l=S,f=Date.now(),this.nthSequenceNumber(t,l)))).next((S=>(a=S,_=Date.now(),this.removeTargets(t,a,n)))).next((S=>(u=S,g=Date.now(),this.removeOrphanedDocuments(t,a)))).next((S=>(v=Date.now(),jl()<=ee.DEBUG&&Ct("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-w}ms
	Determined least recently used ${l} in `+(_-f)+`ms
	Removed ${u} targets in `+(g-_)+`ms
	Removed ${S} documents in `+(v-g)+`ms
Total Duration: ${v-w}ms`),ft.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:u,documentsRemoved:S}))))}}function Yx(r,t){return new Kx(r,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qx{constructor(){this.changes=new Xo((t=>t.toString()),((t,n)=>t.isEqual(n))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,kn.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const a=this.changes.get(n);return a!==void 0?ft.resolve(a):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xx{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wx{constructor(t,n,a,l){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=a,this.indexManager=l}getDocument(t,n){let a=null;return this.documentOverlayCache.getOverlay(t,n).next((l=>(a=l,this.remoteDocumentCache.getEntry(t,n)))).next((l=>(a!==null&&_c(a.mutation,l,Er.empty(),Le.now()),l)))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next((a=>this.getLocalViewOfDocuments(t,a,ie()).next((()=>a))))}getLocalViewOfDocuments(t,n,a=ie()){const l=Do();return this.populateOverlays(t,l,n).next((()=>this.computeViews(t,n,l,a).next((u=>{let f=ac();return u.forEach(((_,g)=>{f=f.insert(_,g.overlayedDocument)})),f}))))}getOverlayedDocuments(t,n){const a=Do();return this.populateOverlays(t,a,n).next((()=>this.computeViews(t,n,a,ie())))}populateOverlays(t,n,a){const l=[];return a.forEach((u=>{n.has(u)||l.push(u)})),this.documentOverlayCache.getOverlays(t,l).next((u=>{u.forEach(((f,_)=>{n.set(f,_)}))}))}computeViews(t,n,a,l){let u=qs();const f=pc(),_=(function(){return pc()})();return n.forEach(((g,v)=>{const w=a.get(v.key);l.has(v.key)&&(w===void 0||w.mutation instanceof Wo)?u=u.insert(v.key,v):w!==void 0?(f.set(v.key,w.mutation.getFieldMask()),_c(w.mutation,v,w.mutation.getFieldMask(),Le.now())):f.set(v.key,Er.empty())})),this.recalculateAndSaveOverlays(t,u).next((g=>(g.forEach(((v,w)=>f.set(v,w))),n.forEach(((v,w)=>_.set(v,new Xx(w,f.get(v)??null)))),_)))}recalculateAndSaveOverlays(t,n){const a=pc();let l=new Be(((f,_)=>f-_)),u=ie();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next((f=>{for(const _ of f)_.keys().forEach((g=>{const v=n.get(g);if(v===null)return;let w=a.get(g)||Er.empty();w=_.applyToLocalView(v,w),a.set(g,w);const S=(l.get(_.batchId)||ie()).add(g);l=l.insert(_.batchId,S)}))})).next((()=>{const f=[],_=l.getReverseIterator();for(;_.hasNext();){const g=_.getNext(),v=g.key,w=g.value,S=hw();w.forEach((I=>{if(!u.has(I)){const M=gw(n.get(I),a.get(I));M!==null&&S.set(I,M),u=u.add(I)}})),f.push(this.documentOverlayCache.saveOverlays(t,v,S))}return ft.waitFor(f)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next((a=>this.recalculateAndSaveOverlays(t,a)))}getDocumentsMatchingQuery(t,n,a,l){return(function(f){return Nt.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):aw(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,a,l):this.getDocumentsMatchingCollectionQuery(t,n,a,l)}getNextDocuments(t,n,a,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,a,l).next((u=>{const f=l-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,a.largestBatchId,l-u.size):ft.resolve(Do());let _=Ec,g=u;return f.next((v=>ft.forEach(v,((w,S)=>(_<S.largestBatchId&&(_=S.largestBatchId),u.get(w)?ft.resolve():this.remoteDocumentCache.getEntry(t,w).next((I=>{g=g.insert(w,I)}))))).next((()=>this.populateOverlays(t,v,u))).next((()=>this.computeViews(t,g,v,ie()))).next((w=>({batchId:_,changes:cw(w)})))))}))}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new Nt(n)).next((a=>{let l=ac();return a.isFoundDocument()&&(l=l.insert(a.key,a)),l}))}getDocumentsMatchingCollectionGroupQuery(t,n,a,l){const u=n.collectionGroup;let f=ac();return this.indexManager.getCollectionParents(t,u).next((_=>ft.forEach(_,(g=>{const v=(function(S,I){return new zc(I,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)})(n,g.child(u));return this.getDocumentsMatchingCollectionQuery(t,v,a,l).next((w=>{w.forEach(((S,I)=>{f=f.insert(S,I)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(t,n,a,l){let u;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,a.largestBatchId).next((f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,a,u,l)))).next((f=>{u.forEach(((g,v)=>{const w=v.getKey();f.get(w)===null&&(f=f.insert(w,kn.newInvalidDocument(w)))}));let _=ac();return f.forEach(((g,v)=>{const w=u.get(g);w!==void 0&&_c(w.mutation,v,Er.empty(),Le.now()),Qf(n,v)&&(_=_.insert(g,v))})),_}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $x{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,n){return ft.resolve(this.Lr.get(n))}saveBundleMetadata(t,n){return this.Lr.set(n.id,(function(l){return{id:l.id,version:l.version,createTime:Qr(l.createTime)}})(n)),ft.resolve()}getNamedQuery(t,n){return ft.resolve(this.kr.get(n))}saveNamedQuery(t,n){return this.kr.set(n.name,(function(l){return{name:l.name,query:Hx(l.bundledQuery),readTime:Qr(l.readTime)}})(n)),ft.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jx{constructor(){this.overlays=new Be(Nt.comparator),this.qr=new Map}getOverlay(t,n){return ft.resolve(this.overlays.get(n))}getOverlays(t,n){const a=Do();return ft.forEach(n,(l=>this.getOverlay(t,l).next((u=>{u!==null&&a.set(l,u)})))).next((()=>a))}saveOverlays(t,n,a){return a.forEach(((l,u)=>{this.St(t,n,u)})),ft.resolve()}removeOverlaysForBatchId(t,n,a){const l=this.qr.get(a);return l!==void 0&&(l.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(a)),ft.resolve()}getOverlaysForCollection(t,n,a){const l=Do(),u=n.length+1,f=new Nt(n.child("")),_=this.overlays.getIteratorFrom(f);for(;_.hasNext();){const g=_.getNext().value,v=g.getKey();if(!n.isPrefixOf(v.path))break;v.path.length===u&&g.largestBatchId>a&&l.set(g.getKey(),g)}return ft.resolve(l)}getOverlaysForCollectionGroup(t,n,a,l){let u=new Be(((v,w)=>v-w));const f=this.overlays.getIterator();for(;f.hasNext();){const v=f.getNext().value;if(v.getKey().getCollectionGroup()===n&&v.largestBatchId>a){let w=u.get(v.largestBatchId);w===null&&(w=Do(),u=u.insert(v.largestBatchId,w)),w.set(v.getKey(),v)}}const _=Do(),g=u.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((v,w)=>_.set(v,w))),!(_.size()>=l)););return ft.resolve(_)}St(t,n,a){const l=this.overlays.get(a.key);if(l!==null){const f=this.qr.get(l.largestBatchId).delete(a.key);this.qr.set(l.largestBatchId,f)}this.overlays=this.overlays.insert(a.key,new gx(n,a));let u=this.qr.get(n);u===void 0&&(u=ie(),this.qr.set(n,u)),this.qr.set(n,u.add(a.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tP{constructor(){this.sessionToken=In.EMPTY_BYTE_STRING}getSessionToken(t){return ft.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,ft.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __{constructor(){this.Qr=new on(Tn.$r),this.Ur=new on(Tn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,n){const a=new Tn(t,n);this.Qr=this.Qr.add(a),this.Ur=this.Ur.add(a)}Wr(t,n){t.forEach((a=>this.addReference(a,n)))}removeReference(t,n){this.Gr(new Tn(t,n))}zr(t,n){t.forEach((a=>this.removeReference(a,n)))}jr(t){const n=new Nt(new Ce([])),a=new Tn(n,t),l=new Tn(n,t+1),u=[];return this.Ur.forEachInRange([a,l],(f=>{this.Gr(f),u.push(f.key)})),u}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const n=new Nt(new Ce([])),a=new Tn(n,t),l=new Tn(n,t+1);let u=ie();return this.Ur.forEachInRange([a,l],(f=>{u=u.add(f.key)})),u}containsKey(t){const n=new Tn(t,0),a=this.Qr.firstAfterOrEqual(n);return a!==null&&t.isEqual(a.key)}}class Tn{constructor(t,n){this.key=t,this.Yr=n}static $r(t,n){return Nt.comparator(t.key,n.key)||ne(t.Yr,n.Yr)}static Kr(t,n){return ne(t.Yr,n.Yr)||Nt.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eP{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new on(Tn.$r)}checkEmpty(t){return ft.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,a,l){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new _x(u,n,a,l);this.mutationQueue.push(f);for(const _ of l)this.Zr=this.Zr.add(new Tn(_.key,u)),this.indexManager.addToCollectionParentIndex(t,_.key.path.popLast());return ft.resolve(f)}lookupMutationBatch(t,n){return ft.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(t,n){const a=n+1,l=this.ei(a),u=l<0?0:l;return ft.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ft.resolve(this.mutationQueue.length===0?a_:this.tr-1)}getAllMutationBatches(t){return ft.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const a=new Tn(n,0),l=new Tn(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([a,l],(f=>{const _=this.Xr(f.Yr);u.push(_)})),ft.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,n){let a=new on(ne);return n.forEach((l=>{const u=new Tn(l,0),f=new Tn(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,f],(_=>{a=a.add(_.Yr)}))})),ft.resolve(this.ti(a))}getAllMutationBatchesAffectingQuery(t,n){const a=n.path,l=a.length+1;let u=a;Nt.isDocumentKey(u)||(u=u.child(""));const f=new Tn(new Nt(u),0);let _=new on(ne);return this.Zr.forEachWhile((g=>{const v=g.key.path;return!!a.isPrefixOf(v)&&(v.length===l&&(_=_.add(g.Yr)),!0)}),f),ft.resolve(this.ti(_))}ti(t){const n=[];return t.forEach((a=>{const l=this.Xr(a);l!==null&&n.push(l)})),n}removeMutationBatch(t,n){me(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Zr;return ft.forEach(n.mutations,(l=>{const u=new Tn(l.key,n.batchId);return a=a.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)})).next((()=>{this.Zr=a}))}ir(t){}containsKey(t,n){const a=new Tn(n,0),l=this.Zr.firstAfterOrEqual(a);return ft.resolve(n.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,ft.resolve()}ni(t,n){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const n=this.ei(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nP{constructor(t){this.ri=t,this.docs=(function(){return new Be(Nt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const a=n.key,l=this.docs.get(a),u=l?l.size:0,f=this.ri(n);return this.docs=this.docs.insert(a,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(t,a.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const a=this.docs.get(n);return ft.resolve(a?a.document.mutableCopy():kn.newInvalidDocument(n))}getEntries(t,n){let a=qs();return n.forEach((l=>{const u=this.docs.get(l);a=a.insert(l,u?u.document.mutableCopy():kn.newInvalidDocument(l))})),ft.resolve(a)}getDocumentsMatchingQuery(t,n,a,l){let u=qs();const f=n.path,_=new Nt(f.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(_);for(;g.hasNext();){const{key:v,value:{document:w}}=g.getNext();if(!f.isPrefixOf(v.path))break;v.path.length>f.length+1||xL(LL(w),a)<=0||(l.has(w.key)||Qf(n,w))&&(u=u.insert(w.key,w.mutableCopy()))}return ft.resolve(u)}getAllFromCollectionGroup(t,n,a,l){Ht(9500)}ii(t,n){return ft.forEach(this.docs,(a=>n(a)))}newChangeBuffer(t){return new iP(this)}getSize(t){return ft.resolve(this.size)}}class iP extends Qx{constructor(t){super(),this.Nr=t}applyChanges(t){const n=[];return this.changes.forEach(((a,l)=>{l.isValidDocument()?n.push(this.Nr.addEntry(t,l)):this.Nr.removeEntry(a)})),ft.waitFor(n)}getFromCache(t,n){return this.Nr.getEntry(t,n)}getAllFromCache(t,n){return this.Nr.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rP{constructor(t){this.persistence=t,this.si=new Xo((n=>u_(n)),c_),this.lastRemoteSnapshotVersion=Ft.min(),this.highestTargetId=0,this.oi=0,this._i=new __,this.targetCount=0,this.ai=eu.ur()}forEachTarget(t,n){return this.si.forEach(((a,l)=>n(l))),ft.resolve()}getLastRemoteSnapshotVersion(t){return ft.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return ft.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),ft.resolve(this.highestTargetId)}setTargetsMetadata(t,n,a){return a&&(this.lastRemoteSnapshotVersion=a),n>this.oi&&(this.oi=n),ft.resolve()}Pr(t){this.si.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.ai=new eu(n),this.highestTargetId=n),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,n){return this.Pr(n),this.targetCount+=1,ft.resolve()}updateTargetData(t,n){return this.Pr(n),ft.resolve()}removeTargetData(t,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,ft.resolve()}removeTargets(t,n,a){let l=0;const u=[];return this.si.forEach(((f,_)=>{_.sequenceNumber<=n&&a.get(_.targetId)===null&&(this.si.delete(f),u.push(this.removeMatchingKeysForTargetId(t,_.targetId)),l++)})),ft.waitFor(u).next((()=>l))}getTargetCount(t){return ft.resolve(this.targetCount)}getTargetData(t,n){const a=this.si.get(n)||null;return ft.resolve(a)}addMatchingKeys(t,n,a){return this._i.Wr(n,a),ft.resolve()}removeMatchingKeys(t,n,a){this._i.zr(n,a);const l=this.persistence.referenceDelegate,u=[];return l&&n.forEach((f=>{u.push(l.markPotentiallyOrphaned(t,f))})),ft.waitFor(u)}removeMatchingKeysForTargetId(t,n){return this._i.jr(n),ft.resolve()}getMatchingKeysForTargetId(t,n){const a=this._i.Hr(n);return ft.resolve(a)}containsKey(t,n){return ft.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pw{constructor(t,n){this.ui={},this.overlays={},this.ci=new Gf(0),this.li=!1,this.li=!0,this.hi=new tP,this.referenceDelegate=t(this),this.Pi=new rP(this),this.indexManager=new jx,this.remoteDocumentCache=(function(l){return new nP(l)})((a=>this.referenceDelegate.Ti(a))),this.serializer=new Bx(n),this.Ii=new $x(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new Jx,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let a=this.ui[t.toKey()];return a||(a=new eP(n,this.referenceDelegate),this.ui[t.toKey()]=a),a}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,n,a){Ct("MemoryPersistence","Starting transaction:",t);const l=new sP(this.ci.next());return this.referenceDelegate.Ei(),a(l).next((u=>this.referenceDelegate.di(l).next((()=>u)))).toPromise().then((u=>(l.raiseOnCommittedEvent(),u)))}Ai(t,n){return ft.or(Object.values(this.ui).map((a=>()=>a.containsKey(t,n))))}}class sP extends ML{constructor(t){super(),this.currentSequenceNumber=t}}class g_{constructor(t){this.persistence=t,this.Ri=new __,this.Vi=null}static mi(t){return new g_(t)}get fi(){if(this.Vi)return this.Vi;throw Ht(60996)}addReference(t,n,a){return this.Ri.addReference(a,n),this.fi.delete(a.toString()),ft.resolve()}removeReference(t,n,a){return this.Ri.removeReference(a,n),this.fi.add(a.toString()),ft.resolve()}markPotentiallyOrphaned(t,n){return this.fi.add(n.toString()),ft.resolve()}removeTarget(t,n){this.Ri.jr(n.targetId).forEach((l=>this.fi.add(l.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(t,n.targetId).next((l=>{l.forEach((u=>this.fi.add(u.toString())))})).next((()=>a.removeTargetData(t,n)))}Ei(){this.Vi=new Set}di(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ft.forEach(this.fi,(a=>{const l=Nt.fromPath(a);return this.gi(t,l).next((u=>{u||n.removeEntry(l,Ft.min())}))})).next((()=>(this.Vi=null,n.apply(t))))}updateLimboDocument(t,n){return this.gi(t,n).next((a=>{a?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(t){return 0}gi(t,n){return ft.or([()=>ft.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ai(t,n)])}}class Pf{constructor(t,n){this.persistence=t,this.pi=new Xo((a=>DL(a.path)),((a,l)=>a.isEqual(l))),this.garbageCollector=Yx(this,n)}static mi(t,n){return new Pf(t,n)}Ei(){}di(t){return ft.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}gr(t){const n=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((a=>n.next((l=>a+l))))}wr(t){let n=0;return this.pr(t,(a=>{n++})).next((()=>n))}pr(t,n){return ft.forEach(this.pi,((a,l)=>this.br(t,a,l).next((u=>u?ft.resolve():n(l)))))}removeTargets(t,n,a){return this.persistence.getTargetCache().removeTargets(t,n,a)}removeOrphanedDocuments(t,n){let a=0;const l=this.persistence.getRemoteDocumentCache(),u=l.newChangeBuffer();return l.ii(t,(f=>this.br(t,f,n).next((_=>{_||(a++,u.removeEntry(f,Ft.min()))})))).next((()=>u.apply(t))).next((()=>a))}markPotentiallyOrphaned(t,n){return this.pi.set(n,t.currentSequenceNumber),ft.resolve()}removeTarget(t,n){const a=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,a)}addReference(t,n,a){return this.pi.set(a,t.currentSequenceNumber),ft.resolve()}removeReference(t,n,a){return this.pi.set(a,t.currentSequenceNumber),ft.resolve()}updateLimboDocument(t,n){return this.pi.set(n,t.currentSequenceNumber),ft.resolve()}Ti(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=uf(t.data.value)),n}br(t,n,a){return ft.or([()=>this.persistence.Ai(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const l=this.pi.get(n);return ft.resolve(l!==void 0&&l>a)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y_{constructor(t,n,a,l){this.targetId=t,this.fromCache=n,this.Es=a,this.ds=l}static As(t,n){let a=ie(),l=ie();for(const u of n.docChanges)switch(u.type){case 0:a=a.add(u.doc.key);break;case 1:l=l.add(u.doc.key)}return new y_(t,n.fromCache,a,l)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aP{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oP{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return D1()?8:OL(Vn())>0?6:4})()}initialize(t,n){this.ps=t,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(t,n,a,l){const u={result:null};return this.ys(t,n).next((f=>{u.result=f})).next((()=>{if(!u.result)return this.ws(t,n,l,a).next((f=>{u.result=f}))})).next((()=>{if(u.result)return;const f=new aP;return this.Ss(t,n,f).next((_=>{if(u.result=_,this.Vs)return this.bs(t,n,f,_.size)}))})).next((()=>u.result))}bs(t,n,a,l){return a.documentReadCount<this.fs?(jl()<=ee.DEBUG&&Ct("QueryEngine","SDK will not create cache indexes for query:",ql(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ft.resolve()):(jl()<=ee.DEBUG&&Ct("QueryEngine","Query:",ql(n),"scans",a.documentReadCount,"local documents and returns",l,"documents as results."),a.documentReadCount>this.gs*l?(jl()<=ee.DEBUG&&Ct("QueryEngine","The SDK decides to create cache indexes for query:",ql(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Yr(n))):ft.resolve())}ys(t,n){if(zT(n))return ft.resolve(null);let a=Yr(n);return this.indexManager.getIndexType(t,a).next((l=>l===0?null:(n.limit!==null&&l===1&&(n=Tp(n,null,"F"),a=Yr(n)),this.indexManager.getDocumentsMatchingTarget(t,a).next((u=>{const f=ie(...u);return this.ps.getDocuments(t,f).next((_=>this.indexManager.getMinOffset(t,a).next((g=>{const v=this.Ds(n,_);return this.Cs(n,v,f,g.readTime)?this.ys(t,Tp(n,null,"F")):this.vs(t,v,n,g)}))))})))))}ws(t,n,a,l){return zT(n)||l.isEqual(Ft.min())?ft.resolve(null):this.ps.getDocuments(t,a).next((u=>{const f=this.Ds(n,u);return this.Cs(n,f,a,l)?ft.resolve(null):(jl()<=ee.DEBUG&&Ct("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),ql(n)),this.vs(t,f,n,IL(l,Ec)).next((_=>_)))}))}Ds(t,n){let a=new on(lw(t));return n.forEach(((l,u)=>{Qf(t,u)&&(a=a.add(u))})),a}Cs(t,n,a,l){if(t.limit===null)return!1;if(a.size!==n.size)return!0;const u=t.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(l)>0)}Ss(t,n,a){return jl()<=ee.DEBUG&&Ct("QueryEngine","Using full collection scan to execute query:",ql(n)),this.ps.getDocumentsMatchingQuery(t,n,Za.min(),a)}vs(t,n,a,l){return this.ps.getDocumentsMatchingQuery(t,a,l).next((u=>(n.forEach((f=>{u=u.insert(f.key,f)})),u)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v_="LocalStore",lP=3e8;class uP{constructor(t,n,a,l){this.persistence=t,this.Fs=n,this.serializer=l,this.Ms=new Be(ne),this.xs=new Xo((u=>u_(u)),c_),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(a)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new Wx(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>t.collect(n,this.Ms)))}}function cP(r,t,n,a){return new uP(r,t,n,a)}async function Mw(r,t){const n=Gt(r);return await n.persistence.runTransaction("Handle user change","readonly",(a=>{let l;return n.mutationQueue.getAllMutationBatches(a).next((u=>(l=u,n.Bs(t),n.mutationQueue.getAllMutationBatches(a)))).next((u=>{const f=[],_=[];let g=ie();for(const v of l){f.push(v.batchId);for(const w of v.mutations)g=g.add(w.key)}for(const v of u){_.push(v.batchId);for(const w of v.mutations)g=g.add(w.key)}return n.localDocuments.getDocuments(a,g).next((v=>({Ls:v,removedBatchIds:f,addedBatchIds:_})))}))}))}function hP(r,t){const n=Gt(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const l=t.batch.keys(),u=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(_,g,v,w){const S=v.batch,I=S.keys();let M=ft.resolve();return I.forEach((q=>{M=M.next((()=>w.getEntry(g,q))).next((F=>{const Z=v.docVersions.get(q);me(Z!==null,48541),F.version.compareTo(Z)<0&&(S.applyToRemoteDocument(F,v),F.isValidDocument()&&(F.setReadTime(v.commitVersion),w.addEntry(F)))}))})),M.next((()=>_.mutationQueue.removeMutationBatch(g,S)))})(n,a,t,u).next((()=>u.apply(a))).next((()=>n.mutationQueue.performConsistencyCheck(a))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(a,l,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(_){let g=ie();for(let v=0;v<_.mutationResults.length;++v)_.mutationResults[v].transformResults.length>0&&(g=g.add(_.batch.mutations[v].key));return g})(t)))).next((()=>n.localDocuments.getDocuments(a,l)))}))}function Ow(r){const t=Gt(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>t.Pi.getLastRemoteSnapshotVersion(n)))}function fP(r,t){const n=Gt(r),a=t.snapshotVersion;let l=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const f=n.Ns.newChangeBuffer({trackRemovals:!0});l=n.Ms;const _=[];t.targetChanges.forEach(((w,S)=>{const I=l.get(S);if(!I)return;_.push(n.Pi.removeMatchingKeys(u,w.removedDocuments,S).next((()=>n.Pi.addMatchingKeys(u,w.addedDocuments,S))));let M=I.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(S)!==null?M=M.withResumeToken(In.EMPTY_BYTE_STRING,Ft.min()).withLastLimboFreeSnapshotVersion(Ft.min()):w.resumeToken.approximateByteSize()>0&&(M=M.withResumeToken(w.resumeToken,a)),l=l.insert(S,M),(function(F,Z,it){return F.resumeToken.approximateByteSize()===0||Z.snapshotVersion.toMicroseconds()-F.snapshotVersion.toMicroseconds()>=lP?!0:it.addedDocuments.size+it.modifiedDocuments.size+it.removedDocuments.size>0})(I,M,w)&&_.push(n.Pi.updateTargetData(u,M))}));let g=qs(),v=ie();if(t.documentUpdates.forEach((w=>{t.resolvedLimboDocuments.has(w)&&_.push(n.persistence.referenceDelegate.updateLimboDocument(u,w))})),_.push(dP(u,f,t.documentUpdates).next((w=>{g=w.ks,v=w.qs}))),!a.isEqual(Ft.min())){const w=n.Pi.getLastRemoteSnapshotVersion(u).next((S=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,a)));_.push(w)}return ft.waitFor(_).next((()=>f.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,g,v))).next((()=>g))})).then((u=>(n.Ms=l,u)))}function dP(r,t,n){let a=ie(),l=ie();return n.forEach((u=>a=a.add(u))),t.getEntries(r,a).next((u=>{let f=qs();return n.forEach(((_,g)=>{const v=u.get(_);g.isFoundDocument()!==v.isFoundDocument()&&(l=l.add(_)),g.isNoDocument()&&g.version.isEqual(Ft.min())?(t.removeEntry(_,g.readTime),f=f.insert(_,g)):!v.isValidDocument()||g.version.compareTo(v.version)>0||g.version.compareTo(v.version)===0&&v.hasPendingWrites?(t.addEntry(g),f=f.insert(_,g)):Ct(v_,"Ignoring outdated watch update for ",_,". Current version:",v.version," Watch version:",g.version)})),{ks:f,qs:l}}))}function mP(r,t){const n=Gt(r);return n.persistence.runTransaction("Get next mutation batch","readonly",(a=>(t===void 0&&(t=a_),n.mutationQueue.getNextMutationBatchAfterBatchId(a,t))))}function pP(r,t){const n=Gt(r);return n.persistence.runTransaction("Allocate target","readwrite",(a=>{let l;return n.Pi.getTargetData(a,t).next((u=>u?(l=u,ft.resolve(l)):n.Pi.allocateTargetId(a).next((f=>(l=new za(t,f,"TargetPurposeListen",a.currentSequenceNumber),n.Pi.addTargetData(a,l).next((()=>l)))))))})).then((a=>{const l=n.Ms.get(a.targetId);return(l===null||a.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(a.targetId,a),n.xs.set(t,a.targetId)),a}))}async function Ap(r,t,n){const a=Gt(r),l=a.Ms.get(t),u=n?"readwrite":"readwrite-primary";try{n||await a.persistence.runTransaction("Release target",u,(f=>a.persistence.referenceDelegate.removeTarget(f,l)))}catch(f){if(!uu(f))throw f;Ct(v_,`Failed to update sequence numbers for target ${t}: ${f}`)}a.Ms=a.Ms.remove(t),a.xs.delete(l.target)}function $T(r,t,n){const a=Gt(r);let l=Ft.min(),u=ie();return a.persistence.runTransaction("Execute query","readwrite",(f=>(function(g,v,w){const S=Gt(g),I=S.xs.get(w);return I!==void 0?ft.resolve(S.Ms.get(I)):S.Pi.getTargetData(v,w)})(a,f,Yr(t)).next((_=>{if(_)return l=_.lastLimboFreeSnapshotVersion,a.Pi.getMatchingKeysForTargetId(f,_.targetId).next((g=>{u=g}))})).next((()=>a.Fs.getDocumentsMatchingQuery(f,t,n?l:Ft.min(),n?u:ie()))).next((_=>(_P(a,tx(t),_),{documents:_,Qs:u})))))}function _P(r,t,n){let a=r.Os.get(t)||Ft.min();n.forEach(((l,u)=>{u.readTime.compareTo(a)>0&&(a=u.readTime)})),r.Os.set(t,a)}class JT{constructor(){this.activeTargetIds=ax()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class gP{constructor(){this.Mo=new JT,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,a){}addLocalQueryTarget(t,n=!0){return n&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,n,a){this.xo[t]=n}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new JT,Promise.resolve()}handleUserChange(t,n,a){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yP{Oo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tE="ConnectivityMonitor";class eE{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Ct(tE,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){Ct(tE,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jh=null;function Cp(){return Jh===null?Jh=(function(){return 268435456+Math.round(2147483648*Math.random())})():Jh++,"0x"+Jh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $m="RestConnection",vP={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class TP{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+t.host,this.Ko=`projects/${a}/databases/${l}`,this.Wo=this.databaseId.database===Af?`project_id=${a}`:`project_id=${a}&database_id=${l}`}Go(t,n,a,l,u){const f=Cp(),_=this.zo(t,n.toUriEncodedString());Ct($m,`Sending RPC '${t}' ${f}:`,_,a);const g={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(g,l,u);const{host:v}=new URL(_),w=Ko(v);return this.Jo(t,_,g,a,w).then((S=>(Ct($m,`Received RPC '${t}' ${f}: `,S),S)),(S=>{throw Wl($m,`RPC '${t}' ${f} failed with error: `,S,"url: ",_,"request:",a),S}))}Ho(t,n,a,l,u,f){return this.Go(t,n,a,l,u)}jo(t,n,a){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+ou})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((l,u)=>t[u]=l)),a&&a.headers.forEach(((l,u)=>t[u]=l))}zo(t,n){const a=vP[t];return`${this.Uo}/v1/${n}:${a}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EP{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nn="WebChannelConnection";class wP extends TP{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,n,a,l,u){const f=Cp();return new Promise(((_,g)=>{const v=new D0;v.setWithCredentials(!0),v.listenOnce(k0.COMPLETE,(()=>{try{switch(v.getLastErrorCode()){case lf.NO_ERROR:const S=v.getResponseJson();Ct(Nn,`XHR for RPC '${t}' ${f} received:`,JSON.stringify(S)),_(S);break;case lf.TIMEOUT:Ct(Nn,`RPC '${t}' ${f} timed out`),g(new Rt(ht.DEADLINE_EXCEEDED,"Request time out"));break;case lf.HTTP_ERROR:const I=v.getStatus();if(Ct(Nn,`RPC '${t}' ${f} failed with status:`,I,"response text:",v.getResponseText()),I>0){let M=v.getResponseJson();Array.isArray(M)&&(M=M[0]);const q=M==null?void 0:M.error;if(q&&q.status&&q.message){const F=(function(it){const ut=it.toLowerCase().replace(/_/g,"-");return Object.values(ht).indexOf(ut)>=0?ut:ht.UNKNOWN})(q.status);g(new Rt(F,q.message))}else g(new Rt(ht.UNKNOWN,"Server responded with status "+v.getStatus()))}else g(new Rt(ht.UNAVAILABLE,"Connection failed."));break;default:Ht(9055,{l_:t,streamId:f,h_:v.getLastErrorCode(),P_:v.getLastError()})}}finally{Ct(Nn,`RPC '${t}' ${f} completed.`)}}));const w=JSON.stringify(l);Ct(Nn,`RPC '${t}' ${f} sending request:`,l),v.send(n,"POST",w,a,15)}))}T_(t,n,a){const l=Cp(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],f=z0(),_=U0(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(g.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(g.useFetchStreams=!0),this.jo(g.initMessageHeaders,n,a),g.encodeInitMessageHeaders=!0;const w=u.join("");Ct(Nn,`Creating RPC '${t}' stream ${l}: ${w}`,g);const S=f.createWebChannel(w,g);this.I_(S);let I=!1,M=!1;const q=new EP({Yo:Z=>{M?Ct(Nn,`Not sending because RPC '${t}' stream ${l} is closed:`,Z):(I||(Ct(Nn,`Opening RPC '${t}' stream ${l} transport.`),S.open(),I=!0),Ct(Nn,`RPC '${t}' stream ${l} sending:`,Z),S.send(Z))},Zo:()=>S.close()}),F=(Z,it,ut)=>{Z.listen(it,(st=>{try{ut(st)}catch(St){setTimeout((()=>{throw St}),0)}}))};return F(S,sc.EventType.OPEN,(()=>{M||(Ct(Nn,`RPC '${t}' stream ${l} transport opened.`),q.o_())})),F(S,sc.EventType.CLOSE,(()=>{M||(M=!0,Ct(Nn,`RPC '${t}' stream ${l} transport closed`),q.a_(),this.E_(S))})),F(S,sc.EventType.ERROR,(Z=>{M||(M=!0,Wl(Nn,`RPC '${t}' stream ${l} transport errored. Name:`,Z.name,"Message:",Z.message),q.a_(new Rt(ht.UNAVAILABLE,"The operation could not be completed")))})),F(S,sc.EventType.MESSAGE,(Z=>{var it;if(!M){const ut=Z.data[0];me(!!ut,16349);const st=ut,St=(st==null?void 0:st.error)||((it=st[0])==null?void 0:it.error);if(St){Ct(Nn,`RPC '${t}' stream ${l} received error:`,St);const Tt=St.status;let kt=(function(D){const j=Xe[D];if(j!==void 0)return Tw(j)})(Tt),z=St.message;kt===void 0&&(kt=ht.INTERNAL,z="Unknown error status: "+Tt+" with message "+St.message),M=!0,q.a_(new Rt(kt,z)),S.close()}else Ct(Nn,`RPC '${t}' stream ${l} received:`,ut),q.u_(ut)}})),F(_,V0.STAT_EVENT,(Z=>{Z.stat===dp.PROXY?Ct(Nn,`RPC '${t}' stream ${l} detected buffering proxy`):Z.stat===dp.NOPROXY&&Ct(Nn,`RPC '${t}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{q.__()}),0),q}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((n=>n===t))}}function Jm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jf(r){return new Cx(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nw{constructor(t,n,a=1e3,l=1.5,u=6e4){this.Mi=t,this.timerId=n,this.d_=a,this.A_=l,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const n=Math.floor(this.V_+this.y_()),a=Math.max(0,Date.now()-this.f_),l=Math.max(0,n-a);l>0&&Ct("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${a} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nE="PersistentStream";class Dw{constructor(t,n,a,l,u,f,_,g){this.Mi=t,this.S_=a,this.b_=l,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=_,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Nw(t,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():n&&n.code===ht.RESOURCE_EXHAUSTED?(js(n.toString()),js("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ht.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(n)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,l])=>{this.D_===n&&this.G_(a,l)}),(a=>{t((()=>{const l=new Rt(ht.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(l)}))}))}G_(t,n){const a=this.W_(this.D_);this.stream=this.j_(t,n),this.stream.Xo((()=>{a((()=>this.listener.Xo()))})),this.stream.t_((()=>{a((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{a((()=>this.z_(l)))})),this.stream.onMessage((l=>{a((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return Ct(nE,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return n=>{this.Mi.enqueueAndForget((()=>this.D_===t?n():(Ct(nE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class bP extends Dw{constructor(t,n,a,l,u,f){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,a,l,f),this.serializer=u}j_(t,n){return this.connection.T_("Listen",t,n)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const n=Lx(this.serializer,t),a=(function(u){if(!("targetChange"in u))return Ft.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?Ft.min():f.readTime?Qr(f.readTime):Ft.min()})(t);return this.listener.H_(n,a)}Y_(t){const n={};n.database=Sp(this.serializer),n.addTarget=(function(u,f){let _;const g=f.target;if(_=yp(g)?{documents:Mx(u,g)}:{query:Ox(u,g).ft},_.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){_.resumeToken=bw(u,f.resumeToken);const v=Ep(u,f.expectedCount);v!==null&&(_.expectedCount=v)}else if(f.snapshotVersion.compareTo(Ft.min())>0){_.readTime=xf(u,f.snapshotVersion.toTimestamp());const v=Ep(u,f.expectedCount);v!==null&&(_.expectedCount=v)}return _})(this.serializer,t);const a=Dx(this.serializer,t);a&&(n.labels=a),this.q_(n)}Z_(t){const n={};n.database=Sp(this.serializer),n.removeTarget=t,this.q_(n)}}class SP extends Dw{constructor(t,n,a,l,u,f){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,a,l,f),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,n){return this.connection.T_("Write",t,n)}J_(t){return me(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,me(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){me(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const n=Px(t.writeResults,t.commitTime),a=Qr(t.commitTime);return this.listener.na(a,n)}ra(){const t={};t.database=Sp(this.serializer),this.q_(t)}ea(t){const n={streamToken:this.lastStreamToken,writes:t.map((a=>xx(this.serializer,a)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AP{}class CP extends AP{constructor(t,n,a,l){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=a,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new Rt(ht.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,n,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.Go(t,wp(n,a),l,u,f))).catch((u=>{throw u.name==="FirebaseError"?(u.code===ht.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Rt(ht.UNKNOWN,u.toString())}))}Ho(t,n,a,l,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,_])=>this.connection.Ho(t,wp(n,a),l,f,_,u))).catch((f=>{throw f.name==="FirebaseError"?(f.code===ht.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new Rt(ht.UNKNOWN,f.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class RP{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(js(n),this.aa=!1):Ct("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Go="RemoteStore";class IP{constructor(t,n,a,l,u){this.localStore=t,this.datastore=n,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((f=>{a.enqueueAndForget((async()=>{$o(this)&&(Ct(Go,"Restarting streams for network reachability change."),await(async function(g){const v=Gt(g);v.Ea.add(4),await jc(v),v.Ra.set("Unknown"),v.Ea.delete(4),await td(v)})(this))}))})),this.Ra=new RP(a,l)}}async function td(r){if($o(r))for(const t of r.da)await t(!0)}async function jc(r){for(const t of r.da)await t(!1)}function kw(r,t){const n=Gt(r);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),b_(n)?w_(n):cu(n).O_()&&E_(n,t))}function T_(r,t){const n=Gt(r),a=cu(n);n.Ia.delete(t),a.O_()&&Vw(n,t),n.Ia.size===0&&(a.O_()?a.L_():$o(n)&&n.Ra.set("Unknown"))}function E_(r,t){if(r.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Ft.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}cu(r).Y_(t)}function Vw(r,t){r.Va.Ue(t),cu(r).Z_(t)}function w_(r){r.Va=new wx({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),At:t=>r.Ia.get(t)||null,ht:()=>r.datastore.serializer.databaseId}),cu(r).start(),r.Ra.ua()}function b_(r){return $o(r)&&!cu(r).x_()&&r.Ia.size>0}function $o(r){return Gt(r).Ea.size===0}function Uw(r){r.Va=void 0}async function LP(r){r.Ra.set("Online")}async function xP(r){r.Ia.forEach(((t,n)=>{E_(r,t)}))}async function PP(r,t){Uw(r),b_(r)?(r.Ra.ha(t),w_(r)):r.Ra.set("Unknown")}async function MP(r,t,n){if(r.Ra.set("Online"),t instanceof ww&&t.state===2&&t.cause)try{await(async function(l,u){const f=u.cause;for(const _ of u.targetIds)l.Ia.has(_)&&(await l.remoteSyncer.rejectListen(_,f),l.Ia.delete(_),l.Va.removeTarget(_))})(r,t)}catch(a){Ct(Go,"Failed to remove targets %s: %s ",t.targetIds.join(","),a),await Mf(r,a)}else if(t instanceof ff?r.Va.Ze(t):t instanceof Ew?r.Va.st(t):r.Va.tt(t),!n.isEqual(Ft.min()))try{const a=await Ow(r.localStore);n.compareTo(a)>=0&&await(function(u,f){const _=u.Va.Tt(f);return _.targetChanges.forEach(((g,v)=>{if(g.resumeToken.approximateByteSize()>0){const w=u.Ia.get(v);w&&u.Ia.set(v,w.withResumeToken(g.resumeToken,f))}})),_.targetMismatches.forEach(((g,v)=>{const w=u.Ia.get(g);if(!w)return;u.Ia.set(g,w.withResumeToken(In.EMPTY_BYTE_STRING,w.snapshotVersion)),Vw(u,g);const S=new za(w.target,g,v,w.sequenceNumber);E_(u,S)})),u.remoteSyncer.applyRemoteEvent(_)})(r,n)}catch(a){Ct(Go,"Failed to raise snapshot:",a),await Mf(r,a)}}async function Mf(r,t,n){if(!uu(t))throw t;r.Ea.add(1),await jc(r),r.Ra.set("Offline"),n||(n=()=>Ow(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{Ct(Go,"Retrying IndexedDB access"),await n(),r.Ea.delete(1),await td(r)}))}function zw(r,t){return t().catch((n=>Mf(r,n,t)))}async function ed(r){const t=Gt(r),n=Xa(t);let a=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:a_;for(;OP(t);)try{const l=await mP(t.localStore,a);if(l===null){t.Ta.length===0&&n.L_();break}a=l.batchId,NP(t,l)}catch(l){await Mf(t,l)}Bw(t)&&Hw(t)}function OP(r){return $o(r)&&r.Ta.length<10}function NP(r,t){r.Ta.push(t);const n=Xa(r);n.O_()&&n.X_&&n.ea(t.mutations)}function Bw(r){return $o(r)&&!Xa(r).x_()&&r.Ta.length>0}function Hw(r){Xa(r).start()}async function DP(r){Xa(r).ra()}async function kP(r){const t=Xa(r);for(const n of r.Ta)t.ea(n.mutations)}async function VP(r,t,n){const a=r.Ta.shift(),l=d_.from(a,t,n);await zw(r,(()=>r.remoteSyncer.applySuccessfulWrite(l))),await ed(r)}async function UP(r,t){t&&Xa(r).X_&&await(async function(a,l){if((function(f){return vx(f)&&f!==ht.ABORTED})(l.code)){const u=a.Ta.shift();Xa(a).B_(),await zw(a,(()=>a.remoteSyncer.rejectFailedWrite(u.batchId,l))),await ed(a)}})(r,t),Bw(r)&&Hw(r)}async function iE(r,t){const n=Gt(r);n.asyncQueue.verifyOperationInProgress(),Ct(Go,"RemoteStore received new credentials");const a=$o(n);n.Ea.add(3),await jc(n),a&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await td(n)}async function zP(r,t){const n=Gt(r);t?(n.Ea.delete(2),await td(n)):t||(n.Ea.add(2),await jc(n),n.Ra.set("Unknown"))}function cu(r){return r.ma||(r.ma=(function(n,a,l){const u=Gt(n);return u.sa(),new bP(a,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,l)})(r.datastore,r.asyncQueue,{Xo:LP.bind(null,r),t_:xP.bind(null,r),r_:PP.bind(null,r),H_:MP.bind(null,r)}),r.da.push((async t=>{t?(r.ma.B_(),b_(r)?w_(r):r.Ra.set("Unknown")):(await r.ma.stop(),Uw(r))}))),r.ma}function Xa(r){return r.fa||(r.fa=(function(n,a,l){const u=Gt(n);return u.sa(),new SP(a,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,l)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:DP.bind(null,r),r_:UP.bind(null,r),ta:kP.bind(null,r),na:VP.bind(null,r)}),r.da.push((async t=>{t?(r.fa.B_(),await ed(r)):(await r.fa.stop(),r.Ta.length>0&&(Ct(Go,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S_{constructor(t,n,a,l,u){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=a,this.op=l,this.removalCallback=u,this.deferred=new qa,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,n,a,l,u){const f=Date.now()+a,_=new S_(t,n,f,l,u);return _.start(a),_}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Rt(ht.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function A_(r,t){if(js("AsyncQueue",`${t}: ${r}`),uu(r))return new Rt(ht.UNAVAILABLE,`${t}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xl{static emptySet(t){return new Xl(t.comparator)}constructor(t){this.comparator=t?(n,a)=>t(n,a)||Nt.comparator(n.key,a.key):(n,a)=>Nt.comparator(n.key,a.key),this.keyedMap=ac(),this.sortedSet=new Be(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((n,a)=>(t(n),!1)))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof Xl)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),a=t.sortedSet.getIterator();for(;n.hasNext();){const l=n.getNext().key,u=a.getNext().key;if(!l.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach((n=>{t.push(n.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const a=new Xl;return a.comparator=this.comparator,a.keyedMap=t,a.sortedSet=n,a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rE{constructor(){this.ga=new Be(Nt.comparator)}track(t){const n=t.doc.key,a=this.ga.get(n);a?t.type!==0&&a.type===3?this.ga=this.ga.insert(n,t):t.type===3&&a.type!==1?this.ga=this.ga.insert(n,{type:a.type,doc:t.doc}):t.type===2&&a.type===2?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):t.type===2&&a.type===0?this.ga=this.ga.insert(n,{type:0,doc:t.doc}):t.type===1&&a.type===0?this.ga=this.ga.remove(n):t.type===1&&a.type===2?this.ga=this.ga.insert(n,{type:1,doc:a.doc}):t.type===0&&a.type===1?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):Ht(63341,{Rt:t,pa:a}):this.ga=this.ga.insert(n,t)}ya(){const t=[];return this.ga.inorderTraversal(((n,a)=>{t.push(a)})),t}}class nu{constructor(t,n,a,l,u,f,_,g,v){this.query=t,this.docs=n,this.oldDocs=a,this.docChanges=l,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=_,this.excludesMetadataChanges=g,this.hasCachedResults=v}static fromInitialDocuments(t,n,a,l,u){const f=[];return n.forEach((_=>{f.push({type:0,doc:_})})),new nu(t,n,Xl.emptySet(n),f,a,l,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Yf(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,a=t.docChanges;if(n.length!==a.length)return!1;for(let l=0;l<n.length;l++)if(n[l].type!==a[l].type||!n[l].doc.isEqual(a[l].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BP{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class HP{constructor(){this.queries=sE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,a){const l=Gt(n),u=l.queries;l.queries=sE(),u.forEach(((f,_)=>{for(const g of _.Sa)g.onError(a)}))})(this,new Rt(ht.ABORTED,"Firestore shutting down"))}}function sE(){return new Xo((r=>ow(r)),Yf)}async function jw(r,t){const n=Gt(r);let a=3;const l=t.query;let u=n.queries.get(l);u?!u.ba()&&t.Da()&&(a=2):(u=new BP,a=t.Da()?0:1);try{switch(a){case 0:u.wa=await n.onListen(l,!0);break;case 1:u.wa=await n.onListen(l,!1);break;case 2:await n.onFirstRemoteStoreListen(l)}}catch(f){const _=A_(f,`Initialization of query '${ql(t.query)}' failed`);return void t.onError(_)}n.queries.set(l,u),u.Sa.push(t),t.va(n.onlineState),u.wa&&t.Fa(u.wa)&&C_(n)}async function qw(r,t){const n=Gt(r),a=t.query;let l=3;const u=n.queries.get(a);if(u){const f=u.Sa.indexOf(t);f>=0&&(u.Sa.splice(f,1),u.Sa.length===0?l=t.Da()?0:1:!u.ba()&&t.Da()&&(l=2))}switch(l){case 0:return n.queries.delete(a),n.onUnlisten(a,!0);case 1:return n.queries.delete(a),n.onUnlisten(a,!1);case 2:return n.onLastRemoteStoreUnlisten(a);default:return}}function jP(r,t){const n=Gt(r);let a=!1;for(const l of t){const u=l.query,f=n.queries.get(u);if(f){for(const _ of f.Sa)_.Fa(l)&&(a=!0);f.wa=l}}a&&C_(n)}function qP(r,t,n){const a=Gt(r),l=a.queries.get(t);if(l)for(const u of l.Sa)u.onError(n);a.queries.delete(t)}function C_(r){r.Ca.forEach((t=>{t.next()}))}var Rp,aE;(aE=Rp||(Rp={})).Ma="default",aE.Cache="cache";class Fw{constructor(t,n,a){this.query=t,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(t){if(!this.options.includeMetadataChanges){const a=[];for(const l of t.docChanges)l.type!==3&&a.push(l);t=new nu(t.query,t.docs,t.oldDocs,a,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),n=!0):this.La(t,this.onlineState)&&(this.ka(t),n=!0),this.Na=t,n}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),n=!0),n}La(t,n){if(!t.fromCache||!this.Da())return!0;const a=n!=="Offline";return(!this.options.qa||!a)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(t){t=nu.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==Rp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gw{constructor(t){this.key=t}}class Zw{constructor(t){this.key=t}}class FP{constructor(t,n){this.query=t,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=ie(),this.mutatedKeys=ie(),this.eu=lw(t),this.tu=new Xl(this.eu)}get nu(){return this.Ya}ru(t,n){const a=n?n.iu:new rE,l=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,f=l,_=!1;const g=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,v=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal(((w,S)=>{const I=l.get(w),M=Qf(this.query,S)?S:null,q=!!I&&this.mutatedKeys.has(I.key),F=!!M&&(M.hasLocalMutations||this.mutatedKeys.has(M.key)&&M.hasCommittedMutations);let Z=!1;I&&M?I.data.isEqual(M.data)?q!==F&&(a.track({type:3,doc:M}),Z=!0):this.su(I,M)||(a.track({type:2,doc:M}),Z=!0,(g&&this.eu(M,g)>0||v&&this.eu(M,v)<0)&&(_=!0)):!I&&M?(a.track({type:0,doc:M}),Z=!0):I&&!M&&(a.track({type:1,doc:I}),Z=!0,(g||v)&&(_=!0)),Z&&(M?(f=f.add(M),u=F?u.add(w):u.delete(w)):(f=f.delete(w),u=u.delete(w)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const w=this.query.limitType==="F"?f.last():f.first();f=f.delete(w.key),u=u.delete(w.key),a.track({type:1,doc:w})}return{tu:f,iu:a,Cs:_,mutatedKeys:u}}su(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,a,l){const u=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const f=t.iu.ya();f.sort(((w,S)=>(function(M,q){const F=Z=>{switch(Z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ht(20277,{Rt:Z})}};return F(M)-F(q)})(w.type,S.type)||this.eu(w.doc,S.doc))),this.ou(a),l=l??!1;const _=n&&!l?this._u():[],g=this.Xa.size===0&&this.current&&!l?1:0,v=g!==this.Za;return this.Za=g,f.length!==0||v?{snapshot:new nu(this.query,t.tu,u,f,t.mutatedKeys,g===0,v,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:_}:{au:_}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new rE,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),t.modifiedDocuments.forEach((n=>{})),t.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=ie(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Xa=this.Xa.add(a.key))}));const n=[];return t.forEach((a=>{this.Xa.has(a)||n.push(new Zw(a))})),this.Xa.forEach((a=>{t.has(a)||n.push(new Gw(a))})),n}cu(t){this.Ya=t.Qs,this.Xa=ie();const n=this.ru(t.documents);return this.applyChanges(n,!0)}lu(){return nu.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const R_="SyncEngine";class GP{constructor(t,n,a){this.query=t,this.targetId=n,this.view=a}}class ZP{constructor(t){this.key=t,this.hu=!1}}class KP{constructor(t,n,a,l,u,f){this.localStore=t,this.remoteStore=n,this.eventManager=a,this.sharedClientState=l,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new Xo((_=>ow(_)),Yf),this.Iu=new Map,this.Eu=new Set,this.du=new Be(Nt.comparator),this.Au=new Map,this.Ru=new __,this.Vu={},this.mu=new Map,this.fu=eu.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function YP(r,t,n=!0){const a=$w(r);let l;const u=a.Tu.get(t);return u?(a.sharedClientState.addLocalQueryTarget(u.targetId),l=u.view.lu()):l=await Kw(a,t,n,!0),l}async function QP(r,t){const n=$w(r);await Kw(n,t,!0,!1)}async function Kw(r,t,n,a){const l=await pP(r.localStore,Yr(t)),u=l.targetId,f=r.sharedClientState.addLocalQueryTarget(u,n);let _;return a&&(_=await XP(r,t,u,f==="current",l.resumeToken)),r.isPrimaryClient&&n&&kw(r.remoteStore,l),_}async function XP(r,t,n,a,l){r.pu=(S,I,M)=>(async function(F,Z,it,ut){let st=Z.view.ru(it);st.Cs&&(st=await $T(F.localStore,Z.query,!1).then((({documents:z})=>Z.view.ru(z,st))));const St=ut&&ut.targetChanges.get(Z.targetId),Tt=ut&&ut.targetMismatches.get(Z.targetId)!=null,kt=Z.view.applyChanges(st,F.isPrimaryClient,St,Tt);return lE(F,Z.targetId,kt.au),kt.snapshot})(r,S,I,M);const u=await $T(r.localStore,t,!0),f=new FP(t,u.Qs),_=f.ru(u.documents),g=Hc.createSynthesizedTargetChangeForCurrentChange(n,a&&r.onlineState!=="Offline",l),v=f.applyChanges(_,r.isPrimaryClient,g);lE(r,n,v.au);const w=new GP(t,n,f);return r.Tu.set(t,w),r.Iu.has(n)?r.Iu.get(n).push(t):r.Iu.set(n,[t]),v.snapshot}async function WP(r,t,n){const a=Gt(r),l=a.Tu.get(t),u=a.Iu.get(l.targetId);if(u.length>1)return a.Iu.set(l.targetId,u.filter((f=>!Yf(f,t)))),void a.Tu.delete(t);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(l.targetId),a.sharedClientState.isActiveQueryTarget(l.targetId)||await Ap(a.localStore,l.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(l.targetId),n&&T_(a.remoteStore,l.targetId),Ip(a,l.targetId)})).catch(lu)):(Ip(a,l.targetId),await Ap(a.localStore,l.targetId,!0))}async function $P(r,t){const n=Gt(r),a=n.Tu.get(t),l=n.Iu.get(a.targetId);n.isPrimaryClient&&l.length===1&&(n.sharedClientState.removeLocalQueryTarget(a.targetId),T_(n.remoteStore,a.targetId))}async function JP(r,t,n){const a=aM(r);try{const l=await(function(f,_){const g=Gt(f),v=Le.now(),w=_.reduce(((M,q)=>M.add(q.key)),ie());let S,I;return g.persistence.runTransaction("Locally write mutations","readwrite",(M=>{let q=qs(),F=ie();return g.Ns.getEntries(M,w).next((Z=>{q=Z,q.forEach(((it,ut)=>{ut.isValidDocument()||(F=F.add(it))}))})).next((()=>g.localDocuments.getOverlayedDocuments(M,q))).next((Z=>{S=Z;const it=[];for(const ut of _){const st=mx(ut,S.get(ut.key).overlayedDocument);st!=null&&it.push(new Wo(ut.key,st,J0(st.value.mapValue),Us.exists(!0)))}return g.mutationQueue.addMutationBatch(M,v,it,_)})).next((Z=>{I=Z;const it=Z.applyToLocalDocumentSet(S,F);return g.documentOverlayCache.saveOverlays(M,Z.batchId,it)}))})).then((()=>({batchId:I.batchId,changes:cw(S)})))})(a.localStore,t);a.sharedClientState.addPendingMutation(l.batchId),(function(f,_,g){let v=f.Vu[f.currentUser.toKey()];v||(v=new Be(ne)),v=v.insert(_,g),f.Vu[f.currentUser.toKey()]=v})(a,l.batchId,n),await qc(a,l.changes),await ed(a.remoteStore)}catch(l){const u=A_(l,"Failed to persist write");n.reject(u)}}async function Yw(r,t){const n=Gt(r);try{const a=await fP(n.localStore,t);t.targetChanges.forEach(((l,u)=>{const f=n.Au.get(u);f&&(me(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?f.hu=!0:l.modifiedDocuments.size>0?me(f.hu,14607):l.removedDocuments.size>0&&(me(f.hu,42227),f.hu=!1))})),await qc(n,a,t)}catch(a){await lu(a)}}function oE(r,t,n){const a=Gt(r);if(a.isPrimaryClient&&n===0||!a.isPrimaryClient&&n===1){const l=[];a.Tu.forEach(((u,f)=>{const _=f.view.va(t);_.snapshot&&l.push(_.snapshot)})),(function(f,_){const g=Gt(f);g.onlineState=_;let v=!1;g.queries.forEach(((w,S)=>{for(const I of S.Sa)I.va(_)&&(v=!0)})),v&&C_(g)})(a.eventManager,t),l.length&&a.Pu.H_(l),a.onlineState=t,a.isPrimaryClient&&a.sharedClientState.setOnlineState(t)}}async function tM(r,t,n){const a=Gt(r);a.sharedClientState.updateQueryState(t,"rejected",n);const l=a.Au.get(t),u=l&&l.key;if(u){let f=new Be(Nt.comparator);f=f.insert(u,kn.newNoDocument(u,Ft.min()));const _=ie().add(u),g=new $f(Ft.min(),new Map,new Be(ne),f,_);await Yw(a,g),a.du=a.du.remove(u),a.Au.delete(t),I_(a)}else await Ap(a.localStore,t,!1).then((()=>Ip(a,t,n))).catch(lu)}async function eM(r,t){const n=Gt(r),a=t.batch.batchId;try{const l=await hP(n.localStore,t);Xw(n,a,null),Qw(n,a),n.sharedClientState.updateMutationState(a,"acknowledged"),await qc(n,l)}catch(l){await lu(l)}}async function nM(r,t,n){const a=Gt(r);try{const l=await(function(f,_){const g=Gt(f);return g.persistence.runTransaction("Reject batch","readwrite-primary",(v=>{let w;return g.mutationQueue.lookupMutationBatch(v,_).next((S=>(me(S!==null,37113),w=S.keys(),g.mutationQueue.removeMutationBatch(v,S)))).next((()=>g.mutationQueue.performConsistencyCheck(v))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(v,w,_))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,w))).next((()=>g.localDocuments.getDocuments(v,w)))}))})(a.localStore,t);Xw(a,t,n),Qw(a,t),a.sharedClientState.updateMutationState(t,"rejected",n),await qc(a,l)}catch(l){await lu(l)}}function Qw(r,t){(r.mu.get(t)||[]).forEach((n=>{n.resolve()})),r.mu.delete(t)}function Xw(r,t,n){const a=Gt(r);let l=a.Vu[a.currentUser.toKey()];if(l){const u=l.get(t);u&&(n?u.reject(n):u.resolve(),l=l.remove(t)),a.Vu[a.currentUser.toKey()]=l}}function Ip(r,t,n=null){r.sharedClientState.removeLocalQueryTarget(t);for(const a of r.Iu.get(t))r.Tu.delete(a),n&&r.Pu.yu(a,n);r.Iu.delete(t),r.isPrimaryClient&&r.Ru.jr(t).forEach((a=>{r.Ru.containsKey(a)||Ww(r,a)}))}function Ww(r,t){r.Eu.delete(t.path.canonicalString());const n=r.du.get(t);n!==null&&(T_(r.remoteStore,n),r.du=r.du.remove(t),r.Au.delete(n),I_(r))}function lE(r,t,n){for(const a of n)a instanceof Gw?(r.Ru.addReference(a.key,t),iM(r,a)):a instanceof Zw?(Ct(R_,"Document no longer in limbo: "+a.key),r.Ru.removeReference(a.key,t),r.Ru.containsKey(a.key)||Ww(r,a.key)):Ht(19791,{wu:a})}function iM(r,t){const n=t.key,a=n.path.canonicalString();r.du.get(n)||r.Eu.has(a)||(Ct(R_,"New document in limbo: "+n),r.Eu.add(a),I_(r))}function I_(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const t=r.Eu.values().next().value;r.Eu.delete(t);const n=new Nt(Ce.fromString(t)),a=r.fu.next();r.Au.set(a,new ZP(n)),r.du=r.du.insert(n,a),kw(r.remoteStore,new za(Yr(h_(n.path)),a,"TargetPurposeLimboResolution",Gf.ce))}}async function qc(r,t,n){const a=Gt(r),l=[],u=[],f=[];a.Tu.isEmpty()||(a.Tu.forEach(((_,g)=>{f.push(a.pu(g,t,n).then((v=>{var w;if((v||n)&&a.isPrimaryClient){const S=v?!v.fromCache:(w=n==null?void 0:n.targetChanges.get(g.targetId))==null?void 0:w.current;a.sharedClientState.updateQueryState(g.targetId,S?"current":"not-current")}if(v){l.push(v);const S=y_.As(g.targetId,v);u.push(S)}})))})),await Promise.all(f),a.Pu.H_(l),await(async function(g,v){const w=Gt(g);try{await w.persistence.runTransaction("notifyLocalViewChanges","readwrite",(S=>ft.forEach(v,(I=>ft.forEach(I.Es,(M=>w.persistence.referenceDelegate.addReference(S,I.targetId,M))).next((()=>ft.forEach(I.ds,(M=>w.persistence.referenceDelegate.removeReference(S,I.targetId,M)))))))))}catch(S){if(!uu(S))throw S;Ct(v_,"Failed to update sequence numbers: "+S)}for(const S of v){const I=S.targetId;if(!S.fromCache){const M=w.Ms.get(I),q=M.snapshotVersion,F=M.withLastLimboFreeSnapshotVersion(q);w.Ms=w.Ms.insert(I,F)}}})(a.localStore,u))}async function rM(r,t){const n=Gt(r);if(!n.currentUser.isEqual(t)){Ct(R_,"User change. New user:",t.toKey());const a=await Mw(n.localStore,t);n.currentUser=t,(function(u,f){u.mu.forEach((_=>{_.forEach((g=>{g.reject(new Rt(ht.CANCELLED,f))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,a.removedBatchIds,a.addedBatchIds),await qc(n,a.Ls)}}function sM(r,t){const n=Gt(r),a=n.Au.get(t);if(a&&a.hu)return ie().add(a.key);{let l=ie();const u=n.Iu.get(t);if(!u)return l;for(const f of u){const _=n.Tu.get(f);l=l.unionWith(_.view.nu)}return l}}function $w(r){const t=Gt(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=Yw.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=sM.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=tM.bind(null,t),t.Pu.H_=jP.bind(null,t.eventManager),t.Pu.yu=qP.bind(null,t.eventManager),t}function aM(r){const t=Gt(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=eM.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=nM.bind(null,t),t}class Of{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Jf(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,n){return null}Mu(t,n){return null}vu(t){return cP(this.persistence,new oP,t.initialUser,this.serializer)}Cu(t){return new Pw(g_.mi,this.serializer)}Du(t){return new gP}async terminate(){var t,n;(t=this.gcScheduler)==null||t.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Of.provider={build:()=>new Of};class oM extends Of{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,n){me(this.persistence.referenceDelegate instanceof Pf,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new Zx(a,t.asyncQueue,n)}Cu(t){const n=this.cacheSizeBytes!==void 0?fi.withCacheSize(this.cacheSizeBytes):fi.DEFAULT;return new Pw((a=>Pf.mi(a,n)),this.serializer)}}class Lp{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>oE(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=rM.bind(null,this.syncEngine),await zP(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new HP})()}createDatastore(t){const n=Jf(t.databaseInfo.databaseId),a=(function(u){return new wP(u)})(t.databaseInfo);return(function(u,f,_,g){return new CP(u,f,_,g)})(t.authCredentials,t.appCheckCredentials,a,n)}createRemoteStore(t){return(function(a,l,u,f,_){return new IP(a,l,u,f,_)})(this.localStore,this.datastore,t.asyncQueue,(n=>oE(this.syncEngine,n,0)),(function(){return eE.v()?new eE:new yP})())}createSyncEngine(t,n){return(function(l,u,f,_,g,v,w){const S=new KP(l,u,f,_,g,v);return w&&(S.gu=!0),S})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){var t,n;await(async function(l){const u=Gt(l);Ct(Go,"RemoteStore shutting down."),u.Ea.add(5),await jc(u),u.Aa.shutdown(),u.Ra.set("Unknown")})(this.remoteStore),(t=this.datastore)==null||t.terminate(),(n=this.eventManager)==null||n.terminate()}}Lp.provider={build:()=>new Lp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jw{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):js("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,n){setTimeout((()=>{this.muted||t(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wa="FirestoreClient";class lM{constructor(t,n,a,l,u){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=a,this.databaseInfo=l,this.user=Dn.UNAUTHENTICATED,this.clientId=s_.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(a,(async f=>{Ct(Wa,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(a,(f=>(Ct(Wa,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new qa;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const a=A_(n,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}async function tp(r,t){r.asyncQueue.verifyOperationInProgress(),Ct(Wa,"Initializing OfflineComponentProvider");const n=r.configuration;await t.initialize(n);let a=n.initialUser;r.setCredentialChangeListener((async l=>{a.isEqual(l)||(await Mw(t.localStore,l),a=l)})),t.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=t}async function uE(r,t){r.asyncQueue.verifyOperationInProgress();const n=await uM(r);Ct(Wa,"Initializing OnlineComponentProvider"),await t.initialize(n,r.configuration),r.setCredentialChangeListener((a=>iE(t.remoteStore,a))),r.setAppCheckTokenChangeListener(((a,l)=>iE(t.remoteStore,l))),r._onlineComponents=t}async function uM(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){Ct(Wa,"Using user provided OfflineComponentProvider");try{await tp(r,r._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!(function(l){return l.name==="FirebaseError"?l.code===ht.FAILED_PRECONDITION||l.code===ht.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(n))throw n;Wl("Error using user provided cache. Falling back to memory cache: "+n),await tp(r,new Of)}}else Ct(Wa,"Using default OfflineComponentProvider"),await tp(r,new oM(void 0));return r._offlineComponents}async function tb(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(Ct(Wa,"Using user provided OnlineComponentProvider"),await uE(r,r._uninitializedComponentsProvider._online)):(Ct(Wa,"Using default OnlineComponentProvider"),await uE(r,new Lp))),r._onlineComponents}function cM(r){return tb(r).then((t=>t.syncEngine))}async function xp(r){const t=await tb(r),n=t.eventManager;return n.onListen=YP.bind(null,t.syncEngine),n.onUnlisten=WP.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=QP.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=$P.bind(null,t.syncEngine),n}function hM(r,t,n={}){const a=new qa;return r.asyncQueue.enqueueAndForget((async()=>(function(u,f,_,g,v){const w=new Jw({next:I=>{w.Nu(),f.enqueueAndForget((()=>qw(u,S))),I.fromCache&&g.source==="server"?v.reject(new Rt(ht.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):v.resolve(I)},error:I=>v.reject(I)}),S=new Fw(_,w,{includeMetadataChanges:!0,qa:!0});return jw(u,S)})(await xp(r),r.asyncQueue,t,n,a))),a.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eb(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cE=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nb="firestore.googleapis.com",hE=!0;class fE{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new Rt(ht.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=nb,this.ssl=hE}else this.host=t.host,this.ssl=t.ssl??hE;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=xw;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<Fx)throw new Rt(ht.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}RL("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=eb(t.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new Rt(ht.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new Rt(ht.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new Rt(ht.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(a,l){return a.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class nd{constructor(t,n,a,l){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=a,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new fE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Rt(ht.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new Rt(ht.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new fE(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new gL;switch(a.type){case"firstParty":return new EL(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new Rt(ht.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const a=cE.get(n);a&&(Ct("ComponentProvider","Removing Datastore"),cE.delete(n),a.terminate())})(this),Promise.resolve()}}function fM(r,t,n,a={}){var v;r=ko(r,nd);const l=Ko(t),u=r._getSettings(),f={...u,emulatorOptions:r._getEmulatorOptions()},_=`${t}:${n}`;l&&(qp(`https://${_}`),Fp("Firestore",!0)),u.host!==nb&&u.host!==_&&Wl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...u,host:_,ssl:l,emulatorOptions:a};if(!Bo(g,f)&&(r._setSettings(g),a.mockUserToken)){let w,S;if(typeof a.mockUserToken=="string")w=a.mockUserToken,S=Dn.MOCK_USER;else{w=QE(a.mockUserToken,(v=r._app)==null?void 0:v.options.projectId);const I=a.mockUserToken.sub||a.mockUserToken.user_id;if(!I)throw new Rt(ht.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");S=new Dn(I)}r._authCredentials=new yL(new H0(w,S))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jo{constructor(t,n,a){this.converter=n,this._query=a,this.type="query",this.firestore=t}withConverter(t){return new Jo(this.firestore,t,this._query)}}class an{constructor(t,n,a){this.converter=n,this._key=a,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Fa(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new an(this.firestore,t,this._key)}toJSON(){return{type:an._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,a){if(Uc(n,an._jsonSchema))return new an(t,a||null,new Nt(Ce.fromString(n.referencePath)))}}an._jsonSchemaVersion="firestore/documentReference/1.0",an._jsonSchema={type:$e("string",an._jsonSchemaVersion),referencePath:$e("string")};class Fa extends Jo{constructor(t,n,a){super(t,n,h_(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new an(this.firestore,null,new Nt(t))}withConverter(t){return new Fa(this.firestore,t,this._path)}}function Pp(r,t,...n){if(r=Rn(r),j0("collection","path",t),r instanceof nd){const a=Ce.fromString(t,...n);return AT(a),new Fa(r,null,a)}{if(!(r instanceof an||r instanceof Fa))throw new Rt(ht.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(Ce.fromString(t,...n));return AT(a),new Fa(r.firestore,null,a)}}function dM(r,t,...n){if(r=Rn(r),arguments.length===1&&(t=s_.newId()),j0("doc","path",t),r instanceof nd){const a=Ce.fromString(t,...n);return ST(a),new an(r,null,new Nt(a))}{if(!(r instanceof an||r instanceof Fa))throw new Rt(ht.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(Ce.fromString(t,...n));return ST(a),new an(r.firestore,r instanceof Fa?r.converter:null,new Nt(a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dE="AsyncQueue";class mE{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Nw(this,"async_queue_retry"),this._c=()=>{const a=Jm();a&&Ct(dE,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=t;const n=Jm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const n=Jm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new qa;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!uu(t))throw t;Ct(dE,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const n=this.ac.then((()=>(this.rc=!0,t().catch((a=>{throw this.nc=a,this.rc=!1,js("INTERNAL UNHANDLED ERROR: ",pE(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=n,n}enqueueAfterDelay(t,n,a){this.uc(),this.oc.indexOf(t)>-1&&(n=0);const l=S_.createAndSchedule(this,t,n,a,(u=>this.hc(u)));return this.tc.push(l),l}uc(){this.nc&&Ht(47125,{Pc:pE(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const n of this.tc)if(n.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((n,a)=>n.targetTimeMs-a.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const n=this.tc.indexOf(t);this.tc.splice(n,1)}}function pE(r){let t=r.message||"";return r.stack&&(t=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _E(r){return(function(n,a){if(typeof n!="object"||n===null)return!1;const l=n;for(const u of a)if(u in l&&typeof l[u]=="function")return!0;return!1})(r,["next","error","complete"])}class Ic extends nd{constructor(t,n,a,l){super(t,n,a,l),this.type="firestore",this._queue=new mE,this._persistenceKey=(l==null?void 0:l.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new mE(t),this._firestoreClient=void 0,await t}}}function mM(r,t){const n=typeof r=="object"?r:Kp(),a=typeof r=="string"?r:Af,l=Bf(n,"firestore").getImmediate({identifier:a});if(!l._initialized){const u=ZE("firestore");u&&fM(l,...u)}return l}function L_(r){if(r._terminated)throw new Rt(ht.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||pM(r),r._firestoreClient}function pM(r){var a,l,u;const t=r._freezeSettings(),n=(function(_,g,v,w){return new UL(_,g,v,w.host,w.ssl,w.experimentalForceLongPolling,w.experimentalAutoDetectLongPolling,eb(w.experimentalLongPollingOptions),w.useFetchStreams,w.isUsingEmulator)})(r._databaseId,((a=r._app)==null?void 0:a.options.appId)||"",r._persistenceKey,t);r._componentsProvider||(l=t.localCache)!=null&&l._offlineComponentProvider&&((u=t.localCache)!=null&&u._onlineComponentProvider)&&(r._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),r._firestoreClient=new lM(r._authCredentials,r._appCheckCredentials,r._queue,n,r._componentsProvider&&(function(_){const g=_==null?void 0:_._online.build();return{_offline:_==null?void 0:_._offline.build(g),_online:g}})(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ji{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Ji(In.fromBase64String(t))}catch(n){throw new Rt(ht.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new Ji(In.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Ji._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Uc(t,Ji._jsonSchema))return Ji.fromBase64String(t.bytes)}}Ji._jsonSchemaVersion="firestore/bytes/1.0",Ji._jsonSchema={type:$e("string",Ji._jsonSchemaVersion),bytes:$e("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x_{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new Rt(ht.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Cn(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P_{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sr{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new Rt(ht.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new Rt(ht.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return ne(this._lat,t._lat)||ne(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Sr._jsonSchemaVersion}}static fromJSON(t){if(Uc(t,Sr._jsonSchema))return new Sr(t.latitude,t.longitude)}}Sr._jsonSchemaVersion="firestore/geoPoint/1.0",Sr._jsonSchema={type:$e("string",Sr._jsonSchemaVersion),latitude:$e("number"),longitude:$e("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xr{constructor(t){this._values=(t||[]).map((n=>n))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(a,l){if(a.length!==l.length)return!1;for(let u=0;u<a.length;++u)if(a[u]!==l[u])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Xr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Uc(t,Xr._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((n=>typeof n=="number")))return new Xr(t.vectorValues);throw new Rt(ht.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Xr._jsonSchemaVersion="firestore/vectorValue/1.0",Xr._jsonSchema={type:$e("string",Xr._jsonSchemaVersion),vectorValues:$e("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _M=/^__.*__$/;class gM{constructor(t,n,a){this.data=t,this.fieldMask=n,this.fieldTransforms=a}toMutation(t,n){return this.fieldMask!==null?new Wo(t,this.data,this.fieldMask,n,this.fieldTransforms):new Bc(t,this.data,n,this.fieldTransforms)}}function ib(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ht(40011,{Ac:r})}}class M_{constructor(t,n,a,l,u,f){this.settings=t,this.databaseId=n,this.serializer=a,this.ignoreUndefinedProperties=l,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new M_({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){var l;const n=(l=this.path)==null?void 0:l.child(t),a=this.Vc({path:n,fc:!1});return a.gc(t),a}yc(t){var l;const n=(l=this.path)==null?void 0:l.child(t),a=this.Vc({path:n,fc:!1});return a.Rc(),a}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return Nf(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((n=>t.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>t.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(ib(this.Ac)&&_M.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class yM{constructor(t,n,a){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=a||Jf(t)}Cc(t,n,a,l=!1){return new M_({Ac:t,methodName:n,Dc:a,path:Cn.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function rb(r){const t=r._freezeSettings(),n=Jf(r._databaseId);return new yM(r._databaseId,!!t.ignoreUndefinedProperties,n)}function vM(r,t,n,a,l,u={}){const f=r.Cc(u.merge||u.mergeFields?2:0,t,n,l);ob("Data must be an object, but it was:",f,a);const _=sb(a,f);let g,v;if(u.merge)g=new Er(f.fieldMask),v=f.fieldTransforms;else if(u.mergeFields){const w=[];for(const S of u.mergeFields){const I=EM(t,S,n);if(!f.contains(I))throw new Rt(ht.INVALID_ARGUMENT,`Field '${I}' is specified in your field mask but missing from your input data.`);bM(w,I)||w.push(I)}g=new Er(w),v=f.fieldTransforms.filter((S=>g.covers(S.field)))}else g=null,v=f.fieldTransforms;return new gM(new $i(_),g,v)}class O_ extends P_{_toFieldTransform(t){return new cx(t.path,new Ac)}isEqual(t){return t instanceof O_}}function TM(r,t,n,a=!1){return N_(n,r.Cc(a?4:3,t))}function N_(r,t){if(ab(r=Rn(r)))return ob("Unsupported field value:",t,r),sb(r,t);if(r instanceof P_)return(function(a,l){if(!ib(l.Ac))throw l.Sc(`${a._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${a._methodName}() is not currently supported inside arrays`);const u=a._toFieldTransform(l);u&&l.fieldTransforms.push(u)})(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(a,l){const u=[];let f=0;for(const _ of a){let g=N_(_,l.wc(f));g==null&&(g={nullValue:"NULL_VALUE"}),u.push(g),f++}return{arrayValue:{values:u}}})(r,t)}return(function(a,l){if((a=Rn(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return ox(l.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const u=Le.fromDate(a);return{timestampValue:xf(l.serializer,u)}}if(a instanceof Le){const u=new Le(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:xf(l.serializer,u)}}if(a instanceof Sr)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof Ji)return{bytesValue:bw(l.serializer,a._byteString)};if(a instanceof an){const u=l.databaseId,f=a.firestore._databaseId;if(!f.isEqual(u))throw l.Sc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:p_(a.firestore._databaseId||l.databaseId,a._key.path)}}if(a instanceof Xr)return(function(f,_){return{mapValue:{fields:{[W0]:{stringValue:$0},[Cf]:{arrayValue:{values:f.toArray().map((v=>{if(typeof v!="number")throw _.Sc("VectorValues must only contain numeric values.");return f_(_.serializer,v)}))}}}}}})(a,l);throw l.Sc(`Unsupported field value: ${Ff(a)}`)})(r,t)}function sb(r,t){const n={};return G0(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Qo(r,((a,l)=>{const u=N_(l,t.mc(a));u!=null&&(n[a]=u)})),{mapValue:{fields:n}}}function ab(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof Le||r instanceof Sr||r instanceof Ji||r instanceof an||r instanceof P_||r instanceof Xr)}function ob(r,t,n){if(!ab(n)||!q0(n)){const a=Ff(n);throw a==="an object"?t.Sc(r+" a custom object"):t.Sc(r+" "+a)}}function EM(r,t,n){if((t=Rn(t))instanceof x_)return t._internalPath;if(typeof t=="string")return lb(r,t);throw Nf("Field path arguments must be of type string or ",r,!1,void 0,n)}const wM=new RegExp("[~\\*/\\[\\]]");function lb(r,t,n){if(t.search(wM)>=0)throw Nf(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new x_(...t.split("."))._internalPath}catch{throw Nf(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function Nf(r,t,n,a,l){const u=a&&!a.isEmpty(),f=l!==void 0;let _=`Function ${t}() called with invalid data`;n&&(_+=" (via `toFirestore()`)"),_+=". ";let g="";return(u||f)&&(g+=" (found",u&&(g+=` in field ${a}`),f&&(g+=` in document ${l}`),g+=")"),new Rt(ht.INVALID_ARGUMENT,_+r+g)}function bM(r,t){return r.some((n=>n.isEqual(t)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ub{constructor(t,n,a,l,u){this._firestore=t,this._userDataWriter=n,this._key=a,this._document=l,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new an(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new SM(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(cb("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class SM extends ub{data(){return super.data()}}function cb(r,t){return typeof t=="string"?lb(r,t):t instanceof x_?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hb(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new Rt(ht.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class D_{}class AM extends D_{}function CM(r,t,...n){let a=[];t instanceof D_&&a.push(t),a=a.concat(n),(function(u){const f=u.filter((g=>g instanceof V_)).length,_=u.filter((g=>g instanceof k_)).length;if(f>1||f>0&&_>0)throw new Rt(ht.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(a);for(const l of a)r=l._apply(r);return r}class k_ extends AM{constructor(t,n,a){super(),this._field=t,this._op=n,this._value=a,this.type="where"}static _create(t,n,a){return new k_(t,n,a)}_apply(t){const n=this._parse(t);return fb(t._query,n),new Jo(t.firestore,t.converter,vp(t._query,n))}_parse(t){const n=rb(t.firestore);return(function(u,f,_,g,v,w,S){let I;if(v.isKeyField()){if(w==="array-contains"||w==="array-contains-any")throw new Rt(ht.INVALID_ARGUMENT,`Invalid Query. You can't perform '${w}' queries on documentId().`);if(w==="in"||w==="not-in"){yE(S,w);const q=[];for(const F of S)q.push(gE(g,u,F));I={arrayValue:{values:q}}}else I=gE(g,u,S)}else w!=="in"&&w!=="not-in"&&w!=="array-contains-any"||yE(S,w),I=TM(_,f,S,w==="in"||w==="not-in");return We.create(v,w,I)})(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}class V_ extends D_{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new V_(t,n)}_parse(t){const n=this._queryConstraints.map((a=>a._parse(t))).filter((a=>a.getFilters().length>0));return n.length===1?n[0]:Ar.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:((function(l,u){let f=l;const _=u.getFlattenedFilters();for(const g of _)fb(f,g),f=vp(f,g)})(t._query,n),new Jo(t.firestore,t.converter,vp(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function gE(r,t,n){if(typeof(n=Rn(n))=="string"){if(n==="")throw new Rt(ht.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!aw(t)&&n.indexOf("/")!==-1)throw new Rt(ht.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const a=t.path.child(Ce.fromString(n));if(!Nt.isDocumentKey(a))throw new Rt(ht.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return OT(r,new Nt(a))}if(n instanceof an)return OT(r,n._key);throw new Rt(ht.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ff(n)}.`)}function yE(r,t){if(!Array.isArray(r)||r.length===0)throw new Rt(ht.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function fb(r,t){const n=(function(l,u){for(const f of l)for(const _ of f.getFlattenedFilters())if(u.indexOf(_.op)>=0)return _.op;return null})(r.filters,(function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(n!==null)throw n===t.op?new Rt(ht.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new Rt(ht.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class RM{convertValue(t,n="none"){switch(Qa(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Ke(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(Ya(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw Ht(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const a={};return Qo(t,((l,u)=>{a[l]=this.convertValue(u,n)})),a}convertVectorValue(t){var a,l,u;const n=(u=(l=(a=t.fields)==null?void 0:a[Cf].arrayValue)==null?void 0:l.values)==null?void 0:u.map((f=>Ke(f.doubleValue)));return new Xr(n)}convertGeoPoint(t){return new Sr(Ke(t.latitude),Ke(t.longitude))}convertArray(t,n){return(t.values||[]).map((a=>this.convertValue(a,n)))}convertServerTimestamp(t,n){switch(n){case"previous":const a=Kf(t);return a==null?null:this.convertValue(a,n);case"estimate":return this.convertTimestamp(wc(t));default:return null}}convertTimestamp(t){const n=Ka(t);return new Le(n.seconds,n.nanos)}convertDocumentKey(t,n){const a=Ce.fromString(t);me(Lw(a),9688,{name:t});const l=new bc(a.get(1),a.get(3)),u=new Nt(a.popFirst(5));return l.isEqual(n)||js(`Document ${u} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IM(r,t,n){let a;return a=r?r.toFirestore(t):t,a}class lc{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Vo extends ub{constructor(t,n,a,l,u,f){super(t,n,a,l,f),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new df(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const a=this._document.data.field(cb("DocumentSnapshot.get",t));if(a!==null)return this._userDataWriter.convertValue(a,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Rt(ht.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,n={};return n.type=Vo._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Vo._jsonSchemaVersion="firestore/documentSnapshot/1.0",Vo._jsonSchema={type:$e("string",Vo._jsonSchemaVersion),bundleSource:$e("string","DocumentSnapshot"),bundleName:$e("string"),bundle:$e("string")};class df extends Vo{data(t={}){return super.data(t)}}class Uo{constructor(t,n,a,l){this._firestore=t,this._userDataWriter=n,this._snapshot=l,this.metadata=new lc(l.hasPendingWrites,l.fromCache),this.query=a}get docs(){const t=[];return this.forEach((n=>t.push(n))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach((a=>{t.call(n,new df(this._firestore,this._userDataWriter,a.key,a,new lc(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Rt(ht.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(l,u){if(l._snapshot.oldDocs.isEmpty()){let f=0;return l._snapshot.docChanges.map((_=>{const g=new df(l._firestore,l._userDataWriter,_.doc.key,_.doc,new lc(l._snapshot.mutatedKeys.has(_.doc.key),l._snapshot.fromCache),l.query.converter);return _.doc,{type:"added",doc:g,oldIndex:-1,newIndex:f++}}))}{let f=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((_=>u||_.type!==3)).map((_=>{const g=new df(l._firestore,l._userDataWriter,_.doc.key,_.doc,new lc(l._snapshot.mutatedKeys.has(_.doc.key),l._snapshot.fromCache),l.query.converter);let v=-1,w=-1;return _.type!==0&&(v=f.indexOf(_.doc.key),f=f.delete(_.doc.key)),_.type!==1&&(f=f.add(_.doc),w=f.indexOf(_.doc.key)),{type:LM(_.type),doc:g,oldIndex:v,newIndex:w}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Rt(ht.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Uo._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=s_.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],a=[],l=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),a.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),l.push(u.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function LM(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ht(61501,{type:r})}}Uo._jsonSchemaVersion="firestore/querySnapshot/1.0",Uo._jsonSchema={type:$e("string",Uo._jsonSchemaVersion),bundleSource:$e("string","QuerySnapshot"),bundleName:$e("string"),bundle:$e("string")};class U_ extends RM{constructor(t){super(),this.firestore=t}convertBytes(t){return new Ji(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new an(this.firestore,null,n)}}function xM(r){r=ko(r,Jo);const t=ko(r.firestore,Ic),n=L_(t),a=new U_(t);return hb(r._query),hM(n,r._query).then((l=>new Uo(t,a,r,l)))}function PM(r,t){const n=ko(r.firestore,Ic),a=dM(r),l=IM(r.converter,t);return OM(n,[vM(rb(r.firestore),"addDoc",a._key,l,r.converter!==null,{}).toMutation(a._key,Us.exists(!1))]).then((()=>a))}function MM(r,...t){var g,v,w;r=Rn(r);let n={includeMetadataChanges:!1,source:"default"},a=0;typeof t[a]!="object"||_E(t[a])||(n=t[a++]);const l={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(_E(t[a])){const S=t[a];t[a]=(g=S.next)==null?void 0:g.bind(S),t[a+1]=(v=S.error)==null?void 0:v.bind(S),t[a+2]=(w=S.complete)==null?void 0:w.bind(S)}let u,f,_;if(r instanceof an)f=ko(r.firestore,Ic),_=h_(r._key.path),u={next:S=>{t[a]&&t[a](NM(f,r,S))},error:t[a+1],complete:t[a+2]};else{const S=ko(r,Jo);f=ko(S.firestore,Ic),_=S._query;const I=new U_(f);u={next:M=>{t[a]&&t[a](new Uo(f,I,S,M))},error:t[a+1],complete:t[a+2]},hb(r._query)}return(function(I,M,q,F){const Z=new Jw(F),it=new Fw(M,Z,q);return I.asyncQueue.enqueueAndForget((async()=>jw(await xp(I),it))),()=>{Z.Nu(),I.asyncQueue.enqueueAndForget((async()=>qw(await xp(I),it)))}})(L_(f),_,l,u)}function OM(r,t){return(function(a,l){const u=new qa;return a.asyncQueue.enqueueAndForget((async()=>JP(await cM(a),l,u))),u.promise})(L_(r),t)}function NM(r,t,n){const a=n.docs.get(t._key),l=new U_(r);return new Vo(r,l,t._key,a,new lc(n.hasPendingWrites,n.fromCache),t.converter)}function DM(){return new O_("serverTimestamp")}(function(t,n=!0){(function(l){ou=l})(Yo),Ho(new Ga("firestore",((a,{instanceIdentifier:l,options:u})=>{const f=a.getProvider("app").getImmediate(),_=new Ic(new vL(a.getProvider("auth-internal")),new wL(f,a.getProvider("app-check-internal")),(function(v,w){if(!Object.prototype.hasOwnProperty.apply(v.options,["projectId"]))throw new Rt(ht.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new bc(v.options.projectId,w)})(f,l),f);return u={useFetchStreams:n,...u},_._setSettings(u),_}),"PUBLIC").setMultipleInstances(!0)),Zr(TT,ET,t),Zr(TT,ET,"esm2020")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const db="firebasestorage.googleapis.com",kM="storageBucket",VM=120*1e3,UM=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class es extends ts{constructor(t,n,a=0){super(ep(t),`Firebase Storage: ${n} (${ep(t)})`),this.status_=a,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,es.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return ep(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var $r;(function(r){r.UNKNOWN="unknown",r.OBJECT_NOT_FOUND="object-not-found",r.BUCKET_NOT_FOUND="bucket-not-found",r.PROJECT_NOT_FOUND="project-not-found",r.QUOTA_EXCEEDED="quota-exceeded",r.UNAUTHENTICATED="unauthenticated",r.UNAUTHORIZED="unauthorized",r.UNAUTHORIZED_APP="unauthorized-app",r.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",r.INVALID_CHECKSUM="invalid-checksum",r.CANCELED="canceled",r.INVALID_EVENT_NAME="invalid-event-name",r.INVALID_URL="invalid-url",r.INVALID_DEFAULT_BUCKET="invalid-default-bucket",r.NO_DEFAULT_BUCKET="no-default-bucket",r.CANNOT_SLICE_BLOB="cannot-slice-blob",r.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",r.NO_DOWNLOAD_URL="no-download-url",r.INVALID_ARGUMENT="invalid-argument",r.INVALID_ARGUMENT_COUNT="invalid-argument-count",r.APP_DELETED="app-deleted",r.INVALID_ROOT_OPERATION="invalid-root-operation",r.INVALID_FORMAT="invalid-format",r.INTERNAL_ERROR="internal-error",r.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})($r||($r={}));function ep(r){return"storage/"+r}function zM(){const r="An unknown error occurred, please check the error payload for server response.";return new es($r.UNKNOWN,r)}function BM(){return new es($r.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function HM(){return new es($r.CANCELED,"User canceled the upload/download.")}function jM(r){return new es($r.INVALID_URL,"Invalid URL '"+r+"'.")}function qM(r){return new es($r.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.")}function vE(r){return new es($r.INVALID_ARGUMENT,r)}function mb(){return new es($r.APP_DELETED,"The Firebase app was deleted.")}function FM(r){return new es($r.INVALID_ROOT_OPERATION,"The operation '"+r+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wr{constructor(t,n){this.bucket=t,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,n){let a;try{a=wr.makeFromUrl(t,n)}catch{return new wr(t,"")}if(a.path==="")return a;throw qM(t)}static makeFromUrl(t,n){let a=null;const l="([A-Za-z0-9.\\-_]+)";function u(St){St.path.charAt(St.path.length-1)==="/"&&(St.path_=St.path_.slice(0,-1))}const f="(/(.*))?$",_=new RegExp("^gs://"+l+f,"i"),g={bucket:1,path:3};function v(St){St.path_=decodeURIComponent(St.path)}const w="v[A-Za-z0-9_]+",S=n.replace(/[.]/g,"\\."),I="(/([^?#]*).*)?$",M=new RegExp(`^https?://${S}/${w}/b/${l}/o${I}`,"i"),q={bucket:1,path:3},F=n===db?"(?:storage.googleapis.com|storage.cloud.google.com)":n,Z="([^?#]*)",it=new RegExp(`^https?://${F}/${l}/${Z}`,"i"),st=[{regex:_,indices:g,postModify:u},{regex:M,indices:q,postModify:v},{regex:it,indices:{bucket:1,path:2},postModify:v}];for(let St=0;St<st.length;St++){const Tt=st[St],kt=Tt.regex.exec(t);if(kt){const z=kt[Tt.indices.bucket];let O=kt[Tt.indices.path];O||(O=""),a=new wr(z,O),Tt.postModify(a);break}}if(a==null)throw jM(t);return a}}class GM{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZM(r,t,n){let a=1,l=null,u=null,f=!1,_=0;function g(){return _===2}let v=!1;function w(...Z){v||(v=!0,t.apply(null,Z))}function S(Z){l=setTimeout(()=>{l=null,r(M,g())},Z)}function I(){u&&clearTimeout(u)}function M(Z,...it){if(v){I();return}if(Z){I(),w.call(null,Z,...it);return}if(g()||f){I(),w.call(null,Z,...it);return}a<64&&(a*=2);let st;_===1?(_=2,st=0):st=(a+Math.random())*1e3,S(st)}let q=!1;function F(Z){q||(q=!0,I(),!v&&(l!==null?(Z||(_=2),clearTimeout(l),S(0)):Z||(_=1)))}return S(0),u=setTimeout(()=>{f=!0,F(!0)},n),F}function KM(r){r(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YM(r){return r!==void 0}function TE(r,t,n,a){if(a<t)throw vE(`Invalid value for '${r}'. Expected ${t} or greater.`);if(a>n)throw vE(`Invalid value for '${r}'. Expected ${n} or less.`)}function QM(r){const t=encodeURIComponent;let n="?";for(const a in r)if(r.hasOwnProperty(a)){const l=t(a)+"="+t(r[a]);n=n+l+"&"}return n=n.slice(0,-1),n}var Df;(function(r){r[r.NO_ERROR=0]="NO_ERROR",r[r.NETWORK_ERROR=1]="NETWORK_ERROR",r[r.ABORT=2]="ABORT"})(Df||(Df={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XM(r,t){const n=r>=500&&r<600,l=[408,429].indexOf(r)!==-1,u=t.indexOf(r)!==-1;return n||l||u}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WM{constructor(t,n,a,l,u,f,_,g,v,w,S,I=!0,M=!1){this.url_=t,this.method_=n,this.headers_=a,this.body_=l,this.successCodes_=u,this.additionalRetryCodes_=f,this.callback_=_,this.errorCallback_=g,this.timeout_=v,this.progressCallback_=w,this.connectionFactory_=S,this.retry=I,this.isUsingEmulator=M,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((q,F)=>{this.resolve_=q,this.reject_=F,this.start_()})}start_(){const t=(a,l)=>{if(l){a(!1,new tf(!1,null,!0));return}const u=this.connectionFactory_();this.pendingConnection_=u;const f=_=>{const g=_.loaded,v=_.lengthComputable?_.total:-1;this.progressCallback_!==null&&this.progressCallback_(g,v)};this.progressCallback_!==null&&u.addUploadProgressListener(f),u.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&u.removeUploadProgressListener(f),this.pendingConnection_=null;const _=u.getErrorCode()===Df.NO_ERROR,g=u.getStatus();if(!_||XM(g,this.additionalRetryCodes_)&&this.retry){const w=u.getErrorCode()===Df.ABORT;a(!1,new tf(!1,null,w));return}const v=this.successCodes_.indexOf(g)!==-1;a(!0,new tf(v,u))})},n=(a,l)=>{const u=this.resolve_,f=this.reject_,_=l.connection;if(l.wasSuccessCode)try{const g=this.callback_(_,_.getResponse());YM(g)?u(g):u()}catch(g){f(g)}else if(_!==null){const g=zM();g.serverResponse=_.getErrorText(),this.errorCallback_?f(this.errorCallback_(_,g)):f(g)}else if(l.canceled){const g=this.appDelete_?mb():HM();f(g)}else{const g=BM();f(g)}};this.canceled_?n(!1,new tf(!1,null,!0)):this.backoffId_=ZM(t,n,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&KM(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class tf{constructor(t,n,a){this.wasSuccessCode=t,this.connection=n,this.canceled=!!a}}function $M(r,t){t!==null&&t.length>0&&(r.Authorization="Firebase "+t)}function JM(r,t){r["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function tO(r,t){t&&(r["X-Firebase-GMPID"]=t)}function eO(r,t){t!==null&&(r["X-Firebase-AppCheck"]=t)}function nO(r,t,n,a,l,u,f=!0,_=!1){const g=QM(r.urlParams),v=r.url+g,w=Object.assign({},r.headers);return tO(w,t),$M(w,n),JM(w,u),eO(w,a),new WM(v,r.method,w,r.body,r.successCodes,r.additionalRetryCodes,r.handler,r.errorHandler,r.timeout,r.progressCallback,l,f,_)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iO(r){if(r.length===0)return null;const t=r.lastIndexOf("/");return t===-1?"":r.slice(0,t)}function rO(r){const t=r.lastIndexOf("/",r.length-2);return t===-1?r:r.slice(t+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kf{constructor(t,n){this._service=t,n instanceof wr?this._location=n:this._location=wr.makeFromUrl(n,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,n){return new kf(t,n)}get root(){const t=new wr(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return rO(this._location.path)}get storage(){return this._service}get parent(){const t=iO(this._location.path);if(t===null)return null;const n=new wr(this._location.bucket,t);return new kf(this._service,n)}_throwIfRoot(t){if(this._location.path==="")throw FM(t)}}function EE(r,t){const n=t==null?void 0:t[kM];return n==null?null:wr.makeFromBucketSpec(n,r)}function sO(r,t,n,a={}){r.host=`${t}:${n}`;const l=Ko(t);l&&(qp(`https://${r.host}/b`),Fp("Storage",!0)),r._isUsingEmulator=!0,r._protocol=l?"https":"http";const{mockUserToken:u}=a;u&&(r._overrideAuthToken=typeof u=="string"?u:QE(u,r.app.options.projectId))}class aO{constructor(t,n,a,l,u,f=!1){this.app=t,this._authProvider=n,this._appCheckProvider=a,this._url=l,this._firebaseVersion=u,this._isUsingEmulator=f,this._bucket=null,this._host=db,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=VM,this._maxUploadRetryTime=UM,this._requests=new Set,l!=null?this._bucket=wr.makeFromBucketSpec(l,this._host):this._bucket=EE(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=wr.makeFromBucketSpec(this._url,t):this._bucket=EE(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){TE("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){TE("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const n=await t.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(di(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=this._appCheckProvider.getImmediate({optional:!0});return t?(await t.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new kf(this,t)}_makeRequest(t,n,a,l,u=!0){if(this._deleted)return new GM(mb());{const f=nO(t,this._appId,a,l,n,this._firebaseVersion,u,this._isUsingEmulator);return this._requests.add(f),f.getPromise().then(()=>this._requests.delete(f),()=>this._requests.delete(f)),f}}async makeRequestWithTokens(t,n){const[a,l]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,n,a,l).getPromise()}}const wE="@firebase/storage",bE="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pb="storage";function oO(r=Kp(),t){r=Rn(r);const a=Bf(r,pb).getImmediate({identifier:t}),l=ZE("storage");return l&&lO(a,...l),a}function lO(r,t,n,a={}){sO(r,t,n,a)}function uO(r,{instanceIdentifier:t}){const n=r.getProvider("app").getImmediate(),a=r.getProvider("auth-internal"),l=r.getProvider("app-check-internal");return new aO(n,a,l,t,Yo)}function cO(){Ho(new Ga(pb,uO,"PUBLIC").setMultipleInstances(!0)),Zr(wE,bE,""),Zr(wE,bE,"esm2020")}cO();const SE={apiKey:"AIzaSyAl_20TrZIDkJeTV3AcAU295dIbsUnBimg",authDomain:"arbolado-chajari.firebaseapp.com",projectId:"arbolado-chajari",storageBucket:"arbolado-chajari.firebasestorage.app",messagingSenderId:"1027728914509",appId:"1:1027728914509:web:d1f7497614c32181cb0404"};function hO(){try{if(SE.apiKey.startsWith("PASTE_"))throw new Error("Firebase configuration is not set. Please update services/firebase.ts with your project's credentials.");const r=$E(SE),t=dL(r),n=mM(r),a=oO(r),l=new Os;return{auth:t,db:n,storage:a,googleProvider:l}}catch(r){throw console.error("Firebase initialization failed:",r),alert("Could not connect to the database. Please check the Firebase configuration in services/firebase.ts and ensure you have replaced the placeholder values with your actual project credentials."),new Error("Firebase initialization failed. The application cannot start.")}}const{auth:zo,db:Mp,storage:KO,googleProvider:fO}=hO(),_b=X.createContext({user:null,loading:!0}),dO=({children:r})=>{const[t,n]=X.useState(null),[a,l]=X.useState(!0);return X.useEffect(()=>{const u=eI(zo,f=>{n(f?{uid:f.uid,email:f.email,displayName:f.displayName}:null),l(!1)});return()=>u()},[]),dt.jsx(_b.Provider,{value:{user:t,loading:a},children:r})},z_=()=>X.useContext(_b);function mO(r,t){const n=X.useRef(t);X.useEffect(function(){t!==n.current&&r.attributionControl!=null&&(n.current!=null&&r.attributionControl.removeAttribution(n.current),t!=null&&r.attributionControl.addAttribution(t)),n.current=t},[r,t])}const pO=1;function _O(r){return Object.freeze({__version:pO,map:r})}function gO(r,t){return Object.freeze({...r,...t})}const B_=X.createContext(null);function gb(){const r=X.use(B_);if(r==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return r}function yO(r){function t(n,a){const{instance:l,context:u}=r(n).current;X.useImperativeHandle(a,()=>l);const{children:f}=n;return f==null?null:mf.createElement(B_,{value:u},f)}return X.forwardRef(t)}function vO(r){function t(n,a){const{instance:l}=r(n).current;return X.useImperativeHandle(a,()=>l),null}return X.forwardRef(t)}function TO(r,t){const n=X.useRef(void 0);X.useEffect(function(){return t!=null&&r.instance.on(t),n.current=t,function(){n.current!=null&&r.instance.off(n.current),n.current=null}},[r,t])}function yb(r,t){const n=r.pane??t.pane;return n?{...r,pane:n}:r}var uc={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */var EO=uc.exports,AE;function wO(){return AE||(AE=1,(function(r,t){(function(n,a){a(t)})(EO,(function(n){var a="1.9.4";function l(s){var c,m,T,b;for(m=1,T=arguments.length;m<T;m++){b=arguments[m];for(c in b)s[c]=b[c]}return s}var u=Object.create||(function(){function s(){}return function(c){return s.prototype=c,new s}})();function f(s,c){var m=Array.prototype.slice;if(s.bind)return s.bind.apply(s,m.call(arguments,1));var T=m.call(arguments,2);return function(){return s.apply(c,T.length?T.concat(m.call(arguments)):arguments)}}var _=0;function g(s){return"_leaflet_id"in s||(s._leaflet_id=++_),s._leaflet_id}function v(s,c,m){var T,b,R,k;return k=function(){T=!1,b&&(R.apply(m,b),b=!1)},R=function(){T?b=arguments:(s.apply(m,arguments),setTimeout(k,c),T=!0)},R}function w(s,c,m){var T=c[1],b=c[0],R=T-b;return s===T&&m?s:((s-b)%R+R)%R+b}function S(){return!1}function I(s,c){if(c===!1)return s;var m=Math.pow(10,c===void 0?6:c);return Math.round(s*m)/m}function M(s){return s.trim?s.trim():s.replace(/^\s+|\s+$/g,"")}function q(s){return M(s).split(/\s+/)}function F(s,c){Object.prototype.hasOwnProperty.call(s,"options")||(s.options=s.options?u(s.options):{});for(var m in c)s.options[m]=c[m];return s.options}function Z(s,c,m){var T=[];for(var b in s)T.push(encodeURIComponent(m?b.toUpperCase():b)+"="+encodeURIComponent(s[b]));return(!c||c.indexOf("?")===-1?"?":"&")+T.join("&")}var it=/\{ *([\w_ -]+) *\}/g;function ut(s,c){return s.replace(it,function(m,T){var b=c[T];if(b===void 0)throw new Error("No value provided for variable "+m);return typeof b=="function"&&(b=b(c)),b})}var st=Array.isArray||function(s){return Object.prototype.toString.call(s)==="[object Array]"};function St(s,c){for(var m=0;m<s.length;m++)if(s[m]===c)return m;return-1}var Tt="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function kt(s){return window["webkit"+s]||window["moz"+s]||window["ms"+s]}var z=0;function O(s){var c=+new Date,m=Math.max(0,16-(c-z));return z=c+m,window.setTimeout(s,m)}var D=window.requestAnimationFrame||kt("RequestAnimationFrame")||O,j=window.cancelAnimationFrame||kt("CancelAnimationFrame")||kt("CancelRequestAnimationFrame")||function(s){window.clearTimeout(s)};function B(s,c,m){if(m&&D===O)s.call(c);else return D.call(window,f(s,c))}function G(s){s&&j.call(window,s)}var U={__proto__:null,extend:l,create:u,bind:f,get lastId(){return _},stamp:g,throttle:v,wrapNum:w,falseFn:S,formatNum:I,trim:M,splitWords:q,setOptions:F,getParamString:Z,template:ut,isArray:st,indexOf:St,emptyImageUrl:Tt,requestFn:D,cancelFn:j,requestAnimFrame:B,cancelAnimFrame:G};function ce(){}ce.extend=function(s){var c=function(){F(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},m=c.__super__=this.prototype,T=u(m);T.constructor=c,c.prototype=T;for(var b in this)Object.prototype.hasOwnProperty.call(this,b)&&b!=="prototype"&&b!=="__super__"&&(c[b]=this[b]);return s.statics&&l(c,s.statics),s.includes&&(be(s.includes),l.apply(null,[T].concat(s.includes))),l(T,s),delete T.statics,delete T.includes,T.options&&(T.options=m.options?u(m.options):{},l(T.options,s.options)),T._initHooks=[],T.callInitHooks=function(){if(!this._initHooksCalled){m.callInitHooks&&m.callInitHooks.call(this),this._initHooksCalled=!0;for(var R=0,k=T._initHooks.length;R<k;R++)T._initHooks[R].call(this)}},c},ce.include=function(s){var c=this.prototype.options;return l(this.prototype,s),s.options&&(this.prototype.options=c,this.mergeOptions(s.options)),this},ce.mergeOptions=function(s){return l(this.prototype.options,s),this},ce.addInitHook=function(s){var c=Array.prototype.slice.call(arguments,1),m=typeof s=="function"?s:function(){this[s].apply(this,c)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(m),this};function be(s){if(!(typeof L>"u"||!L||!L.Mixin)){s=st(s)?s:[s];for(var c=0;c<s.length;c++)s[c]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var rt={on:function(s,c,m){if(typeof s=="object")for(var T in s)this._on(T,s[T],c);else{s=q(s);for(var b=0,R=s.length;b<R;b++)this._on(s[b],c,m)}return this},off:function(s,c,m){if(!arguments.length)delete this._events;else if(typeof s=="object")for(var T in s)this._off(T,s[T],c);else{s=q(s);for(var b=arguments.length===1,R=0,k=s.length;R<k;R++)b?this._off(s[R]):this._off(s[R],c,m)}return this},_on:function(s,c,m,T){if(typeof c!="function"){console.warn("wrong listener type: "+typeof c);return}if(this._listens(s,c,m)===!1){m===this&&(m=void 0);var b={fn:c,ctx:m};T&&(b.once=!0),this._events=this._events||{},this._events[s]=this._events[s]||[],this._events[s].push(b)}},_off:function(s,c,m){var T,b,R;if(this._events&&(T=this._events[s],!!T)){if(arguments.length===1){if(this._firingCount)for(b=0,R=T.length;b<R;b++)T[b].fn=S;delete this._events[s];return}if(typeof c!="function"){console.warn("wrong listener type: "+typeof c);return}var k=this._listens(s,c,m);if(k!==!1){var Y=T[k];this._firingCount&&(Y.fn=S,this._events[s]=T=T.slice()),T.splice(k,1)}}},fire:function(s,c,m){if(!this.listens(s,m))return this;var T=l({},c,{type:s,target:this,sourceTarget:c&&c.sourceTarget||this});if(this._events){var b=this._events[s];if(b){this._firingCount=this._firingCount+1||1;for(var R=0,k=b.length;R<k;R++){var Y=b[R],nt=Y.fn;Y.once&&this.off(s,nt,Y.ctx),nt.call(Y.ctx||this,T)}this._firingCount--}}return m&&this._propagateEvent(T),this},listens:function(s,c,m,T){typeof s!="string"&&console.warn('"string" type argument expected');var b=c;typeof c!="function"&&(T=!!c,b=void 0,m=void 0);var R=this._events&&this._events[s];if(R&&R.length&&this._listens(s,b,m)!==!1)return!0;if(T){for(var k in this._eventParents)if(this._eventParents[k].listens(s,c,m,T))return!0}return!1},_listens:function(s,c,m){if(!this._events)return!1;var T=this._events[s]||[];if(!c)return!!T.length;m===this&&(m=void 0);for(var b=0,R=T.length;b<R;b++)if(T[b].fn===c&&T[b].ctx===m)return b;return!1},once:function(s,c,m){if(typeof s=="object")for(var T in s)this._on(T,s[T],c,!0);else{s=q(s);for(var b=0,R=s.length;b<R;b++)this._on(s[b],c,m,!0)}return this},addEventParent:function(s){return this._eventParents=this._eventParents||{},this._eventParents[g(s)]=s,this},removeEventParent:function(s){return this._eventParents&&delete this._eventParents[g(s)],this},_propagateEvent:function(s){for(var c in this._eventParents)this._eventParents[c].fire(s.type,l({layer:s.target,propagatedFrom:s.target},s),!0)}};rt.addEventListener=rt.on,rt.removeEventListener=rt.clearAllEventListeners=rt.off,rt.addOneTimeEventListener=rt.once,rt.fireEvent=rt.fire,rt.hasEventListeners=rt.listens;var Et=ce.extend(rt);function pt(s,c,m){this.x=m?Math.round(s):s,this.y=m?Math.round(c):c}var re=Math.trunc||function(s){return s>0?Math.floor(s):Math.ceil(s)};pt.prototype={clone:function(){return new pt(this.x,this.y)},add:function(s){return this.clone()._add(N(s))},_add:function(s){return this.x+=s.x,this.y+=s.y,this},subtract:function(s){return this.clone()._subtract(N(s))},_subtract:function(s){return this.x-=s.x,this.y-=s.y,this},divideBy:function(s){return this.clone()._divideBy(s)},_divideBy:function(s){return this.x/=s,this.y/=s,this},multiplyBy:function(s){return this.clone()._multiplyBy(s)},_multiplyBy:function(s){return this.x*=s,this.y*=s,this},scaleBy:function(s){return new pt(this.x*s.x,this.y*s.y)},unscaleBy:function(s){return new pt(this.x/s.x,this.y/s.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=re(this.x),this.y=re(this.y),this},distanceTo:function(s){s=N(s);var c=s.x-this.x,m=s.y-this.y;return Math.sqrt(c*c+m*m)},equals:function(s){return s=N(s),s.x===this.x&&s.y===this.y},contains:function(s){return s=N(s),Math.abs(s.x)<=Math.abs(this.x)&&Math.abs(s.y)<=Math.abs(this.y)},toString:function(){return"Point("+I(this.x)+", "+I(this.y)+")"}};function N(s,c,m){return s instanceof pt?s:st(s)?new pt(s[0],s[1]):s==null?s:typeof s=="object"&&"x"in s&&"y"in s?new pt(s.x,s.y):new pt(s,c,m)}function at(s,c){if(s)for(var m=c?[s,c]:s,T=0,b=m.length;T<b;T++)this.extend(m[T])}at.prototype={extend:function(s){var c,m;if(!s)return this;if(s instanceof pt||typeof s[0]=="number"||"x"in s)c=m=N(s);else if(s=gt(s),c=s.min,m=s.max,!c||!m)return this;return!this.min&&!this.max?(this.min=c.clone(),this.max=m.clone()):(this.min.x=Math.min(c.x,this.min.x),this.max.x=Math.max(m.x,this.max.x),this.min.y=Math.min(c.y,this.min.y),this.max.y=Math.max(m.y,this.max.y)),this},getCenter:function(s){return N((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,s)},getBottomLeft:function(){return N(this.min.x,this.max.y)},getTopRight:function(){return N(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(s){var c,m;return typeof s[0]=="number"||s instanceof pt?s=N(s):s=gt(s),s instanceof at?(c=s.min,m=s.max):c=m=s,c.x>=this.min.x&&m.x<=this.max.x&&c.y>=this.min.y&&m.y<=this.max.y},intersects:function(s){s=gt(s);var c=this.min,m=this.max,T=s.min,b=s.max,R=b.x>=c.x&&T.x<=m.x,k=b.y>=c.y&&T.y<=m.y;return R&&k},overlaps:function(s){s=gt(s);var c=this.min,m=this.max,T=s.min,b=s.max,R=b.x>c.x&&T.x<m.x,k=b.y>c.y&&T.y<m.y;return R&&k},isValid:function(){return!!(this.min&&this.max)},pad:function(s){var c=this.min,m=this.max,T=Math.abs(c.x-m.x)*s,b=Math.abs(c.y-m.y)*s;return gt(N(c.x-T,c.y-b),N(m.x+T,m.y+b))},equals:function(s){return s?(s=gt(s),this.min.equals(s.getTopLeft())&&this.max.equals(s.getBottomRight())):!1}};function gt(s,c){return!s||s instanceof at?s:new at(s,c)}function _t(s,c){if(s)for(var m=c?[s,c]:s,T=0,b=m.length;T<b;T++)this.extend(m[T])}_t.prototype={extend:function(s){var c=this._southWest,m=this._northEast,T,b;if(s instanceof It)T=s,b=s;else if(s instanceof _t){if(T=s._southWest,b=s._northEast,!T||!b)return this}else return s?this.extend(vt(s)||wt(s)):this;return!c&&!m?(this._southWest=new It(T.lat,T.lng),this._northEast=new It(b.lat,b.lng)):(c.lat=Math.min(T.lat,c.lat),c.lng=Math.min(T.lng,c.lng),m.lat=Math.max(b.lat,m.lat),m.lng=Math.max(b.lng,m.lng)),this},pad:function(s){var c=this._southWest,m=this._northEast,T=Math.abs(c.lat-m.lat)*s,b=Math.abs(c.lng-m.lng)*s;return new _t(new It(c.lat-T,c.lng-b),new It(m.lat+T,m.lng+b))},getCenter:function(){return new It((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new It(this.getNorth(),this.getWest())},getSouthEast:function(){return new It(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(s){typeof s[0]=="number"||s instanceof It||"lat"in s?s=vt(s):s=wt(s);var c=this._southWest,m=this._northEast,T,b;return s instanceof _t?(T=s.getSouthWest(),b=s.getNorthEast()):T=b=s,T.lat>=c.lat&&b.lat<=m.lat&&T.lng>=c.lng&&b.lng<=m.lng},intersects:function(s){s=wt(s);var c=this._southWest,m=this._northEast,T=s.getSouthWest(),b=s.getNorthEast(),R=b.lat>=c.lat&&T.lat<=m.lat,k=b.lng>=c.lng&&T.lng<=m.lng;return R&&k},overlaps:function(s){s=wt(s);var c=this._southWest,m=this._northEast,T=s.getSouthWest(),b=s.getNorthEast(),R=b.lat>c.lat&&T.lat<m.lat,k=b.lng>c.lng&&T.lng<m.lng;return R&&k},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(s,c){return s?(s=wt(s),this._southWest.equals(s.getSouthWest(),c)&&this._northEast.equals(s.getNorthEast(),c)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function wt(s,c){return s instanceof _t?s:new _t(s,c)}function It(s,c,m){if(isNaN(s)||isNaN(c))throw new Error("Invalid LatLng object: ("+s+", "+c+")");this.lat=+s,this.lng=+c,m!==void 0&&(this.alt=+m)}It.prototype={equals:function(s,c){if(!s)return!1;s=vt(s);var m=Math.max(Math.abs(this.lat-s.lat),Math.abs(this.lng-s.lng));return m<=(c===void 0?1e-9:c)},toString:function(s){return"LatLng("+I(this.lat,s)+", "+I(this.lng,s)+")"},distanceTo:function(s){return Wt.distance(this,vt(s))},wrap:function(){return Wt.wrapLatLng(this)},toBounds:function(s){var c=180*s/40075017,m=c/Math.cos(Math.PI/180*this.lat);return wt([this.lat-c,this.lng-m],[this.lat+c,this.lng+m])},clone:function(){return new It(this.lat,this.lng,this.alt)}};function vt(s,c,m){return s instanceof It?s:st(s)&&typeof s[0]!="object"?s.length===3?new It(s[0],s[1],s[2]):s.length===2?new It(s[0],s[1]):null:s==null?s:typeof s=="object"&&"lat"in s?new It(s.lat,"lng"in s?s.lng:s.lon,s.alt):c===void 0?null:new It(s,c,m)}var Ee={latLngToPoint:function(s,c){var m=this.projection.project(s),T=this.scale(c);return this.transformation._transform(m,T)},pointToLatLng:function(s,c){var m=this.scale(c),T=this.transformation.untransform(s,m);return this.projection.unproject(T)},project:function(s){return this.projection.project(s)},unproject:function(s){return this.projection.unproject(s)},scale:function(s){return 256*Math.pow(2,s)},zoom:function(s){return Math.log(s/256)/Math.LN2},getProjectedBounds:function(s){if(this.infinite)return null;var c=this.projection.bounds,m=this.scale(s),T=this.transformation.transform(c.min,m),b=this.transformation.transform(c.max,m);return new at(T,b)},infinite:!1,wrapLatLng:function(s){var c=this.wrapLng?w(s.lng,this.wrapLng,!0):s.lng,m=this.wrapLat?w(s.lat,this.wrapLat,!0):s.lat,T=s.alt;return new It(m,c,T)},wrapLatLngBounds:function(s){var c=s.getCenter(),m=this.wrapLatLng(c),T=c.lat-m.lat,b=c.lng-m.lng;if(T===0&&b===0)return s;var R=s.getSouthWest(),k=s.getNorthEast(),Y=new It(R.lat-T,R.lng-b),nt=new It(k.lat-T,k.lng-b);return new _t(Y,nt)}},Wt=l({},Ee,{wrapLng:[-180,180],R:6371e3,distance:function(s,c){var m=Math.PI/180,T=s.lat*m,b=c.lat*m,R=Math.sin((c.lat-s.lat)*m/2),k=Math.sin((c.lng-s.lng)*m/2),Y=R*R+Math.cos(T)*Math.cos(b)*k*k,nt=2*Math.atan2(Math.sqrt(Y),Math.sqrt(1-Y));return this.R*nt}}),Jn=6378137,ns={R:Jn,MAX_LATITUDE:85.0511287798,project:function(s){var c=Math.PI/180,m=this.MAX_LATITUDE,T=Math.max(Math.min(m,s.lat),-m),b=Math.sin(T*c);return new pt(this.R*s.lng*c,this.R*Math.log((1+b)/(1-b))/2)},unproject:function(s){var c=180/Math.PI;return new It((2*Math.atan(Math.exp(s.y/this.R))-Math.PI/2)*c,s.x*c/this.R)},bounds:(function(){var s=Jn*Math.PI;return new at([-s,-s],[s,s])})()};function Rr(s,c,m,T){if(st(s)){this._a=s[0],this._b=s[1],this._c=s[2],this._d=s[3];return}this._a=s,this._b=c,this._c=m,this._d=T}Rr.prototype={transform:function(s,c){return this._transform(s.clone(),c)},_transform:function(s,c){return c=c||1,s.x=c*(this._a*s.x+this._b),s.y=c*(this._c*s.y+this._d),s},untransform:function(s,c){return c=c||1,new pt((s.x/c-this._b)/this._a,(s.y/c-this._d)/this._c)}};function Oi(s,c,m,T){return new Rr(s,c,m,T)}var nr=l({},Wt,{code:"EPSG:3857",projection:ns,transformation:(function(){var s=.5/(Math.PI*ns.R);return Oi(s,.5,-s,.5)})()}),Fs=l({},nr,{code:"EPSG:900913"});function tl(s){return document.createElementNS("http://www.w3.org/2000/svg",s)}function Gs(s,c){var m="",T,b,R,k,Y,nt;for(T=0,R=s.length;T<R;T++){for(Y=s[T],b=0,k=Y.length;b<k;b++)nt=Y[b],m+=(b?"L":"M")+nt.x+" "+nt.y;m+=c?xt.svg?"z":"x":""}return m||"M0 0"}var ln=document.documentElement.style,is="ActiveXObject"in window,qe=is&&!document.addEventListener,Fe="msLaunchUri"in navigator&&!("documentMode"in document),mi=un("webkit"),el=un("android"),Zs=un("android 2")||un("android 3"),hu=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),rs=el&&un("Google")&&hu<537&&!("AudioNode"in window),Ni=!!window.opera,Je=!Fe&&un("chrome"),Un=un("gecko")&&!mi&&!Ni&&!is,En=!Je&&un("safari"),nl=un("phantom"),no="OTransition"in ln,il=navigator.platform.indexOf("Win")===0,pi=is&&"transition"in ln,Di="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Zs,ti="MozPerspective"in ln,ei=!window.L_DISABLE_3D&&(pi||Di||ti)&&!no&&!nl,ni=typeof orientation<"u"||un("mobile"),Ks=ni&&mi,io=ni&&Di,ir=!window.PointerEvent&&window.MSPointerEvent,ss=!!(window.PointerEvent||ir),xe="ontouchstart"in window||!!window.TouchEvent,rl=!window.L_NO_TOUCH&&(xe||ss),Ir=ni&&Ni,Lr=ni&&Un,ro=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,so=(function(){var s=!1;try{var c=Object.defineProperty({},"passive",{get:function(){s=!0}});window.addEventListener("testPassiveEventSupport",S,c),window.removeEventListener("testPassiveEventSupport",S,c)}catch{}return s})(),rr=(function(){return!!document.createElement("canvas").getContext})(),ao=!!(document.createElementNS&&tl("svg").createSVGRect),ki=!!ao&&(function(){var s=document.createElement("div");return s.innerHTML="<svg/>",(s.firstChild&&s.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"})(),De=!ao&&(function(){try{var s=document.createElement("div");s.innerHTML='<v:shape adj="1"/>';var c=s.firstChild;return c.style.behavior="url(#default#VML)",c&&typeof c.adj=="object"}catch{return!1}})(),tn=navigator.platform.indexOf("Mac")===0,sr=navigator.platform.indexOf("Linux")===0;function un(s){return navigator.userAgent.toLowerCase().indexOf(s)>=0}var xt={ie:is,ielt9:qe,edge:Fe,webkit:mi,android:el,android23:Zs,androidStock:rs,opera:Ni,chrome:Je,gecko:Un,safari:En,phantom:nl,opera12:no,win:il,ie3d:pi,webkit3d:Di,gecko3d:ti,any3d:ei,mobile:ni,mobileWebkit:Ks,mobileWebkit3d:io,msPointer:ir,pointer:ss,touch:rl,touchNative:xe,mobileOpera:Ir,mobileGecko:Lr,retina:ro,passiveEvents:so,canvas:rr,svg:ao,vml:De,inlineSvg:ki,mac:tn,linux:sr},sl=xt.msPointer?"MSPointerDown":"pointerdown",ii=xt.msPointer?"MSPointerMove":"pointermove",ar=xt.msPointer?"MSPointerUp":"pointerup",as=xt.msPointer?"MSPointerCancel":"pointercancel",ri={touchstart:sl,touchmove:ii,touchend:ar,touchcancel:as},_i={touchstart:Ys,touchmove:Bn,touchend:Bn,touchcancel:Bn},zn={},or=!1;function ke(s,c,m){return c==="touchstart"&&ls(),_i[c]?(m=_i[c].bind(this,m),s.addEventListener(ri[c],m,!1),m):(console.warn("wrong event specified:",c),S)}function al(s,c,m){if(!ri[c]){console.warn("wrong event specified:",c);return}s.removeEventListener(ri[c],m,!1)}function os(s){zn[s.pointerId]=s}function Vi(s){zn[s.pointerId]&&(zn[s.pointerId]=s)}function gi(s){delete zn[s.pointerId]}function ls(){or||(document.addEventListener(sl,os,!0),document.addEventListener(ii,Vi,!0),document.addEventListener(ar,gi,!0),document.addEventListener(as,gi,!0),or=!0)}function Bn(s,c){if(c.pointerType!==(c.MSPOINTER_TYPE_MOUSE||"mouse")){c.touches=[];for(var m in zn)c.touches.push(zn[m]);c.changedTouches=[c],s(c)}}function Ys(s,c){c.MSPOINTER_TYPE_TOUCH&&c.pointerType===c.MSPOINTER_TYPE_TOUCH&&Ie(c),Bn(s,c)}function fu(s){var c={},m,T;for(T in s)m=s[T],c[T]=m&&m.bind?m.bind(s):m;return s=c,c.type="dblclick",c.detail=2,c.isTrusted=!1,c._simulated=!0,c}var us=200;function cs(s,c){s.addEventListener("dblclick",c);var m=0,T;function b(R){if(R.detail!==1){T=R.detail;return}if(!(R.pointerType==="mouse"||R.sourceCapabilities&&!R.sourceCapabilities.firesTouchEvents)){var k=Xs(R);if(!(k.some(function(nt){return nt instanceof HTMLLabelElement&&nt.attributes.for})&&!k.some(function(nt){return nt instanceof HTMLInputElement||nt instanceof HTMLSelectElement}))){var Y=Date.now();Y-m<=us?(T++,T===2&&c(fu(R))):T=1,m=Y}}}return s.addEventListener("click",b),{dblclick:c,simDblclick:b}}function si(s,c){s.removeEventListener("dblclick",c.dblclick),s.removeEventListener("click",c.simDblclick)}var lr=xr(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Ui=xr(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),zi=Ui==="webkitTransition"||Ui==="OTransition"?Ui+"End":"transitionend";function hs(s){return typeof s=="string"?document.getElementById(s):s}function Bi(s,c){var m=s.style[c]||s.currentStyle&&s.currentStyle[c];if((!m||m==="auto")&&document.defaultView){var T=document.defaultView.getComputedStyle(s,null);m=T?T[c]:null}return m==="auto"?null:m}function te(s,c,m){var T=document.createElement(s);return T.className=c||"",m&&m.appendChild(T),T}function se(s){var c=s.parentNode;c&&c.removeChild(s)}function ge(s){for(;s.firstChild;)s.removeChild(s.firstChild)}function Hn(s){var c=s.parentNode;c&&c.lastChild!==s&&c.appendChild(s)}function ai(s){var c=s.parentNode;c&&c.firstChild!==s&&c.insertBefore(s,c.firstChild)}function Hi(s,c){if(s.classList!==void 0)return s.classList.contains(c);var m=Ve(s);return m.length>0&&new RegExp("(^|\\s)"+c+"(\\s|$)").test(m)}function At(s,c){if(s.classList!==void 0)for(var m=q(c),T=0,b=m.length;T<b;T++)s.classList.add(m[T]);else if(!Hi(s,c)){var R=Ve(s);ur(s,(R?R+" ":"")+c)}}function de(s,c){s.classList!==void 0?s.classList.remove(c):ur(s,M((" "+Ve(s)+" ").replace(" "+c+" "," ")))}function ur(s,c){s.className.baseVal===void 0?s.className=c:s.className.baseVal=c}function Ve(s){return s.correspondingElement&&(s=s.correspondingElement),s.className.baseVal===void 0?s.className:s.className.baseVal}function cn(s,c){"opacity"in s.style?s.style.opacity=c:"filter"in s.style&&oo(s,c)}function oo(s,c){var m=!1,T="DXImageTransform.Microsoft.Alpha";try{m=s.filters.item(T)}catch{if(c===1)return}c=Math.round(c*100),m?(m.Enabled=c!==100,m.Opacity=c):s.style.filter+=" progid:"+T+"(opacity="+c+")"}function xr(s){for(var c=document.documentElement.style,m=0;m<s.length;m++)if(s[m]in c)return s[m];return!1}function Ln(s,c,m){var T=c||new pt(0,0);s.style[lr]=(xt.ie3d?"translate("+T.x+"px,"+T.y+"px)":"translate3d("+T.x+"px,"+T.y+"px,0)")+(m?" scale("+m+")":"")}function Re(s,c){s._leaflet_pos=c,xt.any3d?Ln(s,c):(s.style.left=c.x+"px",s.style.top=c.y+"px")}function ji(s){return s._leaflet_pos||new pt(0,0)}var hn,jn,fs;if("onselectstart"in document)hn=function(){Vt(window,"selectstart",Ie)},jn=function(){ae(window,"selectstart",Ie)};else{var cr=xr(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);hn=function(){if(cr){var s=document.documentElement.style;fs=s[cr],s[cr]="none"}},jn=function(){cr&&(document.documentElement.style[cr]=fs,fs=void 0)}}function Pr(){Vt(window,"dragstart",Ie)}function Qs(){ae(window,"dragstart",Ie)}var ds,qn;function ms(s){for(;s.tabIndex===-1;)s=s.parentNode;s.style&&(Mr(),ds=s,qn=s.style.outlineStyle,s.style.outlineStyle="none",Vt(window,"keydown",Mr))}function Mr(){ds&&(ds.style.outlineStyle=qn,ds=void 0,qn=void 0,ae(window,"keydown",Mr))}function hr(s){do s=s.parentNode;while((!s.offsetWidth||!s.offsetHeight)&&s!==document.body);return s}function en(s){var c=s.getBoundingClientRect();return{x:c.width/s.offsetWidth||1,y:c.height/s.offsetHeight||1,boundingClientRect:c}}var ol={__proto__:null,TRANSFORM:lr,TRANSITION:Ui,TRANSITION_END:zi,get:hs,getStyle:Bi,create:te,remove:se,empty:ge,toFront:Hn,toBack:ai,hasClass:Hi,addClass:At,removeClass:de,setClass:ur,getClass:Ve,setOpacity:cn,testProp:xr,setTransform:Ln,setPosition:Re,getPosition:ji,get disableTextSelection(){return hn},get enableTextSelection(){return jn},disableImageDrag:Pr,enableImageDrag:Qs,preventOutline:ms,restoreOutline:Mr,getSizedParentNode:hr,getScale:en};function Vt(s,c,m,T){if(c&&typeof c=="object")for(var b in c)qi(s,b,c[b],m);else{c=q(c);for(var R=0,k=c.length;R<k;R++)qi(s,c[R],m,T)}return this}var fn="_leaflet_events";function ae(s,c,m,T){if(arguments.length===1)dn(s),delete s[fn];else if(c&&typeof c=="object")for(var b in c)xn(s,b,c[b],m);else if(c=q(c),arguments.length===2)dn(s,function(Y){return St(c,Y)!==-1});else for(var R=0,k=c.length;R<k;R++)xn(s,c[R],m,T);return this}function dn(s,c){for(var m in s[fn]){var T=m.split(/\d/)[0];(!c||c(T))&&xn(s,T,null,null,m)}}var yi={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function qi(s,c,m,T){var b=c+g(m)+(T?"_"+g(T):"");if(s[fn]&&s[fn][b])return this;var R=function(Y){return m.call(T||s,Y||window.event)},k=R;!xt.touchNative&&xt.pointer&&c.indexOf("touch")===0?R=ke(s,c,R):xt.touch&&c==="dblclick"?R=cs(s,R):"addEventListener"in s?c==="touchstart"||c==="touchmove"||c==="wheel"||c==="mousewheel"?s.addEventListener(yi[c]||c,R,xt.passiveEvents?{passive:!1}:!1):c==="mouseenter"||c==="mouseleave"?(R=function(Y){Y=Y||window.event,fr(s,Y)&&k(Y)},s.addEventListener(yi[c],R,!1)):s.addEventListener(c,k,!1):s.attachEvent("on"+c,R),s[fn]=s[fn]||{},s[fn][b]=R}function xn(s,c,m,T,b){b=b||c+g(m)+(T?"_"+g(T):"");var R=s[fn]&&s[fn][b];if(!R)return this;!xt.touchNative&&xt.pointer&&c.indexOf("touch")===0?al(s,c,R):xt.touch&&c==="dblclick"?si(s,R):"removeEventListener"in s?s.removeEventListener(yi[c]||c,R,!1):s.detachEvent("on"+c,R),s[fn][b]=null}function oe(s){return s.stopPropagation?s.stopPropagation():s.originalEvent?s.originalEvent._stopped=!0:s.cancelBubble=!0,this}function Or(s){return qi(s,"wheel",oe),this}function Nr(s){return Vt(s,"mousedown touchstart dblclick contextmenu",oe),s._leaflet_disable_click=!0,this}function Ie(s){return s.preventDefault?s.preventDefault():s.returnValue=!1,this}function Fn(s){return Ie(s),oe(s),this}function Xs(s){if(s.composedPath)return s.composedPath();for(var c=[],m=s.target;m;)c.push(m),m=m.parentNode;return c}function He(s,c){if(!c)return new pt(s.clientX,s.clientY);var m=en(c),T=m.boundingClientRect;return new pt((s.clientX-T.left)/m.x-c.clientLeft,(s.clientY-T.top)/m.y-c.clientTop)}var mn=xt.linux&&xt.chrome?window.devicePixelRatio:xt.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Dr(s){return xt.edge?s.wheelDeltaY/2:s.deltaY&&s.deltaMode===0?-s.deltaY/mn:s.deltaY&&s.deltaMode===1?-s.deltaY*20:s.deltaY&&s.deltaMode===2?-s.deltaY*60:s.deltaX||s.deltaZ?0:s.wheelDelta?(s.wheelDeltaY||s.wheelDelta)/2:s.detail&&Math.abs(s.detail)<32765?-s.detail*20:s.detail?s.detail/-32765*60:0}function fr(s,c){var m=c.relatedTarget;if(!m)return!0;try{for(;m&&m!==s;)m=m.parentNode}catch{return!1}return m!==s}var ps={__proto__:null,on:Vt,off:ae,stopPropagation:oe,disableScrollPropagation:Or,disableClickPropagation:Nr,preventDefault:Ie,stop:Fn,getPropagationPath:Xs,getMousePosition:He,getWheelDelta:Dr,isExternalTarget:fr,addListener:Vt,removeListener:ae},_s=Et.extend({run:function(s,c,m,T){this.stop(),this._el=s,this._inProgress=!0,this._duration=m||.25,this._easeOutPower=1/Math.max(T||.5,.2),this._startPos=ji(s),this._offset=c.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=B(this._animate,this),this._step()},_step:function(s){var c=+new Date-this._startTime,m=this._duration*1e3;c<m?this._runFrame(this._easeOut(c/m),s):(this._runFrame(1),this._complete())},_runFrame:function(s,c){var m=this._startPos.add(this._offset.multiplyBy(s));c&&m._round(),Re(this._el,m),this.fire("step")},_complete:function(){G(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(s){return 1-Math.pow(1-s,this._easeOutPower)}}),Zt=Et.extend({options:{crs:nr,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(s,c){c=F(this,c),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(s),this._initLayout(),this._onResize=f(this._onResize,this),this._initEvents(),c.maxBounds&&this.setMaxBounds(c.maxBounds),c.zoom!==void 0&&(this._zoom=this._limitZoom(c.zoom)),c.center&&c.zoom!==void 0&&this.setView(vt(c.center),c.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Ui&&xt.any3d&&!xt.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Vt(this._proxy,zi,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(s,c,m){if(c=c===void 0?this._zoom:this._limitZoom(c),s=this._limitCenter(vt(s),c,this.options.maxBounds),m=m||{},this._stop(),this._loaded&&!m.reset&&m!==!0){m.animate!==void 0&&(m.zoom=l({animate:m.animate},m.zoom),m.pan=l({animate:m.animate,duration:m.duration},m.pan));var T=this._zoom!==c?this._tryAnimatedZoom&&this._tryAnimatedZoom(s,c,m.zoom):this._tryAnimatedPan(s,m.pan);if(T)return clearTimeout(this._sizeTimer),this}return this._resetView(s,c,m.pan&&m.pan.noMoveStart),this},setZoom:function(s,c){return this._loaded?this.setView(this.getCenter(),s,{zoom:c}):(this._zoom=s,this)},zoomIn:function(s,c){return s=s||(xt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+s,c)},zoomOut:function(s,c){return s=s||(xt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-s,c)},setZoomAround:function(s,c,m){var T=this.getZoomScale(c),b=this.getSize().divideBy(2),R=s instanceof pt?s:this.latLngToContainerPoint(s),k=R.subtract(b).multiplyBy(1-1/T),Y=this.containerPointToLatLng(b.add(k));return this.setView(Y,c,{zoom:m})},_getBoundsCenterZoom:function(s,c){c=c||{},s=s.getBounds?s.getBounds():wt(s);var m=N(c.paddingTopLeft||c.padding||[0,0]),T=N(c.paddingBottomRight||c.padding||[0,0]),b=this.getBoundsZoom(s,!1,m.add(T));if(b=typeof c.maxZoom=="number"?Math.min(c.maxZoom,b):b,b===1/0)return{center:s.getCenter(),zoom:b};var R=T.subtract(m).divideBy(2),k=this.project(s.getSouthWest(),b),Y=this.project(s.getNorthEast(),b),nt=this.unproject(k.add(Y).divideBy(2).add(R),b);return{center:nt,zoom:b}},fitBounds:function(s,c){if(s=wt(s),!s.isValid())throw new Error("Bounds are not valid.");var m=this._getBoundsCenterZoom(s,c);return this.setView(m.center,m.zoom,c)},fitWorld:function(s){return this.fitBounds([[-90,-180],[90,180]],s)},panTo:function(s,c){return this.setView(s,this._zoom,{pan:c})},panBy:function(s,c){if(s=N(s).round(),c=c||{},!s.x&&!s.y)return this.fire("moveend");if(c.animate!==!0&&!this.getSize().contains(s))return this._resetView(this.unproject(this.project(this.getCenter()).add(s)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new _s,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),c.noMoveStart||this.fire("movestart"),c.animate!==!1){At(this._mapPane,"leaflet-pan-anim");var m=this._getMapPanePos().subtract(s).round();this._panAnim.run(this._mapPane,m,c.duration||.25,c.easeLinearity)}else this._rawPanBy(s),this.fire("move").fire("moveend");return this},flyTo:function(s,c,m){if(m=m||{},m.animate===!1||!xt.any3d)return this.setView(s,c,m);this._stop();var T=this.project(this.getCenter()),b=this.project(s),R=this.getSize(),k=this._zoom;s=vt(s),c=c===void 0?k:c;var Y=Math.max(R.x,R.y),nt=Y*this.getZoomScale(k,c),mt=b.distanceTo(T)||1,bt=1.42,Lt=bt*bt;function Mt(Me){var Yi=Me?-1:1,_r=Me?nt:Y,Br=nt*nt-Y*Y+Yi*Lt*Lt*mt*mt,gr=2*_r*Lt*mt,So=Br/gr,Tl=Math.sqrt(So*So+1)-So,Ao=Tl<1e-9?-18:Math.log(Tl);return Ao}function qt(Me){return(Math.exp(Me)-Math.exp(-Me))/2}function Se(Me){return(Math.exp(Me)+Math.exp(-Me))/2}function Ue(Me){return qt(Me)/Se(Me)}var _n=Mt(0);function li(Me){return Y*(Se(_n)/Se(_n+bt*Me))}function Wc(Me){return Y*(Se(_n)*Ue(_n+bt*Me)-qt(_n))/Lt}function $c(Me){return 1-Math.pow(1-Me,1.5)}var bo=Date.now(),da=(Mt(1)-_n)/bt,Jc=m.duration?1e3*m.duration:1e3*da*.8;function ma(){var Me=(Date.now()-bo)/Jc,Yi=$c(Me)*da;Me<=1?(this._flyToFrame=B(ma,this),this._move(this.unproject(T.add(b.subtract(T).multiplyBy(Wc(Yi)/mt)),k),this.getScaleZoom(Y/li(Yi),k),{flyTo:!0})):this._move(s,c)._moveEnd(!0)}return this._moveStart(!0,m.noMoveStart),ma.call(this),this},flyToBounds:function(s,c){var m=this._getBoundsCenterZoom(s,c);return this.flyTo(m.center,m.zoom,c)},setMaxBounds:function(s){return s=wt(s),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),s.isValid()?(this.options.maxBounds=s,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(s){var c=this.options.minZoom;return this.options.minZoom=s,this._loaded&&c!==s&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(s):this},setMaxZoom:function(s){var c=this.options.maxZoom;return this.options.maxZoom=s,this._loaded&&c!==s&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(s):this},panInsideBounds:function(s,c){this._enforcingBounds=!0;var m=this.getCenter(),T=this._limitCenter(m,this._zoom,wt(s));return m.equals(T)||this.panTo(T,c),this._enforcingBounds=!1,this},panInside:function(s,c){c=c||{};var m=N(c.paddingTopLeft||c.padding||[0,0]),T=N(c.paddingBottomRight||c.padding||[0,0]),b=this.project(this.getCenter()),R=this.project(s),k=this.getPixelBounds(),Y=gt([k.min.add(m),k.max.subtract(T)]),nt=Y.getSize();if(!Y.contains(R)){this._enforcingBounds=!0;var mt=R.subtract(Y.getCenter()),bt=Y.extend(R).getSize().subtract(nt);b.x+=mt.x<0?-bt.x:bt.x,b.y+=mt.y<0?-bt.y:bt.y,this.panTo(this.unproject(b),c),this._enforcingBounds=!1}return this},invalidateSize:function(s){if(!this._loaded)return this;s=l({animate:!1,pan:!0},s===!0?{animate:!0}:s);var c=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var m=this.getSize(),T=c.divideBy(2).round(),b=m.divideBy(2).round(),R=T.subtract(b);return!R.x&&!R.y?this:(s.animate&&s.pan?this.panBy(R):(s.pan&&this._rawPanBy(R),this.fire("move"),s.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(f(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:c,newSize:m}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(s){if(s=this._locateOptions=l({timeout:1e4,watch:!1},s),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var c=f(this._handleGeolocationResponse,this),m=f(this._handleGeolocationError,this);return s.watch?this._locationWatchId=navigator.geolocation.watchPosition(c,m,s):navigator.geolocation.getCurrentPosition(c,m,s),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(s){if(this._container._leaflet_id){var c=s.code,m=s.message||(c===1?"permission denied":c===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:c,message:"Geolocation error: "+m+"."})}},_handleGeolocationResponse:function(s){if(this._container._leaflet_id){var c=s.coords.latitude,m=s.coords.longitude,T=new It(c,m),b=T.toBounds(s.coords.accuracy*2),R=this._locateOptions;if(R.setView){var k=this.getBoundsZoom(b);this.setView(T,R.maxZoom?Math.min(k,R.maxZoom):k)}var Y={latlng:T,bounds:b,timestamp:s.timestamp};for(var nt in s.coords)typeof s.coords[nt]=="number"&&(Y[nt]=s.coords[nt]);this.fire("locationfound",Y)}},addHandler:function(s,c){if(!c)return this;var m=this[s]=new c(this);return this._handlers.push(m),this.options[s]&&m.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),se(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(G(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var s;for(s in this._layers)this._layers[s].remove();for(s in this._panes)se(this._panes[s]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(s,c){var m="leaflet-pane"+(s?" leaflet-"+s.replace("Pane","")+"-pane":""),T=te("div",m,c||this._mapPane);return s&&(this._panes[s]=T),T},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var s=this.getPixelBounds(),c=this.unproject(s.getBottomLeft()),m=this.unproject(s.getTopRight());return new _t(c,m)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(s,c,m){s=wt(s),m=N(m||[0,0]);var T=this.getZoom()||0,b=this.getMinZoom(),R=this.getMaxZoom(),k=s.getNorthWest(),Y=s.getSouthEast(),nt=this.getSize().subtract(m),mt=gt(this.project(Y,T),this.project(k,T)).getSize(),bt=xt.any3d?this.options.zoomSnap:1,Lt=nt.x/mt.x,Mt=nt.y/mt.y,qt=c?Math.max(Lt,Mt):Math.min(Lt,Mt);return T=this.getScaleZoom(qt,T),bt&&(T=Math.round(T/(bt/100))*(bt/100),T=c?Math.ceil(T/bt)*bt:Math.floor(T/bt)*bt),Math.max(b,Math.min(R,T))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new pt(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(s,c){var m=this._getTopLeftPoint(s,c);return new at(m,m.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(s){return this.options.crs.getProjectedBounds(s===void 0?this.getZoom():s)},getPane:function(s){return typeof s=="string"?this._panes[s]:s},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(s,c){var m=this.options.crs;return c=c===void 0?this._zoom:c,m.scale(s)/m.scale(c)},getScaleZoom:function(s,c){var m=this.options.crs;c=c===void 0?this._zoom:c;var T=m.zoom(s*m.scale(c));return isNaN(T)?1/0:T},project:function(s,c){return c=c===void 0?this._zoom:c,this.options.crs.latLngToPoint(vt(s),c)},unproject:function(s,c){return c=c===void 0?this._zoom:c,this.options.crs.pointToLatLng(N(s),c)},layerPointToLatLng:function(s){var c=N(s).add(this.getPixelOrigin());return this.unproject(c)},latLngToLayerPoint:function(s){var c=this.project(vt(s))._round();return c._subtract(this.getPixelOrigin())},wrapLatLng:function(s){return this.options.crs.wrapLatLng(vt(s))},wrapLatLngBounds:function(s){return this.options.crs.wrapLatLngBounds(wt(s))},distance:function(s,c){return this.options.crs.distance(vt(s),vt(c))},containerPointToLayerPoint:function(s){return N(s).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(s){return N(s).add(this._getMapPanePos())},containerPointToLatLng:function(s){var c=this.containerPointToLayerPoint(N(s));return this.layerPointToLatLng(c)},latLngToContainerPoint:function(s){return this.layerPointToContainerPoint(this.latLngToLayerPoint(vt(s)))},mouseEventToContainerPoint:function(s){return He(s,this._container)},mouseEventToLayerPoint:function(s){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(s))},mouseEventToLatLng:function(s){return this.layerPointToLatLng(this.mouseEventToLayerPoint(s))},_initContainer:function(s){var c=this._container=hs(s);if(c){if(c._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Vt(c,"scroll",this._onScroll,this),this._containerId=g(c)},_initLayout:function(){var s=this._container;this._fadeAnimated=this.options.fadeAnimation&&xt.any3d,At(s,"leaflet-container"+(xt.touch?" leaflet-touch":"")+(xt.retina?" leaflet-retina":"")+(xt.ielt9?" leaflet-oldie":"")+(xt.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var c=Bi(s,"position");c!=="absolute"&&c!=="relative"&&c!=="fixed"&&c!=="sticky"&&(s.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var s=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Re(this._mapPane,new pt(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(At(s.markerPane,"leaflet-zoom-hide"),At(s.shadowPane,"leaflet-zoom-hide"))},_resetView:function(s,c,m){Re(this._mapPane,new pt(0,0));var T=!this._loaded;this._loaded=!0,c=this._limitZoom(c),this.fire("viewprereset");var b=this._zoom!==c;this._moveStart(b,m)._move(s,c)._moveEnd(b),this.fire("viewreset"),T&&this.fire("load")},_moveStart:function(s,c){return s&&this.fire("zoomstart"),c||this.fire("movestart"),this},_move:function(s,c,m,T){c===void 0&&(c=this._zoom);var b=this._zoom!==c;return this._zoom=c,this._lastCenter=s,this._pixelOrigin=this._getNewPixelOrigin(s),T?m&&m.pinch&&this.fire("zoom",m):((b||m&&m.pinch)&&this.fire("zoom",m),this.fire("move",m)),this},_moveEnd:function(s){return s&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return G(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(s){Re(this._mapPane,this._getMapPanePos().subtract(s))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(s){this._targets={},this._targets[g(this._container)]=this;var c=s?ae:Vt;c(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&c(window,"resize",this._onResize,this),xt.any3d&&this.options.transform3DLimit&&(s?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){G(this._resizeRequest),this._resizeRequest=B(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var s=this._getMapPanePos();Math.max(Math.abs(s.x),Math.abs(s.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(s,c){for(var m=[],T,b=c==="mouseout"||c==="mouseover",R=s.target||s.srcElement,k=!1;R;){if(T=this._targets[g(R)],T&&(c==="click"||c==="preclick")&&this._draggableMoved(T)){k=!0;break}if(T&&T.listens(c,!0)&&(b&&!fr(R,s)||(m.push(T),b))||R===this._container)break;R=R.parentNode}return!m.length&&!k&&!b&&this.listens(c,!0)&&(m=[this]),m},_isClickDisabled:function(s){for(;s&&s!==this._container;){if(s._leaflet_disable_click)return!0;s=s.parentNode}},_handleDOMEvent:function(s){var c=s.target||s.srcElement;if(!(!this._loaded||c._leaflet_disable_events||s.type==="click"&&this._isClickDisabled(c))){var m=s.type;m==="mousedown"&&ms(c),this._fireDOMEvent(s,m)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(s,c,m){if(s.type==="click"){var T=l({},s);T.type="preclick",this._fireDOMEvent(T,T.type,m)}var b=this._findEventTargets(s,c);if(m){for(var R=[],k=0;k<m.length;k++)m[k].listens(c,!0)&&R.push(m[k]);b=R.concat(b)}if(b.length){c==="contextmenu"&&Ie(s);var Y=b[0],nt={originalEvent:s};if(s.type!=="keypress"&&s.type!=="keydown"&&s.type!=="keyup"){var mt=Y.getLatLng&&(!Y._radius||Y._radius<=10);nt.containerPoint=mt?this.latLngToContainerPoint(Y.getLatLng()):this.mouseEventToContainerPoint(s),nt.layerPoint=this.containerPointToLayerPoint(nt.containerPoint),nt.latlng=mt?Y.getLatLng():this.layerPointToLatLng(nt.layerPoint)}for(k=0;k<b.length;k++)if(b[k].fire(c,nt,!0),nt.originalEvent._stopped||b[k].options.bubblingMouseEvents===!1&&St(this._mouseEvents,c)!==-1)return}},_draggableMoved:function(s){return s=s.dragging&&s.dragging.enabled()?s:this,s.dragging&&s.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var s=0,c=this._handlers.length;s<c;s++)this._handlers[s].disable()},whenReady:function(s,c){return this._loaded?s.call(c||this,{target:this}):this.on("load",s,c),this},_getMapPanePos:function(){return ji(this._mapPane)||new pt(0,0)},_moved:function(){var s=this._getMapPanePos();return s&&!s.equals([0,0])},_getTopLeftPoint:function(s,c){var m=s&&c!==void 0?this._getNewPixelOrigin(s,c):this.getPixelOrigin();return m.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(s,c){var m=this.getSize()._divideBy(2);return this.project(s,c)._subtract(m)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(s,c,m){var T=this._getNewPixelOrigin(m,c);return this.project(s,c)._subtract(T)},_latLngBoundsToNewLayerBounds:function(s,c,m){var T=this._getNewPixelOrigin(m,c);return gt([this.project(s.getSouthWest(),c)._subtract(T),this.project(s.getNorthWest(),c)._subtract(T),this.project(s.getSouthEast(),c)._subtract(T),this.project(s.getNorthEast(),c)._subtract(T)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(s){return this.latLngToLayerPoint(s).subtract(this._getCenterLayerPoint())},_limitCenter:function(s,c,m){if(!m)return s;var T=this.project(s,c),b=this.getSize().divideBy(2),R=new at(T.subtract(b),T.add(b)),k=this._getBoundsOffset(R,m,c);return Math.abs(k.x)<=1&&Math.abs(k.y)<=1?s:this.unproject(T.add(k),c)},_limitOffset:function(s,c){if(!c)return s;var m=this.getPixelBounds(),T=new at(m.min.add(s),m.max.add(s));return s.add(this._getBoundsOffset(T,c))},_getBoundsOffset:function(s,c,m){var T=gt(this.project(c.getNorthEast(),m),this.project(c.getSouthWest(),m)),b=T.min.subtract(s.min),R=T.max.subtract(s.max),k=this._rebound(b.x,-R.x),Y=this._rebound(b.y,-R.y);return new pt(k,Y)},_rebound:function(s,c){return s+c>0?Math.round(s-c)/2:Math.max(0,Math.ceil(s))-Math.max(0,Math.floor(c))},_limitZoom:function(s){var c=this.getMinZoom(),m=this.getMaxZoom(),T=xt.any3d?this.options.zoomSnap:1;return T&&(s=Math.round(s/T)*T),Math.max(c,Math.min(m,s))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){de(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(s,c){var m=this._getCenterOffset(s)._trunc();return(c&&c.animate)!==!0&&!this.getSize().contains(m)?!1:(this.panBy(m,c),!0)},_createAnimProxy:function(){var s=this._proxy=te("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(s),this.on("zoomanim",function(c){var m=lr,T=this._proxy.style[m];Ln(this._proxy,this.project(c.center,c.zoom),this.getZoomScale(c.zoom,1)),T===this._proxy.style[m]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){se(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var s=this.getCenter(),c=this.getZoom();Ln(this._proxy,this.project(s,c),this.getZoomScale(c,1))},_catchTransitionEnd:function(s){this._animatingZoom&&s.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(s,c,m){if(this._animatingZoom)return!0;if(m=m||{},!this._zoomAnimated||m.animate===!1||this._nothingToAnimate()||Math.abs(c-this._zoom)>this.options.zoomAnimationThreshold)return!1;var T=this.getZoomScale(c),b=this._getCenterOffset(s)._divideBy(1-1/T);return m.animate!==!0&&!this.getSize().contains(b)?!1:(B(function(){this._moveStart(!0,m.noMoveStart||!1)._animateZoom(s,c,!0)},this),!0)},_animateZoom:function(s,c,m,T){this._mapPane&&(m&&(this._animatingZoom=!0,this._animateToCenter=s,this._animateToZoom=c,At(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:s,zoom:c,noUpdate:T}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(f(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&de(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Fi(s,c){return new Zt(s,c)}var nn=ce.extend({options:{position:"topright"},initialize:function(s){F(this,s)},getPosition:function(){return this.options.position},setPosition:function(s){var c=this._map;return c&&c.removeControl(this),this.options.position=s,c&&c.addControl(this),this},getContainer:function(){return this._container},addTo:function(s){this.remove(),this._map=s;var c=this._container=this.onAdd(s),m=this.getPosition(),T=s._controlCorners[m];return At(c,"leaflet-control"),m.indexOf("bottom")!==-1?T.insertBefore(c,T.firstChild):T.appendChild(c),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(se(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(s){this._map&&s&&s.screenX>0&&s.screenY>0&&this._map.getContainer().focus()}}),vi=function(s){return new nn(s)};Zt.include({addControl:function(s){return s.addTo(this),this},removeControl:function(s){return s.remove(),this},_initControlPos:function(){var s=this._controlCorners={},c="leaflet-",m=this._controlContainer=te("div",c+"control-container",this._container);function T(b,R){var k=c+b+" "+c+R;s[b+R]=te("div",k,m)}T("top","left"),T("top","right"),T("bottom","left"),T("bottom","right")},_clearControlPos:function(){for(var s in this._controlCorners)se(this._controlCorners[s]);se(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var ll=nn.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(s,c,m,T){return m<T?-1:T<m?1:0}},initialize:function(s,c,m){F(this,m),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var T in s)this._addLayer(s[T],T);for(T in c)this._addLayer(c[T],T,!0)},onAdd:function(s){this._initLayout(),this._update(),this._map=s,s.on("zoomend",this._checkDisabledLayers,this);for(var c=0;c<this._layers.length;c++)this._layers[c].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(s){return nn.prototype.addTo.call(this,s),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var s=0;s<this._layers.length;s++)this._layers[s].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(s,c){return this._addLayer(s,c),this._map?this._update():this},addOverlay:function(s,c){return this._addLayer(s,c,!0),this._map?this._update():this},removeLayer:function(s){s.off("add remove",this._onLayerChange,this);var c=this._getLayer(g(s));return c&&this._layers.splice(this._layers.indexOf(c),1),this._map?this._update():this},expand:function(){At(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var s=this._map.getSize().y-(this._container.offsetTop+50);return s<this._section.clientHeight?(At(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=s+"px"):de(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return de(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var s="leaflet-control-layers",c=this._container=te("div",s),m=this.options.collapsed;c.setAttribute("aria-haspopup",!0),Nr(c),Or(c);var T=this._section=te("section",s+"-list");m&&(this._map.on("click",this.collapse,this),Vt(c,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var b=this._layersLink=te("a",s+"-toggle",c);b.href="#",b.title="Layers",b.setAttribute("role","button"),Vt(b,{keydown:function(R){R.keyCode===13&&this._expandSafely()},click:function(R){Ie(R),this._expandSafely()}},this),m||this.expand(),this._baseLayersList=te("div",s+"-base",T),this._separator=te("div",s+"-separator",T),this._overlaysList=te("div",s+"-overlays",T),c.appendChild(T)},_getLayer:function(s){for(var c=0;c<this._layers.length;c++)if(this._layers[c]&&g(this._layers[c].layer)===s)return this._layers[c]},_addLayer:function(s,c,m){this._map&&s.on("add remove",this._onLayerChange,this),this._layers.push({layer:s,name:c,overlay:m}),this.options.sortLayers&&this._layers.sort(f(function(T,b){return this.options.sortFunction(T.layer,b.layer,T.name,b.name)},this)),this.options.autoZIndex&&s.setZIndex&&(this._lastZIndex++,s.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;ge(this._baseLayersList),ge(this._overlaysList),this._layerControlInputs=[];var s,c,m,T,b=0;for(m=0;m<this._layers.length;m++)T=this._layers[m],this._addItem(T),c=c||T.overlay,s=s||!T.overlay,b+=T.overlay?0:1;return this.options.hideSingleBase&&(s=s&&b>1,this._baseLayersList.style.display=s?"":"none"),this._separator.style.display=c&&s?"":"none",this},_onLayerChange:function(s){this._handlingClick||this._update();var c=this._getLayer(g(s.target)),m=c.overlay?s.type==="add"?"overlayadd":"overlayremove":s.type==="add"?"baselayerchange":null;m&&this._map.fire(m,c)},_createRadioElement:function(s,c){var m='<input type="radio" class="leaflet-control-layers-selector" name="'+s+'"'+(c?' checked="checked"':"")+"/>",T=document.createElement("div");return T.innerHTML=m,T.firstChild},_addItem:function(s){var c=document.createElement("label"),m=this._map.hasLayer(s.layer),T;s.overlay?(T=document.createElement("input"),T.type="checkbox",T.className="leaflet-control-layers-selector",T.defaultChecked=m):T=this._createRadioElement("leaflet-base-layers_"+g(this),m),this._layerControlInputs.push(T),T.layerId=g(s.layer),Vt(T,"click",this._onInputClick,this);var b=document.createElement("span");b.innerHTML=" "+s.name;var R=document.createElement("span");c.appendChild(R),R.appendChild(T),R.appendChild(b);var k=s.overlay?this._overlaysList:this._baseLayersList;return k.appendChild(c),this._checkDisabledLayers(),c},_onInputClick:function(){if(!this._preventClick){var s=this._layerControlInputs,c,m,T=[],b=[];this._handlingClick=!0;for(var R=s.length-1;R>=0;R--)c=s[R],m=this._getLayer(c.layerId).layer,c.checked?T.push(m):c.checked||b.push(m);for(R=0;R<b.length;R++)this._map.hasLayer(b[R])&&this._map.removeLayer(b[R]);for(R=0;R<T.length;R++)this._map.hasLayer(T[R])||this._map.addLayer(T[R]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var s=this._layerControlInputs,c,m,T=this._map.getZoom(),b=s.length-1;b>=0;b--)c=s[b],m=this._getLayer(c.layerId).layer,c.disabled=m.options.minZoom!==void 0&&T<m.options.minZoom||m.options.maxZoom!==void 0&&T>m.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var s=this._section;this._preventClick=!0,Vt(s,"click",Ie),this.expand();var c=this;setTimeout(function(){ae(s,"click",Ie),c._preventClick=!1})}}),ul=function(s,c,m){return new ll(s,c,m)},dr=nn.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(s){var c="leaflet-control-zoom",m=te("div",c+" leaflet-bar"),T=this.options;return this._zoomInButton=this._createButton(T.zoomInText,T.zoomInTitle,c+"-in",m,this._zoomIn),this._zoomOutButton=this._createButton(T.zoomOutText,T.zoomOutTitle,c+"-out",m,this._zoomOut),this._updateDisabled(),s.on("zoomend zoomlevelschange",this._updateDisabled,this),m},onRemove:function(s){s.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(s){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(s.shiftKey?3:1))},_zoomOut:function(s){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(s.shiftKey?3:1))},_createButton:function(s,c,m,T,b){var R=te("a",m,T);return R.innerHTML=s,R.href="#",R.title=c,R.setAttribute("role","button"),R.setAttribute("aria-label",c),Nr(R),Vt(R,"click",Fn),Vt(R,"click",b,this),Vt(R,"click",this._refocusOnMap,this),R},_updateDisabled:function(){var s=this._map,c="leaflet-disabled";de(this._zoomInButton,c),de(this._zoomOutButton,c),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||s._zoom===s.getMinZoom())&&(At(this._zoomOutButton,c),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||s._zoom===s.getMaxZoom())&&(At(this._zoomInButton,c),this._zoomInButton.setAttribute("aria-disabled","true"))}});Zt.mergeOptions({zoomControl:!0}),Zt.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new dr,this.addControl(this.zoomControl))});var Ws=function(s){return new dr(s)},lo=nn.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(s){var c="leaflet-control-scale",m=te("div",c),T=this.options;return this._addScales(T,c+"-line",m),s.on(T.updateWhenIdle?"moveend":"move",this._update,this),s.whenReady(this._update,this),m},onRemove:function(s){s.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(s,c,m){s.metric&&(this._mScale=te("div",c,m)),s.imperial&&(this._iScale=te("div",c,m))},_update:function(){var s=this._map,c=s.getSize().y/2,m=s.distance(s.containerPointToLatLng([0,c]),s.containerPointToLatLng([this.options.maxWidth,c]));this._updateScales(m)},_updateScales:function(s){this.options.metric&&s&&this._updateMetric(s),this.options.imperial&&s&&this._updateImperial(s)},_updateMetric:function(s){var c=this._getRoundNum(s),m=c<1e3?c+" m":c/1e3+" km";this._updateScale(this._mScale,m,c/s)},_updateImperial:function(s){var c=s*3.2808399,m,T,b;c>5280?(m=c/5280,T=this._getRoundNum(m),this._updateScale(this._iScale,T+" mi",T/m)):(b=this._getRoundNum(c),this._updateScale(this._iScale,b+" ft",b/c))},_updateScale:function(s,c,m){s.style.width=Math.round(this.options.maxWidth*m)+"px",s.innerHTML=c},_getRoundNum:function(s){var c=Math.pow(10,(Math.floor(s)+"").length-1),m=s/c;return m=m>=10?10:m>=5?5:m>=3?3:m>=2?2:1,c*m}}),uo=function(s){return new lo(s)},co='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',$s=nn.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(xt.inlineSvg?co+" ":"")+"Leaflet</a>"},initialize:function(s){F(this,s),this._attributions={}},onAdd:function(s){s.attributionControl=this,this._container=te("div","leaflet-control-attribution"),Nr(this._container);for(var c in s._layers)s._layers[c].getAttribution&&this.addAttribution(s._layers[c].getAttribution());return this._update(),s.on("layeradd",this._addAttribution,this),this._container},onRemove:function(s){s.off("layeradd",this._addAttribution,this)},_addAttribution:function(s){s.layer.getAttribution&&(this.addAttribution(s.layer.getAttribution()),s.layer.once("remove",function(){this.removeAttribution(s.layer.getAttribution())},this))},setPrefix:function(s){return this.options.prefix=s,this._update(),this},addAttribution:function(s){return s?(this._attributions[s]||(this._attributions[s]=0),this._attributions[s]++,this._update(),this):this},removeAttribution:function(s){return s?(this._attributions[s]&&(this._attributions[s]--,this._update()),this):this},_update:function(){if(this._map){var s=[];for(var c in this._attributions)this._attributions[c]&&s.push(c);var m=[];this.options.prefix&&m.push(this.options.prefix),s.length&&m.push(s.join(", ")),this._container.innerHTML=m.join(' <span aria-hidden="true">|</span> ')}}});Zt.mergeOptions({attributionControl:!0}),Zt.addInitHook(function(){this.options.attributionControl&&new $s().addTo(this)});var Js=function(s){return new $s(s)};nn.Layers=ll,nn.Zoom=dr,nn.Scale=lo,nn.Attribution=$s,vi.layers=ul,vi.zoom=Ws,vi.scale=uo,vi.attribution=Js;var Pn=ce.extend({initialize:function(s){this._map=s},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Pn.addTo=function(s,c){return s.addHandler(c,this),this};var cl={Events:rt},Gi=xt.touch?"touchstart mousedown":"mousedown",Ti=Et.extend({options:{clickTolerance:3},initialize:function(s,c,m,T){F(this,T),this._element=s,this._dragStartTarget=c||s,this._preventOutline=m},enable:function(){this._enabled||(Vt(this._dragStartTarget,Gi,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Ti._dragging===this&&this.finishDrag(!0),ae(this._dragStartTarget,Gi,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(s){if(this._enabled&&(this._moved=!1,!Hi(this._element,"leaflet-zoom-anim"))){if(s.touches&&s.touches.length!==1){Ti._dragging===this&&this.finishDrag();return}if(!(Ti._dragging||s.shiftKey||s.which!==1&&s.button!==1&&!s.touches)&&(Ti._dragging=this,this._preventOutline&&ms(this._element),Pr(),hn(),!this._moving)){this.fire("down");var c=s.touches?s.touches[0]:s,m=hr(this._element);this._startPoint=new pt(c.clientX,c.clientY),this._startPos=ji(this._element),this._parentScale=en(m);var T=s.type==="mousedown";Vt(document,T?"mousemove":"touchmove",this._onMove,this),Vt(document,T?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(s){if(this._enabled){if(s.touches&&s.touches.length>1){this._moved=!0;return}var c=s.touches&&s.touches.length===1?s.touches[0]:s,m=new pt(c.clientX,c.clientY)._subtract(this._startPoint);!m.x&&!m.y||Math.abs(m.x)+Math.abs(m.y)<this.options.clickTolerance||(m.x/=this._parentScale.x,m.y/=this._parentScale.y,Ie(s),this._moved||(this.fire("dragstart"),this._moved=!0,At(document.body,"leaflet-dragging"),this._lastTarget=s.target||s.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),At(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(m),this._moving=!0,this._lastEvent=s,this._updatePosition())}},_updatePosition:function(){var s={originalEvent:this._lastEvent};this.fire("predrag",s),Re(this._element,this._newPos),this.fire("drag",s)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(s){de(document.body,"leaflet-dragging"),this._lastTarget&&(de(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),ae(document,"mousemove touchmove",this._onMove,this),ae(document,"mouseup touchend touchcancel",this._onUp,this),Qs(),jn();var c=this._moved&&this._moving;this._moving=!1,Ti._dragging=!1,c&&this.fire("dragend",{noInertia:s,distance:this._newPos.distanceTo(this._startPos)})}});function ho(s,c,m){var T,b=[1,4,2,8],R,k,Y,nt,mt,bt,Lt,Mt;for(R=0,bt=s.length;R<bt;R++)s[R]._code=tt(s[R],c);for(Y=0;Y<4;Y++){for(Lt=b[Y],T=[],R=0,bt=s.length,k=bt-1;R<bt;k=R++)nt=s[R],mt=s[k],nt._code&Lt?mt._code&Lt||(Mt=Q(mt,nt,Lt,c,m),Mt._code=tt(Mt,c),T.push(Mt)):(mt._code&Lt&&(Mt=Q(mt,nt,Lt,c,m),Mt._code=tt(Mt,c),T.push(Mt)),T.push(nt));s=T}return s}function gs(s,c){var m,T,b,R,k,Y,nt,mt,bt;if(!s||s.length===0)throw new Error("latlngs not passed");Qt(s)||(console.warn("latlngs are not flat! Only the first ring will be used"),s=s[0]);var Lt=vt([0,0]),Mt=wt(s),qt=Mt.getNorthWest().distanceTo(Mt.getSouthWest())*Mt.getNorthEast().distanceTo(Mt.getNorthWest());qt<1700&&(Lt=ta(s));var Se=s.length,Ue=[];for(m=0;m<Se;m++){var _n=vt(s[m]);Ue.push(c.project(vt([_n.lat-Lt.lat,_n.lng-Lt.lng])))}for(Y=nt=mt=0,m=0,T=Se-1;m<Se;T=m++)b=Ue[m],R=Ue[T],k=b.y*R.x-R.y*b.x,nt+=(b.x+R.x)*k,mt+=(b.y+R.y)*k,Y+=k*3;Y===0?bt=Ue[0]:bt=[nt/Y,mt/Y];var li=c.unproject(N(bt));return vt([li.lat+Lt.lat,li.lng+Lt.lng])}function ta(s){for(var c=0,m=0,T=0,b=0;b<s.length;b++){var R=vt(s[b]);c+=R.lat,m+=R.lng,T++}return vt([c/T,m/T])}var ea={__proto__:null,clipPolygon:ho,polygonCenter:gs,centroid:ta};function pn(s,c){if(!c||!s.length)return s.slice();var m=c*c;return s=E(s,m),s=kr(s,m),s}function na(s,c,m){return Math.sqrt(Ut(s,c,m,!0))}function hl(s,c,m){return Ut(s,c,m)}function kr(s,c){var m=s.length,T=typeof Uint8Array<"u"?Uint8Array:Array,b=new T(m);b[0]=b[m-1]=1,d(s,b,c,0,m-1);var R,k=[];for(R=0;R<m;R++)b[R]&&k.push(s[R]);return k}function d(s,c,m,T,b){var R=0,k,Y,nt;for(Y=T+1;Y<=b-1;Y++)nt=Ut(s[Y],s[T],s[b],!0),nt>R&&(k=Y,R=nt);R>m&&(c[k]=1,d(s,c,m,T,k),d(s,c,m,k,b))}function E(s,c){for(var m=[s[0]],T=1,b=0,R=s.length;T<R;T++)yt(s[T],s[b])>c&&(m.push(s[T]),b=T);return b<R-1&&m.push(s[R-1]),m}var A;function P(s,c,m,T,b){var R=T?A:tt(s,m),k=tt(c,m),Y,nt,mt;for(A=k;;){if(!(R|k))return[s,c];if(R&k)return!1;Y=R||k,nt=Q(s,c,Y,m,b),mt=tt(nt,m),Y===R?(s=nt,R=mt):(c=nt,k=mt)}}function Q(s,c,m,T,b){var R=c.x-s.x,k=c.y-s.y,Y=T.min,nt=T.max,mt,bt;return m&8?(mt=s.x+R*(nt.y-s.y)/k,bt=nt.y):m&4?(mt=s.x+R*(Y.y-s.y)/k,bt=Y.y):m&2?(mt=nt.x,bt=s.y+k*(nt.x-s.x)/R):m&1&&(mt=Y.x,bt=s.y+k*(Y.x-s.x)/R),new pt(mt,bt,b)}function tt(s,c){var m=0;return s.x<c.min.x?m|=1:s.x>c.max.x&&(m|=2),s.y<c.min.y?m|=4:s.y>c.max.y&&(m|=8),m}function yt(s,c){var m=c.x-s.x,T=c.y-s.y;return m*m+T*T}function Ut(s,c,m,T){var b=c.x,R=c.y,k=m.x-b,Y=m.y-R,nt=k*k+Y*Y,mt;return nt>0&&(mt=((s.x-b)*k+(s.y-R)*Y)/nt,mt>1?(b=m.x,R=m.y):mt>0&&(b+=k*mt,R+=Y*mt)),k=s.x-b,Y=s.y-R,T?k*k+Y*Y:new pt(b,R)}function Qt(s){return!st(s[0])||typeof s[0][0]!="object"&&typeof s[0][0]<"u"}function he(s){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Qt(s)}function Pe(s,c){var m,T,b,R,k,Y,nt,mt;if(!s||s.length===0)throw new Error("latlngs not passed");Qt(s)||(console.warn("latlngs are not flat! Only the first ring will be used"),s=s[0]);var bt=vt([0,0]),Lt=wt(s),Mt=Lt.getNorthWest().distanceTo(Lt.getSouthWest())*Lt.getNorthEast().distanceTo(Lt.getNorthWest());Mt<1700&&(bt=ta(s));var qt=s.length,Se=[];for(m=0;m<qt;m++){var Ue=vt(s[m]);Se.push(c.project(vt([Ue.lat-bt.lat,Ue.lng-bt.lng])))}for(m=0,T=0;m<qt-1;m++)T+=Se[m].distanceTo(Se[m+1])/2;if(T===0)mt=Se[0];else for(m=0,R=0;m<qt-1;m++)if(k=Se[m],Y=Se[m+1],b=k.distanceTo(Y),R+=b,R>T){nt=(R-T)/b,mt=[Y.x-nt*(Y.x-k.x),Y.y-nt*(Y.y-k.y)];break}var _n=c.unproject(N(mt));return vt([_n.lat+bt.lat,_n.lng+bt.lng])}var Gn={__proto__:null,simplify:pn,pointToSegmentDistance:na,closestPointOnSegment:hl,clipSegment:P,_getEdgeIntersection:Q,_getBitCode:tt,_sqClosestPointOnSegment:Ut,isFlat:Qt,_flat:he,polylineCenter:Pe},oi={project:function(s){return new pt(s.lng,s.lat)},unproject:function(s){return new It(s.y,s.x)},bounds:new at([-180,-90],[180,90])},Zn={R:6378137,R_MINOR:6356752314245179e-9,bounds:new at([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(s){var c=Math.PI/180,m=this.R,T=s.lat*c,b=this.R_MINOR/m,R=Math.sqrt(1-b*b),k=R*Math.sin(T),Y=Math.tan(Math.PI/4-T/2)/Math.pow((1-k)/(1+k),R/2);return T=-m*Math.log(Math.max(Y,1e-10)),new pt(s.lng*c*m,T)},unproject:function(s){for(var c=180/Math.PI,m=this.R,T=this.R_MINOR/m,b=Math.sqrt(1-T*T),R=Math.exp(-s.y/m),k=Math.PI/2-2*Math.atan(R),Y=0,nt=.1,mt;Y<15&&Math.abs(nt)>1e-7;Y++)mt=b*Math.sin(k),mt=Math.pow((1-mt)/(1+mt),b/2),nt=Math.PI/2-2*Math.atan(R*mt)-k,k+=nt;return new It(k*c,s.x*c/m)}},Ei={__proto__:null,LonLat:oi,Mercator:Zn,SphericalMercator:ns},wi=l({},Wt,{code:"EPSG:3395",projection:Zn,transformation:(function(){var s=.5/(Math.PI*Zn.R);return Oi(s,.5,-s,.5)})()}),ia=l({},Wt,{code:"EPSG:4326",projection:oi,transformation:Oi(1/180,1,-1/180,.5)}),rd=l({},Ee,{projection:oi,transformation:Oi(1,0,-1,0),scale:function(s){return Math.pow(2,s)},zoom:function(s){return Math.log(s)/Math.LN2},distance:function(s,c){var m=c.lng-s.lng,T=c.lat-s.lat;return Math.sqrt(m*m+T*T)},infinite:!0});Ee.Earth=Wt,Ee.EPSG3395=wi,Ee.EPSG3857=nr,Ee.EPSG900913=Fs,Ee.EPSG4326=ia,Ee.Simple=rd;var bi=Et.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(s){return s.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(s){return s&&s.removeLayer(this),this},getPane:function(s){return this._map.getPane(s?this.options[s]||s:this.options.pane)},addInteractiveTarget:function(s){return this._map._targets[g(s)]=this,this},removeInteractiveTarget:function(s){return delete this._map._targets[g(s)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(s){var c=s.target;if(c.hasLayer(this)){if(this._map=c,this._zoomAnimated=c._zoomAnimated,this.getEvents){var m=this.getEvents();c.on(m,this),this.once("remove",function(){c.off(m,this)},this)}this.onAdd(c),this.fire("add"),c.fire("layeradd",{layer:this})}}});Zt.include({addLayer:function(s){if(!s._layerAdd)throw new Error("The provided object is not a Layer.");var c=g(s);return this._layers[c]?this:(this._layers[c]=s,s._mapToAdd=this,s.beforeAdd&&s.beforeAdd(this),this.whenReady(s._layerAdd,s),this)},removeLayer:function(s){var c=g(s);return this._layers[c]?(this._loaded&&s.onRemove(this),delete this._layers[c],this._loaded&&(this.fire("layerremove",{layer:s}),s.fire("remove")),s._map=s._mapToAdd=null,this):this},hasLayer:function(s){return g(s)in this._layers},eachLayer:function(s,c){for(var m in this._layers)s.call(c,this._layers[m]);return this},_addLayers:function(s){s=s?st(s)?s:[s]:[];for(var c=0,m=s.length;c<m;c++)this.addLayer(s[c])},_addZoomLimit:function(s){(!isNaN(s.options.maxZoom)||!isNaN(s.options.minZoom))&&(this._zoomBoundLayers[g(s)]=s,this._updateZoomLevels())},_removeZoomLimit:function(s){var c=g(s);this._zoomBoundLayers[c]&&(delete this._zoomBoundLayers[c],this._updateZoomLevels())},_updateZoomLevels:function(){var s=1/0,c=-1/0,m=this._getZoomSpan();for(var T in this._zoomBoundLayers){var b=this._zoomBoundLayers[T].options;s=b.minZoom===void 0?s:Math.min(s,b.minZoom),c=b.maxZoom===void 0?c:Math.max(c,b.maxZoom)}this._layersMaxZoom=c===-1/0?void 0:c,this._layersMinZoom=s===1/0?void 0:s,m!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var ys=bi.extend({initialize:function(s,c){F(this,c),this._layers={};var m,T;if(s)for(m=0,T=s.length;m<T;m++)this.addLayer(s[m])},addLayer:function(s){var c=this.getLayerId(s);return this._layers[c]=s,this._map&&this._map.addLayer(s),this},removeLayer:function(s){var c=s in this._layers?s:this.getLayerId(s);return this._map&&this._layers[c]&&this._map.removeLayer(this._layers[c]),delete this._layers[c],this},hasLayer:function(s){var c=typeof s=="number"?s:this.getLayerId(s);return c in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(s){var c=Array.prototype.slice.call(arguments,1),m,T;for(m in this._layers)T=this._layers[m],T[s]&&T[s].apply(T,c);return this},onAdd:function(s){this.eachLayer(s.addLayer,s)},onRemove:function(s){this.eachLayer(s.removeLayer,s)},eachLayer:function(s,c){for(var m in this._layers)s.call(c,this._layers[m]);return this},getLayer:function(s){return this._layers[s]},getLayers:function(){var s=[];return this.eachLayer(s.push,s),s},setZIndex:function(s){return this.invoke("setZIndex",s)},getLayerId:function(s){return g(s)}}),Fc=function(s,c){return new ys(s,c)},Kn=ys.extend({addLayer:function(s){return this.hasLayer(s)?this:(s.addEventParent(this),ys.prototype.addLayer.call(this,s),this.fire("layeradd",{layer:s}))},removeLayer:function(s){return this.hasLayer(s)?(s in this._layers&&(s=this._layers[s]),s.removeEventParent(this),ys.prototype.removeLayer.call(this,s),this.fire("layerremove",{layer:s})):this},setStyle:function(s){return this.invoke("setStyle",s)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var s=new _t;for(var c in this._layers){var m=this._layers[c];s.extend(m.getBounds?m.getBounds():m.getLatLng())}return s}}),fo=function(s,c){return new Kn(s,c)},ra=ce.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(s){F(this,s)},createIcon:function(s){return this._createIcon("icon",s)},createShadow:function(s){return this._createIcon("shadow",s)},_createIcon:function(s,c){var m=this._getIconUrl(s);if(!m){if(s==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var T=this._createImg(m,c&&c.tagName==="IMG"?c:null);return this._setIconStyles(T,s),(this.options.crossOrigin||this.options.crossOrigin==="")&&(T.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),T},_setIconStyles:function(s,c){var m=this.options,T=m[c+"Size"];typeof T=="number"&&(T=[T,T]);var b=N(T),R=N(c==="shadow"&&m.shadowAnchor||m.iconAnchor||b&&b.divideBy(2,!0));s.className="leaflet-marker-"+c+" "+(m.className||""),R&&(s.style.marginLeft=-R.x+"px",s.style.marginTop=-R.y+"px"),b&&(s.style.width=b.x+"px",s.style.height=b.y+"px")},_createImg:function(s,c){return c=c||document.createElement("img"),c.src=s,c},_getIconUrl:function(s){return xt.retina&&this.options[s+"RetinaUrl"]||this.options[s+"Url"]}});function fl(s){return new ra(s)}var sa=ra.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(s){return typeof sa.imagePath!="string"&&(sa.imagePath=this._detectIconPath()),(this.options.imagePath||sa.imagePath)+ra.prototype._getIconUrl.call(this,s)},_stripUrl:function(s){var c=function(m,T,b){var R=T.exec(m);return R&&R[b]};return s=c(s,/^url\((['"])?(.+)\1\)$/,2),s&&c(s,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var s=te("div","leaflet-default-icon-path",document.body),c=Bi(s,"background-image")||Bi(s,"backgroundImage");if(document.body.removeChild(s),c=this._stripUrl(c),c)return c;var m=document.querySelector('link[href$="leaflet.css"]');return m?m.href.substring(0,m.href.length-11-1):""}}),du=Pn.extend({initialize:function(s){this._marker=s},addHooks:function(){var s=this._marker._icon;this._draggable||(this._draggable=new Ti(s,s,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),At(s,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&de(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(s){var c=this._marker,m=c._map,T=this._marker.options.autoPanSpeed,b=this._marker.options.autoPanPadding,R=ji(c._icon),k=m.getPixelBounds(),Y=m.getPixelOrigin(),nt=gt(k.min._subtract(Y).add(b),k.max._subtract(Y).subtract(b));if(!nt.contains(R)){var mt=N((Math.max(nt.max.x,R.x)-nt.max.x)/(k.max.x-nt.max.x)-(Math.min(nt.min.x,R.x)-nt.min.x)/(k.min.x-nt.min.x),(Math.max(nt.max.y,R.y)-nt.max.y)/(k.max.y-nt.max.y)-(Math.min(nt.min.y,R.y)-nt.min.y)/(k.min.y-nt.min.y)).multiplyBy(T);m.panBy(mt,{animate:!1}),this._draggable._newPos._add(mt),this._draggable._startPos._add(mt),Re(c._icon,this._draggable._newPos),this._onDrag(s),this._panRequest=B(this._adjustPan.bind(this,s))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(s){this._marker.options.autoPan&&(G(this._panRequest),this._panRequest=B(this._adjustPan.bind(this,s)))},_onDrag:function(s){var c=this._marker,m=c._shadow,T=ji(c._icon),b=c._map.layerPointToLatLng(T);m&&Re(m,T),c._latlng=b,s.latlng=b,s.oldLatLng=this._oldLatLng,c.fire("move",s).fire("drag",s)},_onDragEnd:function(s){G(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",s)}}),aa=bi.extend({options:{icon:new sa,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(s,c){F(this,c),this._latlng=vt(s)},onAdd:function(s){this._zoomAnimated=this._zoomAnimated&&s.options.markerZoomAnimation,this._zoomAnimated&&s.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(s){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&s.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(s){var c=this._latlng;return this._latlng=vt(s),this.update(),this.fire("move",{oldLatLng:c,latlng:this._latlng})},setZIndexOffset:function(s){return this.options.zIndexOffset=s,this.update()},getIcon:function(){return this.options.icon},setIcon:function(s){return this.options.icon=s,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var s=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(s)}return this},_initIcon:function(){var s=this.options,c="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),m=s.icon.createIcon(this._icon),T=!1;m!==this._icon&&(this._icon&&this._removeIcon(),T=!0,s.title&&(m.title=s.title),m.tagName==="IMG"&&(m.alt=s.alt||"")),At(m,c),s.keyboard&&(m.tabIndex="0",m.setAttribute("role","button")),this._icon=m,s.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Vt(m,"focus",this._panOnFocus,this);var b=s.icon.createShadow(this._shadow),R=!1;b!==this._shadow&&(this._removeShadow(),R=!0),b&&(At(b,c),b.alt=""),this._shadow=b,s.opacity<1&&this._updateOpacity(),T&&this.getPane().appendChild(this._icon),this._initInteraction(),b&&R&&this.getPane(s.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&ae(this._icon,"focus",this._panOnFocus,this),se(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&se(this._shadow),this._shadow=null},_setPos:function(s){this._icon&&Re(this._icon,s),this._shadow&&Re(this._shadow,s),this._zIndex=s.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(s){this._icon&&(this._icon.style.zIndex=this._zIndex+s)},_animateZoom:function(s){var c=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center).round();this._setPos(c)},_initInteraction:function(){if(this.options.interactive&&(At(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),du)){var s=this.options.draggable;this.dragging&&(s=this.dragging.enabled(),this.dragging.disable()),this.dragging=new du(this),s&&this.dragging.enable()}},setOpacity:function(s){return this.options.opacity=s,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var s=this.options.opacity;this._icon&&cn(this._icon,s),this._shadow&&cn(this._shadow,s)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var s=this._map;if(s){var c=this.options.icon.options,m=c.iconSize?N(c.iconSize):N(0,0),T=c.iconAnchor?N(c.iconAnchor):N(0,0);s.panInside(this._latlng,{paddingTopLeft:T,paddingBottomRight:m.subtract(T)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function mu(s,c){return new aa(s,c)}var mr=bi.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(s){this._renderer=s.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(s){return F(this,s),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&s&&Object.prototype.hasOwnProperty.call(s,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),mo=mr.extend({options:{fill:!0,radius:10},initialize:function(s,c){F(this,c),this._latlng=vt(s),this._radius=this.options.radius},setLatLng:function(s){var c=this._latlng;return this._latlng=vt(s),this.redraw(),this.fire("move",{oldLatLng:c,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(s){return this.options.radius=this._radius=s,this.redraw()},getRadius:function(){return this._radius},setStyle:function(s){var c=s&&s.radius||this._radius;return mr.prototype.setStyle.call(this,s),this.setRadius(c),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var s=this._radius,c=this._radiusY||s,m=this._clickTolerance(),T=[s+m,c+m];this._pxBounds=new at(this._point.subtract(T),this._point.add(T))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(s){return s.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Gc(s,c){return new mo(s,c)}var pu=mo.extend({initialize:function(s,c,m){if(typeof c=="number"&&(c=l({},m,{radius:c})),F(this,c),this._latlng=vt(s),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(s){return this._mRadius=s,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var s=[this._radius,this._radiusY||this._radius];return new _t(this._map.layerPointToLatLng(this._point.subtract(s)),this._map.layerPointToLatLng(this._point.add(s)))},setStyle:mr.prototype.setStyle,_project:function(){var s=this._latlng.lng,c=this._latlng.lat,m=this._map,T=m.options.crs;if(T.distance===Wt.distance){var b=Math.PI/180,R=this._mRadius/Wt.R/b,k=m.project([c+R,s]),Y=m.project([c-R,s]),nt=k.add(Y).divideBy(2),mt=m.unproject(nt).lat,bt=Math.acos((Math.cos(R*b)-Math.sin(c*b)*Math.sin(mt*b))/(Math.cos(c*b)*Math.cos(mt*b)))/b;(isNaN(bt)||bt===0)&&(bt=R/Math.cos(Math.PI/180*c)),this._point=nt.subtract(m.getPixelOrigin()),this._radius=isNaN(bt)?0:nt.x-m.project([mt,s-bt]).x,this._radiusY=nt.y-k.y}else{var Lt=T.unproject(T.project(this._latlng).subtract([this._mRadius,0]));this._point=m.latLngToLayerPoint(this._latlng),this._radius=this._point.x-m.latLngToLayerPoint(Lt).x}this._updateBounds()}});function sd(s,c,m){return new pu(s,c,m)}var pr=mr.extend({options:{smoothFactor:1,noClip:!1},initialize:function(s,c){F(this,c),this._setLatLngs(s)},getLatLngs:function(){return this._latlngs},setLatLngs:function(s){return this._setLatLngs(s),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(s){for(var c=1/0,m=null,T=Ut,b,R,k=0,Y=this._parts.length;k<Y;k++)for(var nt=this._parts[k],mt=1,bt=nt.length;mt<bt;mt++){b=nt[mt-1],R=nt[mt];var Lt=T(s,b,R,!0);Lt<c&&(c=Lt,m=T(s,b,R))}return m&&(m.distance=Math.sqrt(c)),m},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Pe(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(s,c){return c=c||this._defaultShape(),s=vt(s),c.push(s),this._bounds.extend(s),this.redraw()},_setLatLngs:function(s){this._bounds=new _t,this._latlngs=this._convertLatLngs(s)},_defaultShape:function(){return Qt(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(s){for(var c=[],m=Qt(s),T=0,b=s.length;T<b;T++)m?(c[T]=vt(s[T]),this._bounds.extend(c[T])):c[T]=this._convertLatLngs(s[T]);return c},_project:function(){var s=new at;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,s),this._bounds.isValid()&&s.isValid()&&(this._rawPxBounds=s,this._updateBounds())},_updateBounds:function(){var s=this._clickTolerance(),c=new pt(s,s);this._rawPxBounds&&(this._pxBounds=new at([this._rawPxBounds.min.subtract(c),this._rawPxBounds.max.add(c)]))},_projectLatlngs:function(s,c,m){var T=s[0]instanceof It,b=s.length,R,k;if(T){for(k=[],R=0;R<b;R++)k[R]=this._map.latLngToLayerPoint(s[R]),m.extend(k[R]);c.push(k)}else for(R=0;R<b;R++)this._projectLatlngs(s[R],c,m)},_clipPoints:function(){var s=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(s))){if(this.options.noClip){this._parts=this._rings;return}var c=this._parts,m,T,b,R,k,Y,nt;for(m=0,b=0,R=this._rings.length;m<R;m++)for(nt=this._rings[m],T=0,k=nt.length;T<k-1;T++)Y=P(nt[T],nt[T+1],s,T,!0),Y&&(c[b]=c[b]||[],c[b].push(Y[0]),(Y[1]!==nt[T+1]||T===k-2)&&(c[b].push(Y[1]),b++))}},_simplifyPoints:function(){for(var s=this._parts,c=this.options.smoothFactor,m=0,T=s.length;m<T;m++)s[m]=pn(s[m],c)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(s,c){var m,T,b,R,k,Y,nt=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(s))return!1;for(m=0,R=this._parts.length;m<R;m++)for(Y=this._parts[m],T=0,k=Y.length,b=k-1;T<k;b=T++)if(!(!c&&T===0)&&na(s,Y[b],Y[T])<=nt)return!0;return!1}});function ad(s,c){return new pr(s,c)}pr._flat=he;var oa=pr.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return gs(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(s){var c=pr.prototype._convertLatLngs.call(this,s),m=c.length;return m>=2&&c[0]instanceof It&&c[0].equals(c[m-1])&&c.pop(),c},_setLatLngs:function(s){pr.prototype._setLatLngs.call(this,s),Qt(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Qt(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var s=this._renderer._bounds,c=this.options.weight,m=new pt(c,c);if(s=new at(s.min.subtract(m),s.max.add(m)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(s))){if(this.options.noClip){this._parts=this._rings;return}for(var T=0,b=this._rings.length,R;T<b;T++)R=ho(this._rings[T],s,!0),R.length&&this._parts.push(R)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(s){var c=!1,m,T,b,R,k,Y,nt,mt;if(!this._pxBounds||!this._pxBounds.contains(s))return!1;for(R=0,nt=this._parts.length;R<nt;R++)for(m=this._parts[R],k=0,mt=m.length,Y=mt-1;k<mt;Y=k++)T=m[k],b=m[Y],T.y>s.y!=b.y>s.y&&s.x<(b.x-T.x)*(s.y-T.y)/(b.y-T.y)+T.x&&(c=!c);return c||pr.prototype._containsPoint.call(this,s,!0)}});function Yn(s,c){return new oa(s,c)}var Qn=Kn.extend({initialize:function(s,c){F(this,c),this._layers={},s&&this.addData(s)},addData:function(s){var c=st(s)?s:s.features,m,T,b;if(c){for(m=0,T=c.length;m<T;m++)b=c[m],(b.geometries||b.geometry||b.features||b.coordinates)&&this.addData(b);return this}var R=this.options;if(R.filter&&!R.filter(s))return this;var k=po(s,R);return k?(k.feature=la(s),k.defaultOptions=k.options,this.resetStyle(k),R.onEachFeature&&R.onEachFeature(s,k),this.addLayer(k)):this},resetStyle:function(s){return s===void 0?this.eachLayer(this.resetStyle,this):(s.options=l({},s.defaultOptions),this._setLayerStyle(s,this.options.style),this)},setStyle:function(s){return this.eachLayer(function(c){this._setLayerStyle(c,s)},this)},_setLayerStyle:function(s,c){s.setStyle&&(typeof c=="function"&&(c=c(s.feature)),s.setStyle(c))}});function po(s,c){var m=s.type==="Feature"?s.geometry:s,T=m?m.coordinates:null,b=[],R=c&&c.pointToLayer,k=c&&c.coordsToLatLng||dl,Y,nt,mt,bt;if(!T&&!m)return null;switch(m.type){case"Point":return Y=k(T),_u(R,s,Y,c);case"MultiPoint":for(mt=0,bt=T.length;mt<bt;mt++)Y=k(T[mt]),b.push(_u(R,s,Y,c));return new Kn(b);case"LineString":case"MultiLineString":return nt=_o(T,m.type==="LineString"?0:1,k),new pr(nt,c);case"Polygon":case"MultiPolygon":return nt=_o(T,m.type==="Polygon"?1:2,k),new oa(nt,c);case"GeometryCollection":for(mt=0,bt=m.geometries.length;mt<bt;mt++){var Lt=po({geometry:m.geometries[mt],type:"Feature",properties:s.properties},c);Lt&&b.push(Lt)}return new Kn(b);case"FeatureCollection":for(mt=0,bt=m.features.length;mt<bt;mt++){var Mt=po(m.features[mt],c);Mt&&b.push(Mt)}return new Kn(b);default:throw new Error("Invalid GeoJSON object.")}}function _u(s,c,m,T){return s?s(c,m):new aa(m,T&&T.markersInheritOptions&&T)}function dl(s){return new It(s[1],s[0],s[2])}function _o(s,c,m){for(var T=[],b=0,R=s.length,k;b<R;b++)k=c?_o(s[b],c-1,m):(m||dl)(s[b]),T.push(k);return T}function go(s,c){return s=vt(s),s.alt!==void 0?[I(s.lng,c),I(s.lat,c),I(s.alt,c)]:[I(s.lng,c),I(s.lat,c)]}function ml(s,c,m,T){for(var b=[],R=0,k=s.length;R<k;R++)b.push(c?ml(s[R],Qt(s[R])?0:c-1,m,T):go(s[R],T));return!c&&m&&b.length>0&&b.push(b[0].slice()),b}function Si(s,c){return s.feature?l({},s.feature,{geometry:c}):la(c)}function la(s){return s.type==="Feature"||s.type==="FeatureCollection"?s:{type:"Feature",properties:{},geometry:s}}var vs={toGeoJSON:function(s){return Si(this,{type:"Point",coordinates:go(this.getLatLng(),s)})}};aa.include(vs),pu.include(vs),mo.include(vs),pr.include({toGeoJSON:function(s){var c=!Qt(this._latlngs),m=ml(this._latlngs,c?1:0,!1,s);return Si(this,{type:(c?"Multi":"")+"LineString",coordinates:m})}}),oa.include({toGeoJSON:function(s){var c=!Qt(this._latlngs),m=c&&!Qt(this._latlngs[0]),T=ml(this._latlngs,m?2:c?1:0,!0,s);return c||(T=[T]),Si(this,{type:(m?"Multi":"")+"Polygon",coordinates:T})}}),ys.include({toMultiPoint:function(s){var c=[];return this.eachLayer(function(m){c.push(m.toGeoJSON(s).geometry.coordinates)}),Si(this,{type:"MultiPoint",coordinates:c})},toGeoJSON:function(s){var c=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(c==="MultiPoint")return this.toMultiPoint(s);var m=c==="GeometryCollection",T=[];return this.eachLayer(function(b){if(b.toGeoJSON){var R=b.toGeoJSON(s);if(m)T.push(R.geometry);else{var k=la(R);k.type==="FeatureCollection"?T.push.apply(T,k.features):T.push(k)}}}),m?Si(this,{geometries:T,type:"GeometryCollection"}):{type:"FeatureCollection",features:T}}});function pl(s,c){return new Qn(s,c)}var Zc=pl,Zi=bi.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(s,c,m){this._url=s,this._bounds=wt(c),F(this,m)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(At(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){se(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(s){return this.options.opacity=s,this._image&&this._updateOpacity(),this},setStyle:function(s){return s.opacity&&this.setOpacity(s.opacity),this},bringToFront:function(){return this._map&&Hn(this._image),this},bringToBack:function(){return this._map&&ai(this._image),this},setUrl:function(s){return this._url=s,this._image&&(this._image.src=s),this},setBounds:function(s){return this._bounds=wt(s),this._map&&this._reset(),this},getEvents:function(){var s={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},setZIndex:function(s){return this.options.zIndex=s,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var s=this._url.tagName==="IMG",c=this._image=s?this._url:te("img");if(At(c,"leaflet-image-layer"),this._zoomAnimated&&At(c,"leaflet-zoom-animated"),this.options.className&&At(c,this.options.className),c.onselectstart=S,c.onmousemove=S,c.onload=f(this.fire,this,"load"),c.onerror=f(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(c.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),s){this._url=c.src;return}c.src=this._url,c.alt=this.options.alt},_animateZoom:function(s){var c=this._map.getZoomScale(s.zoom),m=this._map._latLngBoundsToNewLayerBounds(this._bounds,s.zoom,s.center).min;Ln(this._image,m,c)},_reset:function(){var s=this._image,c=new at(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),m=c.getSize();Re(s,c.min),s.style.width=m.x+"px",s.style.height=m.y+"px"},_updateOpacity:function(){cn(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var s=this.options.errorOverlayUrl;s&&this._url!==s&&(this._url=s,this._image.src=s)},getCenter:function(){return this._bounds.getCenter()}}),ua=function(s,c,m){return new Zi(s,c,m)},_l=Zi.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var s=this._url.tagName==="VIDEO",c=this._image=s?this._url:te("video");if(At(c,"leaflet-image-layer"),this._zoomAnimated&&At(c,"leaflet-zoom-animated"),this.options.className&&At(c,this.options.className),c.onselectstart=S,c.onmousemove=S,c.onloadeddata=f(this.fire,this,"load"),s){for(var m=c.getElementsByTagName("source"),T=[],b=0;b<m.length;b++)T.push(m[b].src);this._url=m.length>0?T:[c.src];return}st(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(c.style,"objectFit")&&(c.style.objectFit="fill"),c.autoplay=!!this.options.autoplay,c.loop=!!this.options.loop,c.muted=!!this.options.muted,c.playsInline=!!this.options.playsInline;for(var R=0;R<this._url.length;R++){var k=te("source");k.src=this._url[R],c.appendChild(k)}}});function Kc(s,c,m){return new _l(s,c,m)}var Vr=Zi.extend({_initImage:function(){var s=this._image=this._url;At(s,"leaflet-image-layer"),this._zoomAnimated&&At(s,"leaflet-zoom-animated"),this.options.className&&At(s,this.options.className),s.onselectstart=S,s.onmousemove=S}});function Yc(s,c,m){return new Vr(s,c,m)}var Ai=bi.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(s,c){s&&(s instanceof It||st(s))?(this._latlng=vt(s),F(this,c)):(F(this,s),this._source=c),this.options.content&&(this._content=this.options.content)},openOn:function(s){return s=arguments.length?s:this._source._map,s.hasLayer(this)||s.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(s){return this._map?this.close():(arguments.length?this._source=s:s=this._source,this._prepareOpen(),this.openOn(s._map)),this},onAdd:function(s){this._zoomAnimated=s._zoomAnimated,this._container||this._initLayout(),s._fadeAnimated&&cn(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),s._fadeAnimated&&cn(this._container,1),this.bringToFront(),this.options.interactive&&(At(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(s){s._fadeAnimated?(cn(this._container,0),this._removeTimeout=setTimeout(f(se,void 0,this._container),200)):se(this._container),this.options.interactive&&(de(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(s){return this._latlng=vt(s),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(s){return this._content=s,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var s={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Hn(this._container),this},bringToBack:function(){return this._map&&ai(this._container),this},_prepareOpen:function(s){var c=this._source;if(!c._map)return!1;if(c instanceof Kn){c=null;var m=this._source._layers;for(var T in m)if(m[T]._map){c=m[T];break}if(!c)return!1;this._source=c}if(!s)if(c.getCenter)s=c.getCenter();else if(c.getLatLng)s=c.getLatLng();else if(c.getBounds)s=c.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(s),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var s=this._contentNode,c=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof c=="string")s.innerHTML=c;else{for(;s.hasChildNodes();)s.removeChild(s.firstChild);s.appendChild(c)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var s=this._map.latLngToLayerPoint(this._latlng),c=N(this.options.offset),m=this._getAnchor();this._zoomAnimated?Re(this._container,s.add(m)):c=c.add(s).add(m);var T=this._containerBottom=-c.y,b=this._containerLeft=-Math.round(this._containerWidth/2)+c.x;this._container.style.bottom=T+"px",this._container.style.left=b+"px"}},_getAnchor:function(){return[0,0]}});Zt.include({_initOverlay:function(s,c,m,T){var b=c;return b instanceof s||(b=new s(T).setContent(c)),m&&b.setLatLng(m),b}}),bi.include({_initOverlay:function(s,c,m,T){var b=m;return b instanceof s?(F(b,T),b._source=this):(b=c&&!T?c:new s(T,this),b.setContent(m)),b}});var yo=Ai.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(s){return s=arguments.length?s:this._source._map,!s.hasLayer(this)&&s._popup&&s._popup.options.autoClose&&s.removeLayer(s._popup),s._popup=this,Ai.prototype.openOn.call(this,s)},onAdd:function(s){Ai.prototype.onAdd.call(this,s),s.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof mr||this._source.on("preclick",oe))},onRemove:function(s){Ai.prototype.onRemove.call(this,s),s.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof mr||this._source.off("preclick",oe))},getEvents:function(){var s=Ai.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(s.preclick=this.close),this.options.keepInView&&(s.moveend=this._adjustPan),s},_initLayout:function(){var s="leaflet-popup",c=this._container=te("div",s+" "+(this.options.className||"")+" leaflet-zoom-animated"),m=this._wrapper=te("div",s+"-content-wrapper",c);if(this._contentNode=te("div",s+"-content",m),Nr(c),Or(this._contentNode),Vt(c,"contextmenu",oe),this._tipContainer=te("div",s+"-tip-container",c),this._tip=te("div",s+"-tip",this._tipContainer),this.options.closeButton){var T=this._closeButton=te("a",s+"-close-button",c);T.setAttribute("role","button"),T.setAttribute("aria-label","Close popup"),T.href="#close",T.innerHTML='<span aria-hidden="true">&#215;</span>',Vt(T,"click",function(b){Ie(b),this.close()},this)}},_updateLayout:function(){var s=this._contentNode,c=s.style;c.width="",c.whiteSpace="nowrap";var m=s.offsetWidth;m=Math.min(m,this.options.maxWidth),m=Math.max(m,this.options.minWidth),c.width=m+1+"px",c.whiteSpace="",c.height="";var T=s.offsetHeight,b=this.options.maxHeight,R="leaflet-popup-scrolled";b&&T>b?(c.height=b+"px",At(s,R)):de(s,R),this._containerWidth=this._container.offsetWidth},_animateZoom:function(s){var c=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center),m=this._getAnchor();Re(this._container,c.add(m))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var s=this._map,c=parseInt(Bi(this._container,"marginBottom"),10)||0,m=this._container.offsetHeight+c,T=this._containerWidth,b=new pt(this._containerLeft,-m-this._containerBottom);b._add(ji(this._container));var R=s.layerPointToContainerPoint(b),k=N(this.options.autoPanPadding),Y=N(this.options.autoPanPaddingTopLeft||k),nt=N(this.options.autoPanPaddingBottomRight||k),mt=s.getSize(),bt=0,Lt=0;R.x+T+nt.x>mt.x&&(bt=R.x+T-mt.x+nt.x),R.x-bt-Y.x<0&&(bt=R.x-Y.x),R.y+m+nt.y>mt.y&&(Lt=R.y+m-mt.y+nt.y),R.y-Lt-Y.y<0&&(Lt=R.y-Y.y),(bt||Lt)&&(this.options.keepInView&&(this._autopanning=!0),s.fire("autopanstart").panBy([bt,Lt]))}},_getAnchor:function(){return N(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),od=function(s,c){return new yo(s,c)};Zt.mergeOptions({closePopupOnClick:!0}),Zt.include({openPopup:function(s,c,m){return this._initOverlay(yo,s,c,m).openOn(this),this},closePopup:function(s){return s=arguments.length?s:this._popup,s&&s.close(),this}}),bi.include({bindPopup:function(s,c){return this._popup=this._initOverlay(yo,this._popup,s,c),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(s){return this._popup&&(this instanceof Kn||(this._popup._source=this),this._popup._prepareOpen(s||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(s){return this._popup&&this._popup.setContent(s),this},getPopup:function(){return this._popup},_openPopup:function(s){if(!(!this._popup||!this._map)){Fn(s);var c=s.layer||s.target;if(this._popup._source===c&&!(c instanceof mr)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(s.latlng);return}this._popup._source=c,this.openPopup(s.latlng)}},_movePopup:function(s){this._popup.setLatLng(s.latlng)},_onKeyPress:function(s){s.originalEvent.keyCode===13&&this._openPopup(s)}});var gl=Ai.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(s){Ai.prototype.onAdd.call(this,s),this.setOpacity(this.options.opacity),s.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(s){Ai.prototype.onRemove.call(this,s),s.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var s=Ai.prototype.getEvents.call(this);return this.options.permanent||(s.preclick=this.close),s},_initLayout:function(){var s="leaflet-tooltip",c=s+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=te("div",c),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+g(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(s){var c,m,T=this._map,b=this._container,R=T.latLngToContainerPoint(T.getCenter()),k=T.layerPointToContainerPoint(s),Y=this.options.direction,nt=b.offsetWidth,mt=b.offsetHeight,bt=N(this.options.offset),Lt=this._getAnchor();Y==="top"?(c=nt/2,m=mt):Y==="bottom"?(c=nt/2,m=0):Y==="center"?(c=nt/2,m=mt/2):Y==="right"?(c=0,m=mt/2):Y==="left"?(c=nt,m=mt/2):k.x<R.x?(Y="right",c=0,m=mt/2):(Y="left",c=nt+(bt.x+Lt.x)*2,m=mt/2),s=s.subtract(N(c,m,!0)).add(bt).add(Lt),de(b,"leaflet-tooltip-right"),de(b,"leaflet-tooltip-left"),de(b,"leaflet-tooltip-top"),de(b,"leaflet-tooltip-bottom"),At(b,"leaflet-tooltip-"+Y),Re(b,s)},_updatePosition:function(){var s=this._map.latLngToLayerPoint(this._latlng);this._setPosition(s)},setOpacity:function(s){this.options.opacity=s,this._container&&cn(this._container,s)},_animateZoom:function(s){var c=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center);this._setPosition(c)},_getAnchor:function(){return N(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),ld=function(s,c){return new gl(s,c)};Zt.include({openTooltip:function(s,c,m){return this._initOverlay(gl,s,c,m).openOn(this),this},closeTooltip:function(s){return s.close(),this}}),bi.include({bindTooltip:function(s,c){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(gl,this._tooltip,s,c),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(s){if(!(!s&&this._tooltipHandlersAdded)){var c=s?"off":"on",m={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?m.add=this._openTooltip:(m.mouseover=this._openTooltip,m.mouseout=this.closeTooltip,m.click=this._openTooltip,this._map?this._addFocusListeners():m.add=this._addFocusListeners),this._tooltip.options.sticky&&(m.mousemove=this._moveTooltip),this[c](m),this._tooltipHandlersAdded=!s}},openTooltip:function(s){return this._tooltip&&(this instanceof Kn||(this._tooltip._source=this),this._tooltip._prepareOpen(s)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(s){return this._tooltip&&this._tooltip.setContent(s),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(s){var c=typeof s.getElement=="function"&&s.getElement();c&&(Vt(c,"focus",function(){this._tooltip._source=s,this.openTooltip()},this),Vt(c,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(s){var c=typeof s.getElement=="function"&&s.getElement();c&&c.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(s){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var c=this;this._map.once("moveend",function(){c._openOnceFlag=!1,c._openTooltip(s)});return}this._tooltip._source=s.layer||s.target,this.openTooltip(this._tooltip.options.sticky?s.latlng:void 0)}},_moveTooltip:function(s){var c=s.latlng,m,T;this._tooltip.options.sticky&&s.originalEvent&&(m=this._map.mouseEventToContainerPoint(s.originalEvent),T=this._map.containerPointToLayerPoint(m),c=this._map.layerPointToLatLng(T)),this._tooltip.setLatLng(c)}});var gu=ra.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(s){var c=s&&s.tagName==="DIV"?s:document.createElement("div"),m=this.options;if(m.html instanceof Element?(ge(c),c.appendChild(m.html)):c.innerHTML=m.html!==!1?m.html:"",m.bgPos){var T=N(m.bgPos);c.style.backgroundPosition=-T.x+"px "+-T.y+"px"}return this._setIconStyles(c,"icon"),c},createShadow:function(){return null}});function Qc(s){return new gu(s)}ra.Default=sa;var Ts=bi.extend({options:{tileSize:256,opacity:1,updateWhenIdle:xt.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(s){F(this,s)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(s){s._addZoomLimit(this)},onRemove:function(s){this._removeAllTiles(),se(this._container),s._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Hn(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(ai(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(s){return this.options.opacity=s,this._updateOpacity(),this},setZIndex:function(s){return this.options.zIndex=s,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var s=this._clampZoom(this._map.getZoom());s!==this._tileZoom&&(this._tileZoom=s,this._updateLevels()),this._update()}return this},getEvents:function(){var s={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=v(this._onMoveEnd,this.options.updateInterval,this)),s.move=this._onMove),this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},createTile:function(){return document.createElement("div")},getTileSize:function(){var s=this.options.tileSize;return s instanceof pt?s:new pt(s,s)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(s){for(var c=this.getPane().children,m=-s(-1/0,1/0),T=0,b=c.length,R;T<b;T++)R=c[T].style.zIndex,c[T]!==this._container&&R&&(m=s(m,+R));isFinite(m)&&(this.options.zIndex=m+s(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!xt.ielt9){cn(this._container,this.options.opacity);var s=+new Date,c=!1,m=!1;for(var T in this._tiles){var b=this._tiles[T];if(!(!b.current||!b.loaded)){var R=Math.min(1,(s-b.loaded)/200);cn(b.el,R),R<1?c=!0:(b.active?m=!0:this._onOpaqueTile(b),b.active=!0)}}m&&!this._noPrune&&this._pruneTiles(),c&&(G(this._fadeFrame),this._fadeFrame=B(this._updateOpacity,this))}},_onOpaqueTile:S,_initContainer:function(){this._container||(this._container=te("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var s=this._tileZoom,c=this.options.maxZoom;if(s!==void 0){for(var m in this._levels)m=Number(m),this._levels[m].el.children.length||m===s?(this._levels[m].el.style.zIndex=c-Math.abs(s-m),this._onUpdateLevel(m)):(se(this._levels[m].el),this._removeTilesAtZoom(m),this._onRemoveLevel(m),delete this._levels[m]);var T=this._levels[s],b=this._map;return T||(T=this._levels[s]={},T.el=te("div","leaflet-tile-container leaflet-zoom-animated",this._container),T.el.style.zIndex=c,T.origin=b.project(b.unproject(b.getPixelOrigin()),s).round(),T.zoom=s,this._setZoomTransform(T,b.getCenter(),b.getZoom()),S(T.el.offsetWidth),this._onCreateLevel(T)),this._level=T,T}},_onUpdateLevel:S,_onRemoveLevel:S,_onCreateLevel:S,_pruneTiles:function(){if(this._map){var s,c,m=this._map.getZoom();if(m>this.options.maxZoom||m<this.options.minZoom){this._removeAllTiles();return}for(s in this._tiles)c=this._tiles[s],c.retain=c.current;for(s in this._tiles)if(c=this._tiles[s],c.current&&!c.active){var T=c.coords;this._retainParent(T.x,T.y,T.z,T.z-5)||this._retainChildren(T.x,T.y,T.z,T.z+2)}for(s in this._tiles)this._tiles[s].retain||this._removeTile(s)}},_removeTilesAtZoom:function(s){for(var c in this._tiles)this._tiles[c].coords.z===s&&this._removeTile(c)},_removeAllTiles:function(){for(var s in this._tiles)this._removeTile(s)},_invalidateAll:function(){for(var s in this._levels)se(this._levels[s].el),this._onRemoveLevel(Number(s)),delete this._levels[s];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(s,c,m,T){var b=Math.floor(s/2),R=Math.floor(c/2),k=m-1,Y=new pt(+b,+R);Y.z=+k;var nt=this._tileCoordsToKey(Y),mt=this._tiles[nt];return mt&&mt.active?(mt.retain=!0,!0):(mt&&mt.loaded&&(mt.retain=!0),k>T?this._retainParent(b,R,k,T):!1)},_retainChildren:function(s,c,m,T){for(var b=2*s;b<2*s+2;b++)for(var R=2*c;R<2*c+2;R++){var k=new pt(b,R);k.z=m+1;var Y=this._tileCoordsToKey(k),nt=this._tiles[Y];if(nt&&nt.active){nt.retain=!0;continue}else nt&&nt.loaded&&(nt.retain=!0);m+1<T&&this._retainChildren(b,R,m+1,T)}},_resetView:function(s){var c=s&&(s.pinch||s.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),c,c)},_animateZoom:function(s){this._setView(s.center,s.zoom,!0,s.noUpdate)},_clampZoom:function(s){var c=this.options;return c.minNativeZoom!==void 0&&s<c.minNativeZoom?c.minNativeZoom:c.maxNativeZoom!==void 0&&c.maxNativeZoom<s?c.maxNativeZoom:s},_setView:function(s,c,m,T){var b=Math.round(c);this.options.maxZoom!==void 0&&b>this.options.maxZoom||this.options.minZoom!==void 0&&b<this.options.minZoom?b=void 0:b=this._clampZoom(b);var R=this.options.updateWhenZooming&&b!==this._tileZoom;(!T||R)&&(this._tileZoom=b,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),b!==void 0&&this._update(s),m||this._pruneTiles(),this._noPrune=!!m),this._setZoomTransforms(s,c)},_setZoomTransforms:function(s,c){for(var m in this._levels)this._setZoomTransform(this._levels[m],s,c)},_setZoomTransform:function(s,c,m){var T=this._map.getZoomScale(m,s.zoom),b=s.origin.multiplyBy(T).subtract(this._map._getNewPixelOrigin(c,m)).round();xt.any3d?Ln(s.el,b,T):Re(s.el,b)},_resetGrid:function(){var s=this._map,c=s.options.crs,m=this._tileSize=this.getTileSize(),T=this._tileZoom,b=this._map.getPixelWorldBounds(this._tileZoom);b&&(this._globalTileRange=this._pxBoundsToTileRange(b)),this._wrapX=c.wrapLng&&!this.options.noWrap&&[Math.floor(s.project([0,c.wrapLng[0]],T).x/m.x),Math.ceil(s.project([0,c.wrapLng[1]],T).x/m.y)],this._wrapY=c.wrapLat&&!this.options.noWrap&&[Math.floor(s.project([c.wrapLat[0],0],T).y/m.x),Math.ceil(s.project([c.wrapLat[1],0],T).y/m.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(s){var c=this._map,m=c._animatingZoom?Math.max(c._animateToZoom,c.getZoom()):c.getZoom(),T=c.getZoomScale(m,this._tileZoom),b=c.project(s,this._tileZoom).floor(),R=c.getSize().divideBy(T*2);return new at(b.subtract(R),b.add(R))},_update:function(s){var c=this._map;if(c){var m=this._clampZoom(c.getZoom());if(s===void 0&&(s=c.getCenter()),this._tileZoom!==void 0){var T=this._getTiledPixelBounds(s),b=this._pxBoundsToTileRange(T),R=b.getCenter(),k=[],Y=this.options.keepBuffer,nt=new at(b.getBottomLeft().subtract([Y,-Y]),b.getTopRight().add([Y,-Y]));if(!(isFinite(b.min.x)&&isFinite(b.min.y)&&isFinite(b.max.x)&&isFinite(b.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var mt in this._tiles){var bt=this._tiles[mt].coords;(bt.z!==this._tileZoom||!nt.contains(new pt(bt.x,bt.y)))&&(this._tiles[mt].current=!1)}if(Math.abs(m-this._tileZoom)>1){this._setView(s,m);return}for(var Lt=b.min.y;Lt<=b.max.y;Lt++)for(var Mt=b.min.x;Mt<=b.max.x;Mt++){var qt=new pt(Mt,Lt);if(qt.z=this._tileZoom,!!this._isValidTile(qt)){var Se=this._tiles[this._tileCoordsToKey(qt)];Se?Se.current=!0:k.push(qt)}}if(k.sort(function(_n,li){return _n.distanceTo(R)-li.distanceTo(R)}),k.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Ue=document.createDocumentFragment();for(Mt=0;Mt<k.length;Mt++)this._addTile(k[Mt],Ue);this._level.el.appendChild(Ue)}}}},_isValidTile:function(s){var c=this._map.options.crs;if(!c.infinite){var m=this._globalTileRange;if(!c.wrapLng&&(s.x<m.min.x||s.x>m.max.x)||!c.wrapLat&&(s.y<m.min.y||s.y>m.max.y))return!1}if(!this.options.bounds)return!0;var T=this._tileCoordsToBounds(s);return wt(this.options.bounds).overlaps(T)},_keyToBounds:function(s){return this._tileCoordsToBounds(this._keyToTileCoords(s))},_tileCoordsToNwSe:function(s){var c=this._map,m=this.getTileSize(),T=s.scaleBy(m),b=T.add(m),R=c.unproject(T,s.z),k=c.unproject(b,s.z);return[R,k]},_tileCoordsToBounds:function(s){var c=this._tileCoordsToNwSe(s),m=new _t(c[0],c[1]);return this.options.noWrap||(m=this._map.wrapLatLngBounds(m)),m},_tileCoordsToKey:function(s){return s.x+":"+s.y+":"+s.z},_keyToTileCoords:function(s){var c=s.split(":"),m=new pt(+c[0],+c[1]);return m.z=+c[2],m},_removeTile:function(s){var c=this._tiles[s];c&&(se(c.el),delete this._tiles[s],this.fire("tileunload",{tile:c.el,coords:this._keyToTileCoords(s)}))},_initTile:function(s){At(s,"leaflet-tile");var c=this.getTileSize();s.style.width=c.x+"px",s.style.height=c.y+"px",s.onselectstart=S,s.onmousemove=S,xt.ielt9&&this.options.opacity<1&&cn(s,this.options.opacity)},_addTile:function(s,c){var m=this._getTilePos(s),T=this._tileCoordsToKey(s),b=this.createTile(this._wrapCoords(s),f(this._tileReady,this,s));this._initTile(b),this.createTile.length<2&&B(f(this._tileReady,this,s,null,b)),Re(b,m),this._tiles[T]={el:b,coords:s,current:!0},c.appendChild(b),this.fire("tileloadstart",{tile:b,coords:s})},_tileReady:function(s,c,m){c&&this.fire("tileerror",{error:c,tile:m,coords:s});var T=this._tileCoordsToKey(s);m=this._tiles[T],m&&(m.loaded=+new Date,this._map._fadeAnimated?(cn(m.el,0),G(this._fadeFrame),this._fadeFrame=B(this._updateOpacity,this)):(m.active=!0,this._pruneTiles()),c||(At(m.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:m.el,coords:s})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),xt.ielt9||!this._map._fadeAnimated?B(this._pruneTiles,this):setTimeout(f(this._pruneTiles,this),250)))},_getTilePos:function(s){return s.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(s){var c=new pt(this._wrapX?w(s.x,this._wrapX):s.x,this._wrapY?w(s.y,this._wrapY):s.y);return c.z=s.z,c},_pxBoundsToTileRange:function(s){var c=this.getTileSize();return new at(s.min.unscaleBy(c).floor(),s.max.unscaleBy(c).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var s in this._tiles)if(!this._tiles[s].loaded)return!1;return!0}});function Ci(s){return new Ts(s)}var Es=Ts.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(s,c){this._url=s,c=F(this,c),c.detectRetina&&xt.retina&&c.maxZoom>0?(c.tileSize=Math.floor(c.tileSize/2),c.zoomReverse?(c.zoomOffset--,c.minZoom=Math.min(c.maxZoom,c.minZoom+1)):(c.zoomOffset++,c.maxZoom=Math.max(c.minZoom,c.maxZoom-1)),c.minZoom=Math.max(0,c.minZoom)):c.zoomReverse?c.minZoom=Math.min(c.maxZoom,c.minZoom):c.maxZoom=Math.max(c.minZoom,c.maxZoom),typeof c.subdomains=="string"&&(c.subdomains=c.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(s,c){return this._url===s&&c===void 0&&(c=!0),this._url=s,c||this.redraw(),this},createTile:function(s,c){var m=document.createElement("img");return Vt(m,"load",f(this._tileOnLoad,this,c,m)),Vt(m,"error",f(this._tileOnError,this,c,m)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(m.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(m.referrerPolicy=this.options.referrerPolicy),m.alt="",m.src=this.getTileUrl(s),m},getTileUrl:function(s){var c={r:xt.retina?"@2x":"",s:this._getSubdomain(s),x:s.x,y:s.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var m=this._globalTileRange.max.y-s.y;this.options.tms&&(c.y=m),c["-y"]=m}return ut(this._url,l(c,this.options))},_tileOnLoad:function(s,c){xt.ielt9?setTimeout(f(s,this,null,c),0):s(null,c)},_tileOnError:function(s,c,m){var T=this.options.errorTileUrl;T&&c.getAttribute("src")!==T&&(c.src=T),s(m,c)},_onTileRemove:function(s){s.tile.onload=null},_getZoomForUrl:function(){var s=this._tileZoom,c=this.options.maxZoom,m=this.options.zoomReverse,T=this.options.zoomOffset;return m&&(s=c-s),s+T},_getSubdomain:function(s){var c=Math.abs(s.x+s.y)%this.options.subdomains.length;return this.options.subdomains[c]},_abortLoading:function(){var s,c;for(s in this._tiles)if(this._tiles[s].coords.z!==this._tileZoom&&(c=this._tiles[s].el,c.onload=S,c.onerror=S,!c.complete)){c.src=Tt;var m=this._tiles[s].coords;se(c),delete this._tiles[s],this.fire("tileabort",{tile:c,coords:m})}},_removeTile:function(s){var c=this._tiles[s];if(c)return c.el.setAttribute("src",Tt),Ts.prototype._removeTile.call(this,s)},_tileReady:function(s,c,m){if(!(!this._map||m&&m.getAttribute("src")===Tt))return Ts.prototype._tileReady.call(this,s,c,m)}});function Xn(s,c){return new Es(s,c)}var Wn=Es.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(s,c){this._url=s;var m=l({},this.defaultWmsParams);for(var T in c)T in this.options||(m[T]=c[T]);c=F(this,c);var b=c.detectRetina&&xt.retina?2:1,R=this.getTileSize();m.width=R.x*b,m.height=R.y*b,this.wmsParams=m},onAdd:function(s){this._crs=this.options.crs||s.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var c=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[c]=this._crs.code,Es.prototype.onAdd.call(this,s)},getTileUrl:function(s){var c=this._tileCoordsToNwSe(s),m=this._crs,T=gt(m.project(c[0]),m.project(c[1])),b=T.min,R=T.max,k=(this._wmsVersion>=1.3&&this._crs===ia?[b.y,b.x,R.y,R.x]:[b.x,b.y,R.x,R.y]).join(","),Y=Es.prototype.getTileUrl.call(this,s);return Y+Z(this.wmsParams,Y,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+k},setParams:function(s,c){return l(this.wmsParams,s),c||this.redraw(),this}});function ca(s,c){return new Wn(s,c)}Es.WMS=Wn,Xn.wms=ca;var Ri=bi.extend({options:{padding:.1},initialize:function(s){F(this,s),g(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),At(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var s={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(s.zoomanim=this._onAnimZoom),s},_onAnimZoom:function(s){this._updateTransform(s.center,s.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(s,c){var m=this._map.getZoomScale(c,this._zoom),T=this._map.getSize().multiplyBy(.5+this.options.padding),b=this._map.project(this._center,c),R=T.multiplyBy(-m).add(b).subtract(this._map._getNewPixelOrigin(s,c));xt.any3d?Ln(this._container,R,m):Re(this._container,R)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var s in this._layers)this._layers[s]._reset()},_onZoomEnd:function(){for(var s in this._layers)this._layers[s]._project()},_updatePaths:function(){for(var s in this._layers)this._layers[s]._update()},_update:function(){var s=this.options.padding,c=this._map.getSize(),m=this._map.containerPointToLayerPoint(c.multiplyBy(-s)).round();this._bounds=new at(m,m.add(c.multiplyBy(1+s*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),vo=Ri.extend({options:{tolerance:0},getEvents:function(){var s=Ri.prototype.getEvents.call(this);return s.viewprereset=this._onViewPreReset,s},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Ri.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var s=this._container=document.createElement("canvas");Vt(s,"mousemove",this._onMouseMove,this),Vt(s,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Vt(s,"mouseout",this._handleMouseOut,this),s._leaflet_disable_events=!0,this._ctx=s.getContext("2d")},_destroyContainer:function(){G(this._redrawRequest),delete this._ctx,se(this._container),ae(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var s;this._redrawBounds=null;for(var c in this._layers)s=this._layers[c],s._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Ri.prototype._update.call(this);var s=this._bounds,c=this._container,m=s.getSize(),T=xt.retina?2:1;Re(c,s.min),c.width=T*m.x,c.height=T*m.y,c.style.width=m.x+"px",c.style.height=m.y+"px",xt.retina&&this._ctx.scale(2,2),this._ctx.translate(-s.min.x,-s.min.y),this.fire("update")}},_reset:function(){Ri.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(s){this._updateDashArray(s),this._layers[g(s)]=s;var c=s._order={layer:s,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=c),this._drawLast=c,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(s){this._requestRedraw(s)},_removePath:function(s){var c=s._order,m=c.next,T=c.prev;m?m.prev=T:this._drawLast=T,T?T.next=m:this._drawFirst=m,delete s._order,delete this._layers[g(s)],this._requestRedraw(s)},_updatePath:function(s){this._extendRedrawBounds(s),s._project(),s._update(),this._requestRedraw(s)},_updateStyle:function(s){this._updateDashArray(s),this._requestRedraw(s)},_updateDashArray:function(s){if(typeof s.options.dashArray=="string"){var c=s.options.dashArray.split(/[, ]+/),m=[],T,b;for(b=0;b<c.length;b++){if(T=Number(c[b]),isNaN(T))return;m.push(T)}s.options._dashArray=m}else s.options._dashArray=s.options.dashArray},_requestRedraw:function(s){this._map&&(this._extendRedrawBounds(s),this._redrawRequest=this._redrawRequest||B(this._redraw,this))},_extendRedrawBounds:function(s){if(s._pxBounds){var c=(s.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new at,this._redrawBounds.extend(s._pxBounds.min.subtract([c,c])),this._redrawBounds.extend(s._pxBounds.max.add([c,c]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var s=this._redrawBounds;if(s){var c=s.getSize();this._ctx.clearRect(s.min.x,s.min.y,c.x,c.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var s,c=this._redrawBounds;if(this._ctx.save(),c){var m=c.getSize();this._ctx.beginPath(),this._ctx.rect(c.min.x,c.min.y,m.x,m.y),this._ctx.clip()}this._drawing=!0;for(var T=this._drawFirst;T;T=T.next)s=T.layer,(!c||s._pxBounds&&s._pxBounds.intersects(c))&&s._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(s,c){if(this._drawing){var m,T,b,R,k=s._parts,Y=k.length,nt=this._ctx;if(Y){for(nt.beginPath(),m=0;m<Y;m++){for(T=0,b=k[m].length;T<b;T++)R=k[m][T],nt[T?"lineTo":"moveTo"](R.x,R.y);c&&nt.closePath()}this._fillStroke(nt,s)}}},_updateCircle:function(s){if(!(!this._drawing||s._empty())){var c=s._point,m=this._ctx,T=Math.max(Math.round(s._radius),1),b=(Math.max(Math.round(s._radiusY),1)||T)/T;b!==1&&(m.save(),m.scale(1,b)),m.beginPath(),m.arc(c.x,c.y/b,T,0,Math.PI*2,!1),b!==1&&m.restore(),this._fillStroke(m,s)}},_fillStroke:function(s,c){var m=c.options;m.fill&&(s.globalAlpha=m.fillOpacity,s.fillStyle=m.fillColor||m.color,s.fill(m.fillRule||"evenodd")),m.stroke&&m.weight!==0&&(s.setLineDash&&s.setLineDash(c.options&&c.options._dashArray||[]),s.globalAlpha=m.opacity,s.lineWidth=m.weight,s.strokeStyle=m.color,s.lineCap=m.lineCap,s.lineJoin=m.lineJoin,s.stroke())},_onClick:function(s){for(var c=this._map.mouseEventToLayerPoint(s),m,T,b=this._drawFirst;b;b=b.next)m=b.layer,m.options.interactive&&m._containsPoint(c)&&(!(s.type==="click"||s.type==="preclick")||!this._map._draggableMoved(m))&&(T=m);this._fireEvent(T?[T]:!1,s)},_onMouseMove:function(s){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var c=this._map.mouseEventToLayerPoint(s);this._handleMouseHover(s,c)}},_handleMouseOut:function(s){var c=this._hoveredLayer;c&&(de(this._container,"leaflet-interactive"),this._fireEvent([c],s,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(s,c){if(!this._mouseHoverThrottled){for(var m,T,b=this._drawFirst;b;b=b.next)m=b.layer,m.options.interactive&&m._containsPoint(c)&&(T=m);T!==this._hoveredLayer&&(this._handleMouseOut(s),T&&(At(this._container,"leaflet-interactive"),this._fireEvent([T],s,"mouseover"),this._hoveredLayer=T)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,s),this._mouseHoverThrottled=!0,setTimeout(f(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(s,c,m){this._map._fireDOMEvent(c,m||c.type,s)},_bringToFront:function(s){var c=s._order;if(c){var m=c.next,T=c.prev;if(m)m.prev=T;else return;T?T.next=m:m&&(this._drawFirst=m),c.prev=this._drawLast,this._drawLast.next=c,c.next=null,this._drawLast=c,this._requestRedraw(s)}},_bringToBack:function(s){var c=s._order;if(c){var m=c.next,T=c.prev;if(T)T.next=m;else return;m?m.prev=T:T&&(this._drawLast=T),c.prev=null,c.next=this._drawFirst,this._drawFirst.prev=c,this._drawFirst=c,this._requestRedraw(s)}}});function To(s){return xt.canvas?new vo(s):null}var ws=(function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(s){return document.createElement("<lvml:"+s+' class="lvml">')}}catch{}return function(s){return document.createElement("<"+s+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}})(),ha={_initContainer:function(){this._container=te("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Ri.prototype._update.call(this),this.fire("update"))},_initPath:function(s){var c=s._container=ws("shape");At(c,"leaflet-vml-shape "+(this.options.className||"")),c.coordsize="1 1",s._path=ws("path"),c.appendChild(s._path),this._updateStyle(s),this._layers[g(s)]=s},_addPath:function(s){var c=s._container;this._container.appendChild(c),s.options.interactive&&s.addInteractiveTarget(c)},_removePath:function(s){var c=s._container;se(c),s.removeInteractiveTarget(c),delete this._layers[g(s)]},_updateStyle:function(s){var c=s._stroke,m=s._fill,T=s.options,b=s._container;b.stroked=!!T.stroke,b.filled=!!T.fill,T.stroke?(c||(c=s._stroke=ws("stroke")),b.appendChild(c),c.weight=T.weight+"px",c.color=T.color,c.opacity=T.opacity,T.dashArray?c.dashStyle=st(T.dashArray)?T.dashArray.join(" "):T.dashArray.replace(/( *, *)/g," "):c.dashStyle="",c.endcap=T.lineCap.replace("butt","flat"),c.joinstyle=T.lineJoin):c&&(b.removeChild(c),s._stroke=null),T.fill?(m||(m=s._fill=ws("fill")),b.appendChild(m),m.color=T.fillColor||T.color,m.opacity=T.fillOpacity):m&&(b.removeChild(m),s._fill=null)},_updateCircle:function(s){var c=s._point.round(),m=Math.round(s._radius),T=Math.round(s._radiusY||m);this._setPath(s,s._empty()?"M0 0":"AL "+c.x+","+c.y+" "+m+","+T+" 0,"+65535*360)},_setPath:function(s,c){s._path.v=c},_bringToFront:function(s){Hn(s._container)},_bringToBack:function(s){ai(s._container)}},Eo=xt.vml?ws:tl,Ur=Ri.extend({_initContainer:function(){this._container=Eo("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Eo("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){se(this._container),ae(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Ri.prototype._update.call(this);var s=this._bounds,c=s.getSize(),m=this._container;(!this._svgSize||!this._svgSize.equals(c))&&(this._svgSize=c,m.setAttribute("width",c.x),m.setAttribute("height",c.y)),Re(m,s.min),m.setAttribute("viewBox",[s.min.x,s.min.y,c.x,c.y].join(" ")),this.fire("update")}},_initPath:function(s){var c=s._path=Eo("path");s.options.className&&At(c,s.options.className),s.options.interactive&&At(c,"leaflet-interactive"),this._updateStyle(s),this._layers[g(s)]=s},_addPath:function(s){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(s._path),s.addInteractiveTarget(s._path)},_removePath:function(s){se(s._path),s.removeInteractiveTarget(s._path),delete this._layers[g(s)]},_updatePath:function(s){s._project(),s._update()},_updateStyle:function(s){var c=s._path,m=s.options;c&&(m.stroke?(c.setAttribute("stroke",m.color),c.setAttribute("stroke-opacity",m.opacity),c.setAttribute("stroke-width",m.weight),c.setAttribute("stroke-linecap",m.lineCap),c.setAttribute("stroke-linejoin",m.lineJoin),m.dashArray?c.setAttribute("stroke-dasharray",m.dashArray):c.removeAttribute("stroke-dasharray"),m.dashOffset?c.setAttribute("stroke-dashoffset",m.dashOffset):c.removeAttribute("stroke-dashoffset")):c.setAttribute("stroke","none"),m.fill?(c.setAttribute("fill",m.fillColor||m.color),c.setAttribute("fill-opacity",m.fillOpacity),c.setAttribute("fill-rule",m.fillRule||"evenodd")):c.setAttribute("fill","none"))},_updatePoly:function(s,c){this._setPath(s,Gs(s._parts,c))},_updateCircle:function(s){var c=s._point,m=Math.max(Math.round(s._radius),1),T=Math.max(Math.round(s._radiusY),1)||m,b="a"+m+","+T+" 0 1,0 ",R=s._empty()?"M0 0":"M"+(c.x-m)+","+c.y+b+m*2+",0 "+b+-m*2+",0 ";this._setPath(s,R)},_setPath:function(s,c){s._path.setAttribute("d",c)},_bringToFront:function(s){Hn(s._path)},_bringToBack:function(s){ai(s._path)}});xt.vml&&Ur.include(ha);function bs(s){return xt.svg||xt.vml?new Ur(s):null}Zt.include({getRenderer:function(s){var c=s.options.renderer||this._getPaneRenderer(s.options.pane)||this.options.renderer||this._renderer;return c||(c=this._renderer=this._createRenderer()),this.hasLayer(c)||this.addLayer(c),c},_getPaneRenderer:function(s){if(s==="overlayPane"||s===void 0)return!1;var c=this._paneRenderers[s];return c===void 0&&(c=this._createRenderer({pane:s}),this._paneRenderers[s]=c),c},_createRenderer:function(s){return this.options.preferCanvas&&To(s)||bs(s)}});var Xc=oa.extend({initialize:function(s,c){oa.prototype.initialize.call(this,this._boundsToLatLngs(s),c)},setBounds:function(s){return this.setLatLngs(this._boundsToLatLngs(s))},_boundsToLatLngs:function(s){return s=wt(s),[s.getSouthWest(),s.getNorthWest(),s.getNorthEast(),s.getSouthEast()]}});function $n(s,c){return new Xc(s,c)}Ur.create=Eo,Ur.pointsToPath=Gs,Qn.geometryToLayer=po,Qn.coordsToLatLng=dl,Qn.coordsToLatLngs=_o,Qn.latLngToCoords=go,Qn.latLngsToCoords=ml,Qn.getFeature=Si,Qn.asFeature=la,Zt.mergeOptions({boxZoom:!0});var yl=Pn.extend({initialize:function(s){this._map=s,this._container=s._container,this._pane=s._panes.overlayPane,this._resetStateTimeout=0,s.on("unload",this._destroy,this)},addHooks:function(){Vt(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){ae(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){se(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(s){if(!s.shiftKey||s.which!==1&&s.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),hn(),Pr(),this._startPoint=this._map.mouseEventToContainerPoint(s),Vt(document,{contextmenu:Fn,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(s){this._moved||(this._moved=!0,this._box=te("div","leaflet-zoom-box",this._container),At(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(s);var c=new at(this._point,this._startPoint),m=c.getSize();Re(this._box,c.min),this._box.style.width=m.x+"px",this._box.style.height=m.y+"px"},_finish:function(){this._moved&&(se(this._box),de(this._container,"leaflet-crosshair")),jn(),Qs(),ae(document,{contextmenu:Fn,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(s){if(!(s.which!==1&&s.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(f(this._resetState,this),0);var c=new _t(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(c).fire("boxzoomend",{boxZoomBounds:c})}},_onKeyDown:function(s){s.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Zt.addInitHook("addHandler","boxZoom",yl),Zt.mergeOptions({doubleClickZoom:!0});var Ki=Pn.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(s){var c=this._map,m=c.getZoom(),T=c.options.zoomDelta,b=s.originalEvent.shiftKey?m-T:m+T;c.options.doubleClickZoom==="center"?c.setZoom(b):c.setZoomAround(s.containerPoint,b)}});Zt.addInitHook("addHandler","doubleClickZoom",Ki),Zt.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var yu=Pn.extend({addHooks:function(){if(!this._draggable){var s=this._map;this._draggable=new Ti(s._mapPane,s._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),s.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),s.on("zoomend",this._onZoomEnd,this),s.whenReady(this._onZoomEnd,this))}At(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){de(this._map._container,"leaflet-grab"),de(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var s=this._map;if(s._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var c=wt(this._map.options.maxBounds);this._offsetLimit=gt(this._map.latLngToContainerPoint(c.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(c.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;s.fire("movestart").fire("dragstart"),s.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(s){if(this._map.options.inertia){var c=this._lastTime=+new Date,m=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(m),this._times.push(c),this._prunePositions(c)}this._map.fire("move",s).fire("drag",s)},_prunePositions:function(s){for(;this._positions.length>1&&s-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var s=this._map.getSize().divideBy(2),c=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=c.subtract(s).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(s,c){return s-(s-c)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var s=this._draggable._newPos.subtract(this._draggable._startPos),c=this._offsetLimit;s.x<c.min.x&&(s.x=this._viscousLimit(s.x,c.min.x)),s.y<c.min.y&&(s.y=this._viscousLimit(s.y,c.min.y)),s.x>c.max.x&&(s.x=this._viscousLimit(s.x,c.max.x)),s.y>c.max.y&&(s.y=this._viscousLimit(s.y,c.max.y)),this._draggable._newPos=this._draggable._startPos.add(s)}},_onPreDragWrap:function(){var s=this._worldWidth,c=Math.round(s/2),m=this._initialWorldOffset,T=this._draggable._newPos.x,b=(T-c+m)%s+c-m,R=(T+c+m)%s-c-m,k=Math.abs(b+m)<Math.abs(R+m)?b:R;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=k},_onDragEnd:function(s){var c=this._map,m=c.options,T=!m.inertia||s.noInertia||this._times.length<2;if(c.fire("dragend",s),T)c.fire("moveend");else{this._prunePositions(+new Date);var b=this._lastPos.subtract(this._positions[0]),R=(this._lastTime-this._times[0])/1e3,k=m.easeLinearity,Y=b.multiplyBy(k/R),nt=Y.distanceTo([0,0]),mt=Math.min(m.inertiaMaxSpeed,nt),bt=Y.multiplyBy(mt/nt),Lt=mt/(m.inertiaDeceleration*k),Mt=bt.multiplyBy(-Lt/2).round();!Mt.x&&!Mt.y?c.fire("moveend"):(Mt=c._limitOffset(Mt,c.options.maxBounds),B(function(){c.panBy(Mt,{duration:Lt,easeLinearity:k,noMoveStart:!0,animate:!0})}))}}});Zt.addInitHook("addHandler","dragging",yu),Zt.mergeOptions({keyboard:!0,keyboardPanDelta:80});var wo=Pn.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(s){this._map=s,this._setPanDelta(s.options.keyboardPanDelta),this._setZoomDelta(s.options.zoomDelta)},addHooks:function(){var s=this._map._container;s.tabIndex<=0&&(s.tabIndex="0"),Vt(s,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),ae(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var s=document.body,c=document.documentElement,m=s.scrollTop||c.scrollTop,T=s.scrollLeft||c.scrollLeft;this._map._container.focus(),window.scrollTo(T,m)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(s){var c=this._panKeys={},m=this.keyCodes,T,b;for(T=0,b=m.left.length;T<b;T++)c[m.left[T]]=[-1*s,0];for(T=0,b=m.right.length;T<b;T++)c[m.right[T]]=[s,0];for(T=0,b=m.down.length;T<b;T++)c[m.down[T]]=[0,s];for(T=0,b=m.up.length;T<b;T++)c[m.up[T]]=[0,-1*s]},_setZoomDelta:function(s){var c=this._zoomKeys={},m=this.keyCodes,T,b;for(T=0,b=m.zoomIn.length;T<b;T++)c[m.zoomIn[T]]=s;for(T=0,b=m.zoomOut.length;T<b;T++)c[m.zoomOut[T]]=-s},_addHooks:function(){Vt(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){ae(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(s){if(!(s.altKey||s.ctrlKey||s.metaKey)){var c=s.keyCode,m=this._map,T;if(c in this._panKeys){if(!m._panAnim||!m._panAnim._inProgress)if(T=this._panKeys[c],s.shiftKey&&(T=N(T).multiplyBy(3)),m.options.maxBounds&&(T=m._limitOffset(N(T),m.options.maxBounds)),m.options.worldCopyJump){var b=m.wrapLatLng(m.unproject(m.project(m.getCenter()).add(T)));m.panTo(b)}else m.panBy(T)}else if(c in this._zoomKeys)m.setZoom(m.getZoom()+(s.shiftKey?3:1)*this._zoomKeys[c]);else if(c===27&&m._popup&&m._popup.options.closeOnEscapeKey)m.closePopup();else return;Fn(s)}}});Zt.addInitHook("addHandler","keyboard",wo),Zt.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var zr=Pn.extend({addHooks:function(){Vt(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){ae(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(s){var c=Dr(s),m=this._map.options.wheelDebounceTime;this._delta+=c,this._lastMousePos=this._map.mouseEventToContainerPoint(s),this._startTime||(this._startTime=+new Date);var T=Math.max(m-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(f(this._performZoom,this),T),Fn(s)},_performZoom:function(){var s=this._map,c=s.getZoom(),m=this._map.options.zoomSnap||0;s._stop();var T=this._delta/(this._map.options.wheelPxPerZoomLevel*4),b=4*Math.log(2/(1+Math.exp(-Math.abs(T))))/Math.LN2,R=m?Math.ceil(b/m)*m:b,k=s._limitZoom(c+(this._delta>0?R:-R))-c;this._delta=0,this._startTime=null,k&&(s.options.scrollWheelZoom==="center"?s.setZoom(c+k):s.setZoomAround(this._lastMousePos,c+k))}});Zt.addInitHook("addHandler","scrollWheelZoom",zr);var vu=600;Zt.mergeOptions({tapHold:xt.touchNative&&xt.safari&&xt.mobile,tapTolerance:15});var vl=Pn.extend({addHooks:function(){Vt(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){ae(this._map._container,"touchstart",this._onDown,this)},_onDown:function(s){if(clearTimeout(this._holdTimeout),s.touches.length===1){var c=s.touches[0];this._startPos=this._newPos=new pt(c.clientX,c.clientY),this._holdTimeout=setTimeout(f(function(){this._cancel(),this._isTapValid()&&(Vt(document,"touchend",Ie),Vt(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",c))},this),vu),Vt(document,"touchend touchcancel contextmenu",this._cancel,this),Vt(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function s(){ae(document,"touchend",Ie),ae(document,"touchend touchcancel",s)},_cancel:function(){clearTimeout(this._holdTimeout),ae(document,"touchend touchcancel contextmenu",this._cancel,this),ae(document,"touchmove",this._onMove,this)},_onMove:function(s){var c=s.touches[0];this._newPos=new pt(c.clientX,c.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(s,c){var m=new MouseEvent(s,{bubbles:!0,cancelable:!0,view:window,screenX:c.screenX,screenY:c.screenY,clientX:c.clientX,clientY:c.clientY});m._simulated=!0,c.target.dispatchEvent(m)}});Zt.addInitHook("addHandler","tapHold",vl),Zt.mergeOptions({touchZoom:xt.touch,bounceAtZoomLimits:!0});var Ss=Pn.extend({addHooks:function(){At(this._map._container,"leaflet-touch-zoom"),Vt(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){de(this._map._container,"leaflet-touch-zoom"),ae(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(s){var c=this._map;if(!(!s.touches||s.touches.length!==2||c._animatingZoom||this._zooming)){var m=c.mouseEventToContainerPoint(s.touches[0]),T=c.mouseEventToContainerPoint(s.touches[1]);this._centerPoint=c.getSize()._divideBy(2),this._startLatLng=c.containerPointToLatLng(this._centerPoint),c.options.touchZoom!=="center"&&(this._pinchStartLatLng=c.containerPointToLatLng(m.add(T)._divideBy(2))),this._startDist=m.distanceTo(T),this._startZoom=c.getZoom(),this._moved=!1,this._zooming=!0,c._stop(),Vt(document,"touchmove",this._onTouchMove,this),Vt(document,"touchend touchcancel",this._onTouchEnd,this),Ie(s)}},_onTouchMove:function(s){if(!(!s.touches||s.touches.length!==2||!this._zooming)){var c=this._map,m=c.mouseEventToContainerPoint(s.touches[0]),T=c.mouseEventToContainerPoint(s.touches[1]),b=m.distanceTo(T)/this._startDist;if(this._zoom=c.getScaleZoom(b,this._startZoom),!c.options.bounceAtZoomLimits&&(this._zoom<c.getMinZoom()&&b<1||this._zoom>c.getMaxZoom()&&b>1)&&(this._zoom=c._limitZoom(this._zoom)),c.options.touchZoom==="center"){if(this._center=this._startLatLng,b===1)return}else{var R=m._add(T)._divideBy(2)._subtract(this._centerPoint);if(b===1&&R.x===0&&R.y===0)return;this._center=c.unproject(c.project(this._pinchStartLatLng,this._zoom).subtract(R),this._zoom)}this._moved||(c._moveStart(!0,!1),this._moved=!0),G(this._animRequest);var k=f(c._move,c,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=B(k,this,!0),Ie(s)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,G(this._animRequest),ae(document,"touchmove",this._onTouchMove,this),ae(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Zt.addInitHook("addHandler","touchZoom",Ss),Zt.BoxZoom=yl,Zt.DoubleClickZoom=Ki,Zt.Drag=yu,Zt.Keyboard=wo,Zt.ScrollWheelZoom=zr,Zt.TapHold=vl,Zt.TouchZoom=Ss,n.Bounds=at,n.Browser=xt,n.CRS=Ee,n.Canvas=vo,n.Circle=pu,n.CircleMarker=mo,n.Class=ce,n.Control=nn,n.DivIcon=gu,n.DivOverlay=Ai,n.DomEvent=ps,n.DomUtil=ol,n.Draggable=Ti,n.Evented=Et,n.FeatureGroup=Kn,n.GeoJSON=Qn,n.GridLayer=Ts,n.Handler=Pn,n.Icon=ra,n.ImageOverlay=Zi,n.LatLng=It,n.LatLngBounds=_t,n.Layer=bi,n.LayerGroup=ys,n.LineUtil=Gn,n.Map=Zt,n.Marker=aa,n.Mixin=cl,n.Path=mr,n.Point=pt,n.PolyUtil=ea,n.Polygon=oa,n.Polyline=pr,n.Popup=yo,n.PosAnimation=_s,n.Projection=Ei,n.Rectangle=Xc,n.Renderer=Ri,n.SVG=Ur,n.SVGOverlay=Vr,n.TileLayer=Es,n.Tooltip=gl,n.Transformation=Rr,n.Util=U,n.VideoOverlay=_l,n.bind=f,n.bounds=gt,n.canvas=To,n.circle=sd,n.circleMarker=Gc,n.control=vi,n.divIcon=Qc,n.extend=l,n.featureGroup=fo,n.geoJSON=pl,n.geoJson=Zc,n.gridLayer=Ci,n.icon=fl,n.imageOverlay=ua,n.latLng=vt,n.latLngBounds=wt,n.layerGroup=Fc,n.map=Fi,n.marker=mu,n.point=N,n.polygon=Yn,n.polyline=ad,n.popup=od,n.rectangle=$n,n.setOptions=F,n.stamp=g,n.svg=bs,n.svgOverlay=Yc,n.tileLayer=Xn,n.tooltip=ld,n.transformation=Oi,n.version=a,n.videoOverlay=Kc;var fa=window.L;n.noConflict=function(){return window.L=fa,this},window.L=n}))})(uc,uc.exports)),uc.exports}var id=wO();const iu=Op(id);function vb(r,t,n){return Object.freeze({instance:r,context:t,container:n})}function Tb(r,t){return t==null?function(a,l){const u=X.useRef(void 0);return u.current||(u.current=r(a,l)),u}:function(a,l){const u=X.useRef(void 0);u.current||(u.current=r(a,l));const f=X.useRef(a),{instance:_}=u.current;return X.useEffect(function(){f.current!==a&&(t(_,a,f.current),f.current=a)},[_,a,t]),u}}function bO(r,t){X.useEffect(function(){return(t.layerContainer??t.map).addLayer(r.instance),function(){var u;(u=t.layerContainer)==null||u.removeLayer(r.instance),t.map.removeLayer(r.instance)}},[t,r])}function Eb(r){return function(n){const a=gb(),l=r(yb(n,a),a);return mO(a.map,n.attribution),TO(l.current,n.eventHandlers),bO(l.current,a),l}}function SO(r,t){const n=Tb(r,t),a=Eb(n);return yO(a)}function AO(r,t){const n=Tb(r,t),a=Eb(n);return vO(a)}function CO(r,t,n){const{opacity:a,zIndex:l}=t;a!=null&&a!==n.opacity&&r.setOpacity(a),l!=null&&l!==n.zIndex&&r.setZIndex(l)}function wb(){return gb().map}function RO(r){const t=wb();return X.useEffect(function(){return t.on(r),function(){t.off(r)}},[t,r]),t}function IO({bounds:r,boundsOptions:t,center:n,children:a,className:l,id:u,placeholder:f,style:_,whenReady:g,zoom:v,...w},S){const[I]=X.useState({className:l,id:u,style:_}),[M,q]=X.useState(null),F=X.useRef(void 0);X.useImperativeHandle(S,()=>(M==null?void 0:M.map)??null,[M]);const Z=X.useCallback(ut=>{if(ut!==null&&!F.current){const st=new id.Map(ut,w);F.current=st,n!=null&&v!=null?st.setView(n,v):r!=null&&st.fitBounds(r,t),g!=null&&st.whenReady(g),q(_O(st))}},[]);X.useEffect(()=>()=>{M==null||M.map.remove()},[M]);const it=M?mf.createElement(B_,{value:M},a):f??null;return mf.createElement("div",{...I,ref:Z},it)}const bb=X.forwardRef(IO),LO=SO(function({position:t,...n},a){const l=new id.Marker(t,n);return vb(l,gO(a,{overlayContainer:l}))},function(t,n,a){n.position!==a.position&&t.setLatLng(n.position),n.icon!=null&&n.icon!==a.icon&&t.setIcon(n.icon),n.zIndexOffset!=null&&n.zIndexOffset!==a.zIndexOffset&&t.setZIndexOffset(n.zIndexOffset),n.opacity!=null&&n.opacity!==a.opacity&&t.setOpacity(n.opacity),t.dragging!=null&&n.draggable!==a.draggable&&(n.draggable===!0?t.dragging.enable():t.dragging.disable())}),Sb=AO(function({url:t,...n},a){const l=new id.TileLayer(t,yb(n,a));return vb(l,a)},function(t,n,a){CO(t,n,a);const{url:l}=n;l!=null&&l!==a.url&&t.setUrl(l)});var cc={exports:{}},xO=cc.exports,CE;function PO(){return CE||(CE=1,(function(r,t){(function(n,a){a(t)})(xO,function(n){var a=L.MarkerClusterGroup=L.FeatureGroup.extend({options:{maxClusterRadius:80,iconCreateFunction:null,clusterPane:L.Marker.prototype.options.pane,spiderfyOnEveryZoom:!1,spiderfyOnMaxZoom:!0,showCoverageOnHover:!0,zoomToBoundsOnClick:!0,singleMarkerMode:!1,disableClusteringAtZoom:null,removeOutsideVisibleBounds:!0,animate:!0,animateAddingMarkers:!1,spiderfyShapePositions:null,spiderfyDistanceMultiplier:1,spiderLegPolylineOptions:{weight:1.5,color:"#222",opacity:.5},chunkedLoading:!1,chunkInterval:200,chunkDelay:50,chunkProgress:null,polygonOptions:{}},initialize:function(u){L.Util.setOptions(this,u),this.options.iconCreateFunction||(this.options.iconCreateFunction=this._defaultIconCreateFunction),this._featureGroup=L.featureGroup(),this._featureGroup.addEventParent(this),this._nonPointGroup=L.featureGroup(),this._nonPointGroup.addEventParent(this),this._inZoomAnimation=0,this._needsClustering=[],this._needsRemoving=[],this._currentShownBounds=null,this._queue=[],this._childMarkerEventHandlers={dragstart:this._childMarkerDragStart,move:this._childMarkerMoved,dragend:this._childMarkerDragEnd};var f=L.DomUtil.TRANSITION&&this.options.animate;L.extend(this,f?this._withAnimation:this._noAnimation),this._markerCluster=f?L.MarkerCluster:L.MarkerClusterNonAnimated},addLayer:function(u){if(u instanceof L.LayerGroup)return this.addLayers([u]);if(!u.getLatLng)return this._nonPointGroup.addLayer(u),this.fire("layeradd",{layer:u}),this;if(!this._map)return this._needsClustering.push(u),this.fire("layeradd",{layer:u}),this;if(this.hasLayer(u))return this;this._unspiderfy&&this._unspiderfy(),this._addLayer(u,this._maxZoom),this.fire("layeradd",{layer:u}),this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons();var f=u,_=this._zoom;if(u.__parent)for(;f.__parent._zoom>=_;)f=f.__parent;return this._currentShownBounds.contains(f.getLatLng())&&(this.options.animateAddingMarkers?this._animationAddLayer(u,f):this._animationAddLayerNonAnimated(u,f)),this},removeLayer:function(u){return u instanceof L.LayerGroup?this.removeLayers([u]):u.getLatLng?this._map?u.__parent?(this._unspiderfy&&(this._unspiderfy(),this._unspiderfyLayer(u)),this._removeLayer(u,!0),this.fire("layerremove",{layer:u}),this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),u.off(this._childMarkerEventHandlers,this),this._featureGroup.hasLayer(u)&&(this._featureGroup.removeLayer(u),u.clusterShow&&u.clusterShow()),this):this:(!this._arraySplice(this._needsClustering,u)&&this.hasLayer(u)&&this._needsRemoving.push({layer:u,latlng:u._latlng}),this.fire("layerremove",{layer:u}),this):(this._nonPointGroup.removeLayer(u),this.fire("layerremove",{layer:u}),this)},addLayers:function(u,f){if(!L.Util.isArray(u))return this.addLayer(u);var _=this._featureGroup,g=this._nonPointGroup,v=this.options.chunkedLoading,w=this.options.chunkInterval,S=this.options.chunkProgress,I=u.length,M=0,q=!0,F;if(this._map){var Z=new Date().getTime(),it=L.bind(function(){var st=new Date().getTime();for(this._map&&this._unspiderfy&&this._unspiderfy();M<I;M++){if(v&&M%200===0){var St=new Date().getTime()-st;if(St>w)break}if(F=u[M],F instanceof L.LayerGroup){q&&(u=u.slice(),q=!1),this._extractNonGroupLayers(F,u),I=u.length;continue}if(!F.getLatLng){g.addLayer(F),f||this.fire("layeradd",{layer:F});continue}if(!this.hasLayer(F)&&(this._addLayer(F,this._maxZoom),f||this.fire("layeradd",{layer:F}),F.__parent&&F.__parent.getChildCount()===2)){var Tt=F.__parent.getAllChildMarkers(),kt=Tt[0]===F?Tt[1]:Tt[0];_.removeLayer(kt)}}S&&S(M,I,new Date().getTime()-Z),M===I?(this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),this._topClusterLevel._recursivelyAddChildrenToMap(null,this._zoom,this._currentShownBounds)):setTimeout(it,this.options.chunkDelay)},this);it()}else for(var ut=this._needsClustering;M<I;M++){if(F=u[M],F instanceof L.LayerGroup){q&&(u=u.slice(),q=!1),this._extractNonGroupLayers(F,u),I=u.length;continue}if(!F.getLatLng){g.addLayer(F);continue}this.hasLayer(F)||ut.push(F)}return this},removeLayers:function(u){var f,_,g=u.length,v=this._featureGroup,w=this._nonPointGroup,S=!0;if(!this._map){for(f=0;f<g;f++){if(_=u[f],_ instanceof L.LayerGroup){S&&(u=u.slice(),S=!1),this._extractNonGroupLayers(_,u),g=u.length;continue}this._arraySplice(this._needsClustering,_),w.removeLayer(_),this.hasLayer(_)&&this._needsRemoving.push({layer:_,latlng:_._latlng}),this.fire("layerremove",{layer:_})}return this}if(this._unspiderfy){this._unspiderfy();var I=u.slice(),M=g;for(f=0;f<M;f++){if(_=I[f],_ instanceof L.LayerGroup){this._extractNonGroupLayers(_,I),M=I.length;continue}this._unspiderfyLayer(_)}}for(f=0;f<g;f++){if(_=u[f],_ instanceof L.LayerGroup){S&&(u=u.slice(),S=!1),this._extractNonGroupLayers(_,u),g=u.length;continue}if(!_.__parent){w.removeLayer(_),this.fire("layerremove",{layer:_});continue}this._removeLayer(_,!0,!0),this.fire("layerremove",{layer:_}),v.hasLayer(_)&&(v.removeLayer(_),_.clusterShow&&_.clusterShow())}return this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),this._topClusterLevel._recursivelyAddChildrenToMap(null,this._zoom,this._currentShownBounds),this},clearLayers:function(){return this._map||(this._needsClustering=[],this._needsRemoving=[],delete this._gridClusters,delete this._gridUnclustered),this._noanimationUnspiderfy&&this._noanimationUnspiderfy(),this._featureGroup.clearLayers(),this._nonPointGroup.clearLayers(),this.eachLayer(function(u){u.off(this._childMarkerEventHandlers,this),delete u.__parent},this),this._map&&this._generateInitialClusters(),this},getBounds:function(){var u=new L.LatLngBounds;this._topClusterLevel&&u.extend(this._topClusterLevel._bounds);for(var f=this._needsClustering.length-1;f>=0;f--)u.extend(this._needsClustering[f].getLatLng());return u.extend(this._nonPointGroup.getBounds()),u},eachLayer:function(u,f){var _=this._needsClustering.slice(),g=this._needsRemoving,v,w,S;for(this._topClusterLevel&&this._topClusterLevel.getAllChildMarkers(_),w=_.length-1;w>=0;w--){for(v=!0,S=g.length-1;S>=0;S--)if(g[S].layer===_[w]){v=!1;break}v&&u.call(f,_[w])}this._nonPointGroup.eachLayer(u,f)},getLayers:function(){var u=[];return this.eachLayer(function(f){u.push(f)}),u},getLayer:function(u){var f=null;return u=parseInt(u,10),this.eachLayer(function(_){L.stamp(_)===u&&(f=_)}),f},hasLayer:function(u){if(!u)return!1;var f,_=this._needsClustering;for(f=_.length-1;f>=0;f--)if(_[f]===u)return!0;for(_=this._needsRemoving,f=_.length-1;f>=0;f--)if(_[f].layer===u)return!1;return!!(u.__parent&&u.__parent._group===this)||this._nonPointGroup.hasLayer(u)},zoomToShowLayer:function(u,f){var _=this._map;typeof f!="function"&&(f=function(){});var g=function(){(_.hasLayer(u)||_.hasLayer(u.__parent))&&!this._inZoomAnimation&&(this._map.off("moveend",g,this),this.off("animationend",g,this),_.hasLayer(u)?f():u.__parent._icon&&(this.once("spiderfied",f,this),u.__parent.spiderfy()))};u._icon&&this._map.getBounds().contains(u.getLatLng())?f():u.__parent._zoom<Math.round(this._map._zoom)?(this._map.on("moveend",g,this),this._map.panTo(u.getLatLng())):(this._map.on("moveend",g,this),this.on("animationend",g,this),u.__parent.zoomToBounds())},onAdd:function(u){this._map=u;var f,_,g;if(!isFinite(this._map.getMaxZoom()))throw"Map has no maxZoom specified";for(this._featureGroup.addTo(u),this._nonPointGroup.addTo(u),this._gridClusters||this._generateInitialClusters(),this._maxLat=u.options.crs.projection.MAX_LATITUDE,f=0,_=this._needsRemoving.length;f<_;f++)g=this._needsRemoving[f],g.newlatlng=g.layer._latlng,g.layer._latlng=g.latlng;for(f=0,_=this._needsRemoving.length;f<_;f++)g=this._needsRemoving[f],this._removeLayer(g.layer,!0),g.layer._latlng=g.newlatlng;this._needsRemoving=[],this._zoom=Math.round(this._map._zoom),this._currentShownBounds=this._getExpandedVisibleBounds(),this._map.on("zoomend",this._zoomEnd,this),this._map.on("moveend",this._moveEnd,this),this._spiderfierOnAdd&&this._spiderfierOnAdd(),this._bindEvents(),_=this._needsClustering,this._needsClustering=[],this.addLayers(_,!0)},onRemove:function(u){u.off("zoomend",this._zoomEnd,this),u.off("moveend",this._moveEnd,this),this._unbindEvents(),this._map._mapPane.className=this._map._mapPane.className.replace(" leaflet-cluster-anim",""),this._spiderfierOnRemove&&this._spiderfierOnRemove(),delete this._maxLat,this._hideCoverage(),this._featureGroup.remove(),this._nonPointGroup.remove(),this._featureGroup.clearLayers(),this._map=null},getVisibleParent:function(u){for(var f=u;f&&!f._icon;)f=f.__parent;return f||null},_arraySplice:function(u,f){for(var _=u.length-1;_>=0;_--)if(u[_]===f)return u.splice(_,1),!0},_removeFromGridUnclustered:function(u,f){for(var _=this._map,g=this._gridUnclustered,v=Math.floor(this._map.getMinZoom());f>=v&&g[f].removeObject(u,_.project(u.getLatLng(),f));f--);},_childMarkerDragStart:function(u){u.target.__dragStart=u.target._latlng},_childMarkerMoved:function(u){if(!this._ignoreMove&&!u.target.__dragStart){var f=u.target._popup&&u.target._popup.isOpen();this._moveChild(u.target,u.oldLatLng,u.latlng),f&&u.target.openPopup()}},_moveChild:function(u,f,_){u._latlng=f,this.removeLayer(u),u._latlng=_,this.addLayer(u)},_childMarkerDragEnd:function(u){var f=u.target.__dragStart;delete u.target.__dragStart,f&&this._moveChild(u.target,f,u.target._latlng)},_removeLayer:function(u,f,_){var g=this._gridClusters,v=this._gridUnclustered,w=this._featureGroup,S=this._map,I=Math.floor(this._map.getMinZoom());f&&this._removeFromGridUnclustered(u,this._maxZoom);var M=u.__parent,q=M._markers,F;for(this._arraySplice(q,u);M&&(M._childCount--,M._boundsNeedUpdate=!0,!(M._zoom<I));)f&&M._childCount<=1?(F=M._markers[0]===u?M._markers[1]:M._markers[0],g[M._zoom].removeObject(M,S.project(M._cLatLng,M._zoom)),v[M._zoom].addObject(F,S.project(F.getLatLng(),M._zoom)),this._arraySplice(M.__parent._childClusters,M),M.__parent._markers.push(F),F.__parent=M.__parent,M._icon&&(w.removeLayer(M),_||w.addLayer(F))):M._iconNeedsUpdate=!0,M=M.__parent;delete u.__parent},_isOrIsParent:function(u,f){for(;f;){if(u===f)return!0;f=f.parentNode}return!1},fire:function(u,f,_){if(f&&f.layer instanceof L.MarkerCluster){if(f.originalEvent&&this._isOrIsParent(f.layer._icon,f.originalEvent.relatedTarget))return;u="cluster"+u}L.FeatureGroup.prototype.fire.call(this,u,f,_)},listens:function(u,f){return L.FeatureGroup.prototype.listens.call(this,u,f)||L.FeatureGroup.prototype.listens.call(this,"cluster"+u,f)},_defaultIconCreateFunction:function(u){var f=u.getChildCount(),_=" marker-cluster-";return f<10?_+="small":f<100?_+="medium":_+="large",new L.DivIcon({html:"<div><span>"+f+"</span></div>",className:"marker-cluster"+_,iconSize:new L.Point(40,40)})},_bindEvents:function(){var u=this._map,f=this.options.spiderfyOnMaxZoom,_=this.options.showCoverageOnHover,g=this.options.zoomToBoundsOnClick,v=this.options.spiderfyOnEveryZoom;(f||g||v)&&this.on("clusterclick clusterkeypress",this._zoomOrSpiderfy,this),_&&(this.on("clustermouseover",this._showCoverage,this),this.on("clustermouseout",this._hideCoverage,this),u.on("zoomend",this._hideCoverage,this))},_zoomOrSpiderfy:function(u){var f=u.layer,_=f;if(!(u.type==="clusterkeypress"&&u.originalEvent&&u.originalEvent.keyCode!==13)){for(;_._childClusters.length===1;)_=_._childClusters[0];_._zoom===this._maxZoom&&_._childCount===f._childCount&&this.options.spiderfyOnMaxZoom?f.spiderfy():this.options.zoomToBoundsOnClick&&f.zoomToBounds(),this.options.spiderfyOnEveryZoom&&f.spiderfy(),u.originalEvent&&u.originalEvent.keyCode===13&&this._map._container.focus()}},_showCoverage:function(u){var f=this._map;this._inZoomAnimation||(this._shownPolygon&&f.removeLayer(this._shownPolygon),u.layer.getChildCount()>2&&u.layer!==this._spiderfied&&(this._shownPolygon=new L.Polygon(u.layer.getConvexHull(),this.options.polygonOptions),f.addLayer(this._shownPolygon)))},_hideCoverage:function(){this._shownPolygon&&(this._map.removeLayer(this._shownPolygon),this._shownPolygon=null)},_unbindEvents:function(){var u=this.options.spiderfyOnMaxZoom,f=this.options.showCoverageOnHover,_=this.options.zoomToBoundsOnClick,g=this.options.spiderfyOnEveryZoom,v=this._map;(u||_||g)&&this.off("clusterclick clusterkeypress",this._zoomOrSpiderfy,this),f&&(this.off("clustermouseover",this._showCoverage,this),this.off("clustermouseout",this._hideCoverage,this),v.off("zoomend",this._hideCoverage,this))},_zoomEnd:function(){this._map&&(this._mergeSplitClusters(),this._zoom=Math.round(this._map._zoom),this._currentShownBounds=this._getExpandedVisibleBounds())},_moveEnd:function(){if(!this._inZoomAnimation){var u=this._getExpandedVisibleBounds();this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),this._zoom,u),this._topClusterLevel._recursivelyAddChildrenToMap(null,Math.round(this._map._zoom),u),this._currentShownBounds=u}},_generateInitialClusters:function(){var u=Math.ceil(this._map.getMaxZoom()),f=Math.floor(this._map.getMinZoom()),_=this.options.maxClusterRadius,g=_;typeof _!="function"&&(g=function(){return _}),this.options.disableClusteringAtZoom!==null&&(u=this.options.disableClusteringAtZoom-1),this._maxZoom=u,this._gridClusters={},this._gridUnclustered={};for(var v=u;v>=f;v--)this._gridClusters[v]=new L.DistanceGrid(g(v)),this._gridUnclustered[v]=new L.DistanceGrid(g(v));this._topClusterLevel=new this._markerCluster(this,f-1)},_addLayer:function(u,f){var _=this._gridClusters,g=this._gridUnclustered,v=Math.floor(this._map.getMinZoom()),w,S;for(this.options.singleMarkerMode&&this._overrideMarkerIcon(u),u.on(this._childMarkerEventHandlers,this);f>=v;f--){w=this._map.project(u.getLatLng(),f);var I=_[f].getNearObject(w);if(I){I._addChild(u),u.__parent=I;return}if(I=g[f].getNearObject(w),I){var M=I.__parent;M&&this._removeLayer(I,!1);var q=new this._markerCluster(this,f,I,u);_[f].addObject(q,this._map.project(q._cLatLng,f)),I.__parent=q,u.__parent=q;var F=q;for(S=f-1;S>M._zoom;S--)F=new this._markerCluster(this,S,F),_[S].addObject(F,this._map.project(I.getLatLng(),S));M._addChild(F),this._removeFromGridUnclustered(I,f);return}g[f].addObject(u,w)}this._topClusterLevel._addChild(u),u.__parent=this._topClusterLevel},_refreshClustersIcons:function(){this._featureGroup.eachLayer(function(u){u instanceof L.MarkerCluster&&u._iconNeedsUpdate&&u._updateIcon()})},_enqueue:function(u){this._queue.push(u),this._queueTimeout||(this._queueTimeout=setTimeout(L.bind(this._processQueue,this),300))},_processQueue:function(){for(var u=0;u<this._queue.length;u++)this._queue[u].call(this);this._queue.length=0,clearTimeout(this._queueTimeout),this._queueTimeout=null},_mergeSplitClusters:function(){var u=Math.round(this._map._zoom);this._processQueue(),this._zoom<u&&this._currentShownBounds.intersects(this._getExpandedVisibleBounds())?(this._animationStart(),this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),this._zoom,this._getExpandedVisibleBounds()),this._animationZoomIn(this._zoom,u)):this._zoom>u?(this._animationStart(),this._animationZoomOut(this._zoom,u)):this._moveEnd()},_getExpandedVisibleBounds:function(){if(this.options.removeOutsideVisibleBounds){if(L.Browser.mobile)return this._checkBoundsMaxLat(this._map.getBounds())}else return this._mapBoundsInfinite;return this._checkBoundsMaxLat(this._map.getBounds().pad(1))},_checkBoundsMaxLat:function(u){var f=this._maxLat;return f!==void 0&&(u.getNorth()>=f&&(u._northEast.lat=1/0),u.getSouth()<=-f&&(u._southWest.lat=-1/0)),u},_animationAddLayerNonAnimated:function(u,f){if(f===u)this._featureGroup.addLayer(u);else if(f._childCount===2){f._addToMap();var _=f.getAllChildMarkers();this._featureGroup.removeLayer(_[0]),this._featureGroup.removeLayer(_[1])}else f._updateIcon()},_extractNonGroupLayers:function(u,f){var _=u.getLayers(),g=0,v;for(f=f||[];g<_.length;g++){if(v=_[g],v instanceof L.LayerGroup){this._extractNonGroupLayers(v,f);continue}f.push(v)}return f},_overrideMarkerIcon:function(u){var f=u.options.icon=this.options.iconCreateFunction({getChildCount:function(){return 1},getAllChildMarkers:function(){return[u]}});return f}});L.MarkerClusterGroup.include({_mapBoundsInfinite:new L.LatLngBounds(new L.LatLng(-1/0,-1/0),new L.LatLng(1/0,1/0))}),L.MarkerClusterGroup.include({_noAnimation:{_animationStart:function(){},_animationZoomIn:function(u,f){this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),u),this._topClusterLevel._recursivelyAddChildrenToMap(null,f,this._getExpandedVisibleBounds()),this.fire("animationend")},_animationZoomOut:function(u,f){this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),u),this._topClusterLevel._recursivelyAddChildrenToMap(null,f,this._getExpandedVisibleBounds()),this.fire("animationend")},_animationAddLayer:function(u,f){this._animationAddLayerNonAnimated(u,f)}},_withAnimation:{_animationStart:function(){this._map._mapPane.className+=" leaflet-cluster-anim",this._inZoomAnimation++},_animationZoomIn:function(u,f){var _=this._getExpandedVisibleBounds(),g=this._featureGroup,v=Math.floor(this._map.getMinZoom()),w;this._ignoreMove=!0,this._topClusterLevel._recursively(_,u,v,function(S){var I=S._latlng,M=S._markers,q;for(_.contains(I)||(I=null),S._isSingleParent()&&u+1===f?(g.removeLayer(S),S._recursivelyAddChildrenToMap(null,f,_)):(S.clusterHide(),S._recursivelyAddChildrenToMap(I,f,_)),w=M.length-1;w>=0;w--)q=M[w],_.contains(q._latlng)||g.removeLayer(q)}),this._forceLayout(),this._topClusterLevel._recursivelyBecomeVisible(_,f),g.eachLayer(function(S){!(S instanceof L.MarkerCluster)&&S._icon&&S.clusterShow()}),this._topClusterLevel._recursively(_,u,f,function(S){S._recursivelyRestoreChildPositions(f)}),this._ignoreMove=!1,this._enqueue(function(){this._topClusterLevel._recursively(_,u,v,function(S){g.removeLayer(S),S.clusterShow()}),this._animationEnd()})},_animationZoomOut:function(u,f){this._animationZoomOutSingle(this._topClusterLevel,u-1,f),this._topClusterLevel._recursivelyAddChildrenToMap(null,f,this._getExpandedVisibleBounds()),this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),u,this._getExpandedVisibleBounds())},_animationAddLayer:function(u,f){var _=this,g=this._featureGroup;g.addLayer(u),f!==u&&(f._childCount>2?(f._updateIcon(),this._forceLayout(),this._animationStart(),u._setPos(this._map.latLngToLayerPoint(f.getLatLng())),u.clusterHide(),this._enqueue(function(){g.removeLayer(u),u.clusterShow(),_._animationEnd()})):(this._forceLayout(),_._animationStart(),_._animationZoomOutSingle(f,this._map.getMaxZoom(),this._zoom)))}},_animationZoomOutSingle:function(u,f,_){var g=this._getExpandedVisibleBounds(),v=Math.floor(this._map.getMinZoom());u._recursivelyAnimateChildrenInAndAddSelfToMap(g,v,f+1,_);var w=this;this._forceLayout(),u._recursivelyBecomeVisible(g,_),this._enqueue(function(){if(u._childCount===1){var S=u._markers[0];this._ignoreMove=!0,S.setLatLng(S.getLatLng()),this._ignoreMove=!1,S.clusterShow&&S.clusterShow()}else u._recursively(g,_,v,function(I){I._recursivelyRemoveChildrenFromMap(g,v,f+1)});w._animationEnd()})},_animationEnd:function(){this._map&&(this._map._mapPane.className=this._map._mapPane.className.replace(" leaflet-cluster-anim","")),this._inZoomAnimation--,this.fire("animationend")},_forceLayout:function(){L.Util.falseFn(document.body.offsetWidth)}}),L.markerClusterGroup=function(u){return new L.MarkerClusterGroup(u)};var l=L.MarkerCluster=L.Marker.extend({options:L.Icon.prototype.options,initialize:function(u,f,_,g){L.Marker.prototype.initialize.call(this,_?_._cLatLng||_.getLatLng():new L.LatLng(0,0),{icon:this,pane:u.options.clusterPane}),this._group=u,this._zoom=f,this._markers=[],this._childClusters=[],this._childCount=0,this._iconNeedsUpdate=!0,this._boundsNeedUpdate=!0,this._bounds=new L.LatLngBounds,_&&this._addChild(_),g&&this._addChild(g)},getAllChildMarkers:function(u,f){u=u||[];for(var _=this._childClusters.length-1;_>=0;_--)this._childClusters[_].getAllChildMarkers(u,f);for(var g=this._markers.length-1;g>=0;g--)f&&this._markers[g].__dragStart||u.push(this._markers[g]);return u},getChildCount:function(){return this._childCount},zoomToBounds:function(u){for(var f=this._childClusters.slice(),_=this._group._map,g=_.getBoundsZoom(this._bounds),v=this._zoom+1,w=_.getZoom(),S;f.length>0&&g>v;){v++;var I=[];for(S=0;S<f.length;S++)I=I.concat(f[S]._childClusters);f=I}g>v?this._group._map.setView(this._latlng,v):g<=w?this._group._map.setView(this._latlng,w+1):this._group._map.fitBounds(this._bounds,u)},getBounds:function(){var u=new L.LatLngBounds;return u.extend(this._bounds),u},_updateIcon:function(){this._iconNeedsUpdate=!0,this._icon&&this.setIcon(this)},createIcon:function(){return this._iconNeedsUpdate&&(this._iconObj=this._group.options.iconCreateFunction(this),this._iconNeedsUpdate=!1),this._iconObj.createIcon()},createShadow:function(){return this._iconObj.createShadow()},_addChild:function(u,f){this._iconNeedsUpdate=!0,this._boundsNeedUpdate=!0,this._setClusterCenter(u),u instanceof L.MarkerCluster?(f||(this._childClusters.push(u),u.__parent=this),this._childCount+=u._childCount):(f||this._markers.push(u),this._childCount++),this.__parent&&this.__parent._addChild(u,!0)},_setClusterCenter:function(u){this._cLatLng||(this._cLatLng=u._cLatLng||u._latlng)},_resetBounds:function(){var u=this._bounds;u._southWest&&(u._southWest.lat=1/0,u._southWest.lng=1/0),u._northEast&&(u._northEast.lat=-1/0,u._northEast.lng=-1/0)},_recalculateBounds:function(){var u=this._markers,f=this._childClusters,_=0,g=0,v=this._childCount,w,S,I,M;if(v!==0){for(this._resetBounds(),w=0;w<u.length;w++)I=u[w]._latlng,this._bounds.extend(I),_+=I.lat,g+=I.lng;for(w=0;w<f.length;w++)S=f[w],S._boundsNeedUpdate&&S._recalculateBounds(),this._bounds.extend(S._bounds),I=S._wLatLng,M=S._childCount,_+=I.lat*M,g+=I.lng*M;this._latlng=this._wLatLng=new L.LatLng(_/v,g/v),this._boundsNeedUpdate=!1}},_addToMap:function(u){u&&(this._backupLatlng=this._latlng,this.setLatLng(u)),this._group._featureGroup.addLayer(this)},_recursivelyAnimateChildrenIn:function(u,f,_){this._recursively(u,this._group._map.getMinZoom(),_-1,function(g){var v=g._markers,w,S;for(w=v.length-1;w>=0;w--)S=v[w],S._icon&&(S._setPos(f),S.clusterHide())},function(g){var v=g._childClusters,w,S;for(w=v.length-1;w>=0;w--)S=v[w],S._icon&&(S._setPos(f),S.clusterHide())})},_recursivelyAnimateChildrenInAndAddSelfToMap:function(u,f,_,g){this._recursively(u,g,f,function(v){v._recursivelyAnimateChildrenIn(u,v._group._map.latLngToLayerPoint(v.getLatLng()).round(),_),v._isSingleParent()&&_-1===g?(v.clusterShow(),v._recursivelyRemoveChildrenFromMap(u,f,_)):v.clusterHide(),v._addToMap()})},_recursivelyBecomeVisible:function(u,f){this._recursively(u,this._group._map.getMinZoom(),f,null,function(_){_.clusterShow()})},_recursivelyAddChildrenToMap:function(u,f,_){this._recursively(_,this._group._map.getMinZoom()-1,f,function(g){if(f!==g._zoom)for(var v=g._markers.length-1;v>=0;v--){var w=g._markers[v];_.contains(w._latlng)&&(u&&(w._backupLatlng=w.getLatLng(),w.setLatLng(u),w.clusterHide&&w.clusterHide()),g._group._featureGroup.addLayer(w))}},function(g){g._addToMap(u)})},_recursivelyRestoreChildPositions:function(u){for(var f=this._markers.length-1;f>=0;f--){var _=this._markers[f];_._backupLatlng&&(_.setLatLng(_._backupLatlng),delete _._backupLatlng)}if(u-1===this._zoom)for(var g=this._childClusters.length-1;g>=0;g--)this._childClusters[g]._restorePosition();else for(var v=this._childClusters.length-1;v>=0;v--)this._childClusters[v]._recursivelyRestoreChildPositions(u)},_restorePosition:function(){this._backupLatlng&&(this.setLatLng(this._backupLatlng),delete this._backupLatlng)},_recursivelyRemoveChildrenFromMap:function(u,f,_,g){var v,w;this._recursively(u,f-1,_-1,function(S){for(w=S._markers.length-1;w>=0;w--)v=S._markers[w],(!g||!g.contains(v._latlng))&&(S._group._featureGroup.removeLayer(v),v.clusterShow&&v.clusterShow())},function(S){for(w=S._childClusters.length-1;w>=0;w--)v=S._childClusters[w],(!g||!g.contains(v._latlng))&&(S._group._featureGroup.removeLayer(v),v.clusterShow&&v.clusterShow())})},_recursively:function(u,f,_,g,v){var w=this._childClusters,S=this._zoom,I,M;if(f<=S&&(g&&g(this),v&&S===_&&v(this)),S<f||S<_)for(I=w.length-1;I>=0;I--)M=w[I],M._boundsNeedUpdate&&M._recalculateBounds(),u.intersects(M._bounds)&&M._recursively(u,f,_,g,v)},_isSingleParent:function(){return this._childClusters.length>0&&this._childClusters[0]._childCount===this._childCount}});L.Marker.include({clusterHide:function(){var u=this.options.opacity;return this.setOpacity(0),this.options.opacity=u,this},clusterShow:function(){return this.setOpacity(this.options.opacity)}}),L.DistanceGrid=function(u){this._cellSize=u,this._sqCellSize=u*u,this._grid={},this._objectPoint={}},L.DistanceGrid.prototype={addObject:function(u,f){var _=this._getCoord(f.x),g=this._getCoord(f.y),v=this._grid,w=v[g]=v[g]||{},S=w[_]=w[_]||[],I=L.Util.stamp(u);this._objectPoint[I]=f,S.push(u)},updateObject:function(u,f){this.removeObject(u),this.addObject(u,f)},removeObject:function(u,f){var _=this._getCoord(f.x),g=this._getCoord(f.y),v=this._grid,w=v[g]=v[g]||{},S=w[_]=w[_]||[],I,M;for(delete this._objectPoint[L.Util.stamp(u)],I=0,M=S.length;I<M;I++)if(S[I]===u)return S.splice(I,1),M===1&&delete w[_],!0},eachObject:function(u,f){var _,g,v,w,S,I,M,q=this._grid;for(_ in q){S=q[_];for(g in S)for(I=S[g],v=0,w=I.length;v<w;v++)M=u.call(f,I[v]),M&&(v--,w--)}},getNearObject:function(u){var f=this._getCoord(u.x),_=this._getCoord(u.y),g,v,w,S,I,M,q,F,Z=this._objectPoint,it=this._sqCellSize,ut=null;for(g=_-1;g<=_+1;g++)if(S=this._grid[g],S){for(v=f-1;v<=f+1;v++)if(I=S[v],I)for(w=0,M=I.length;w<M;w++)q=I[w],F=this._sqDist(Z[L.Util.stamp(q)],u),(F<it||F<=it&&ut===null)&&(it=F,ut=q)}return ut},_getCoord:function(u){var f=Math.floor(u/this._cellSize);return isFinite(f)?f:u},_sqDist:function(u,f){var _=f.x-u.x,g=f.y-u.y;return _*_+g*g}},(function(){L.QuickHull={getDistant:function(u,f){var _=f[1].lat-f[0].lat,g=f[0].lng-f[1].lng;return g*(u.lat-f[0].lat)+_*(u.lng-f[0].lng)},findMostDistantPointFromBaseLine:function(u,f){var _=0,g=null,v=[],w,S,I;for(w=f.length-1;w>=0;w--){if(S=f[w],I=this.getDistant(S,u),I>0)v.push(S);else continue;I>_&&(_=I,g=S)}return{maxPoint:g,newPoints:v}},buildConvexHull:function(u,f){var _=[],g=this.findMostDistantPointFromBaseLine(u,f);return g.maxPoint?(_=_.concat(this.buildConvexHull([u[0],g.maxPoint],g.newPoints)),_=_.concat(this.buildConvexHull([g.maxPoint,u[1]],g.newPoints)),_):[u[0]]},getConvexHull:function(u){var f=!1,_=!1,g=!1,v=!1,w=null,S=null,I=null,M=null,q=null,F=null,Z;for(Z=u.length-1;Z>=0;Z--){var it=u[Z];(f===!1||it.lat>f)&&(w=it,f=it.lat),(_===!1||it.lat<_)&&(S=it,_=it.lat),(g===!1||it.lng>g)&&(I=it,g=it.lng),(v===!1||it.lng<v)&&(M=it,v=it.lng)}_!==f?(F=S,q=w):(F=M,q=I);var ut=[].concat(this.buildConvexHull([F,q],u),this.buildConvexHull([q,F],u));return ut}}})(),L.MarkerCluster.include({getConvexHull:function(){var u=this.getAllChildMarkers(),f=[],_,g;for(g=u.length-1;g>=0;g--)_=u[g].getLatLng(),f.push(_);return L.QuickHull.getConvexHull(f)}}),L.MarkerCluster.include({_2PI:Math.PI*2,_circleFootSeparation:25,_circleStartAngle:0,_spiralFootSeparation:28,_spiralLengthStart:11,_spiralLengthFactor:5,_circleSpiralSwitchover:9,spiderfy:function(){if(!(this._group._spiderfied===this||this._group._inZoomAnimation)){var u=this.getAllChildMarkers(null,!0),f=this._group,_=f._map,g=_.latLngToLayerPoint(this._latlng),v;this._group._unspiderfy(),this._group._spiderfied=this,this._group.options.spiderfyShapePositions?v=this._group.options.spiderfyShapePositions(u.length,g):u.length>=this._circleSpiralSwitchover?v=this._generatePointsSpiral(u.length,g):(g.y+=10,v=this._generatePointsCircle(u.length,g)),this._animationSpiderfy(u,v)}},unspiderfy:function(u){this._group._inZoomAnimation||(this._animationUnspiderfy(u),this._group._spiderfied=null)},_generatePointsCircle:function(u,f){var _=this._group.options.spiderfyDistanceMultiplier*this._circleFootSeparation*(2+u),g=_/this._2PI,v=this._2PI/u,w=[],S,I;for(g=Math.max(g,35),w.length=u,S=0;S<u;S++)I=this._circleStartAngle+S*v,w[S]=new L.Point(f.x+g*Math.cos(I),f.y+g*Math.sin(I))._round();return w},_generatePointsSpiral:function(u,f){var _=this._group.options.spiderfyDistanceMultiplier,g=_*this._spiralLengthStart,v=_*this._spiralFootSeparation,w=_*this._spiralLengthFactor*this._2PI,S=0,I=[],M;for(I.length=u,M=u;M>=0;M--)M<u&&(I[M]=new L.Point(f.x+g*Math.cos(S),f.y+g*Math.sin(S))._round()),S+=v/g+M*5e-4,g+=w/S;return I},_noanimationUnspiderfy:function(){var u=this._group,f=u._map,_=u._featureGroup,g=this.getAllChildMarkers(null,!0),v,w;for(u._ignoreMove=!0,this.setOpacity(1),w=g.length-1;w>=0;w--)v=g[w],_.removeLayer(v),v._preSpiderfyLatlng&&(v.setLatLng(v._preSpiderfyLatlng),delete v._preSpiderfyLatlng),v.setZIndexOffset&&v.setZIndexOffset(0),v._spiderLeg&&(f.removeLayer(v._spiderLeg),delete v._spiderLeg);u.fire("unspiderfied",{cluster:this,markers:g}),u._ignoreMove=!1,u._spiderfied=null}}),L.MarkerClusterNonAnimated=L.MarkerCluster.extend({_animationSpiderfy:function(u,f){var _=this._group,g=_._map,v=_._featureGroup,w=this._group.options.spiderLegPolylineOptions,S,I,M,q;for(_._ignoreMove=!0,S=0;S<u.length;S++)q=g.layerPointToLatLng(f[S]),I=u[S],M=new L.Polyline([this._latlng,q],w),g.addLayer(M),I._spiderLeg=M,I._preSpiderfyLatlng=I._latlng,I.setLatLng(q),I.setZIndexOffset&&I.setZIndexOffset(1e6),v.addLayer(I);this.setOpacity(.3),_._ignoreMove=!1,_.fire("spiderfied",{cluster:this,markers:u})},_animationUnspiderfy:function(){this._noanimationUnspiderfy()}}),L.MarkerCluster.include({_animationSpiderfy:function(u,f){var _=this,g=this._group,v=g._map,w=g._featureGroup,S=this._latlng,I=v.latLngToLayerPoint(S),M=L.Path.SVG,q=L.extend({},this._group.options.spiderLegPolylineOptions),F=q.opacity,Z,it,ut,st,St,Tt;for(F===void 0&&(F=L.MarkerClusterGroup.prototype.options.spiderLegPolylineOptions.opacity),M?(q.opacity=0,q.className=(q.className||"")+" leaflet-cluster-spider-leg"):q.opacity=F,g._ignoreMove=!0,Z=0;Z<u.length;Z++)it=u[Z],Tt=v.layerPointToLatLng(f[Z]),ut=new L.Polyline([S,Tt],q),v.addLayer(ut),it._spiderLeg=ut,M&&(st=ut._path,St=st.getTotalLength()+.1,st.style.strokeDasharray=St,st.style.strokeDashoffset=St),it.setZIndexOffset&&it.setZIndexOffset(1e6),it.clusterHide&&it.clusterHide(),w.addLayer(it),it._setPos&&it._setPos(I);for(g._forceLayout(),g._animationStart(),Z=u.length-1;Z>=0;Z--)Tt=v.layerPointToLatLng(f[Z]),it=u[Z],it._preSpiderfyLatlng=it._latlng,it.setLatLng(Tt),it.clusterShow&&it.clusterShow(),M&&(ut=it._spiderLeg,st=ut._path,st.style.strokeDashoffset=0,ut.setStyle({opacity:F}));this.setOpacity(.3),g._ignoreMove=!1,setTimeout(function(){g._animationEnd(),g.fire("spiderfied",{cluster:_,markers:u})},200)},_animationUnspiderfy:function(u){var f=this,_=this._group,g=_._map,v=_._featureGroup,w=u?g._latLngToNewLayerPoint(this._latlng,u.zoom,u.center):g.latLngToLayerPoint(this._latlng),S=this.getAllChildMarkers(null,!0),I=L.Path.SVG,M,q,F,Z,it,ut;for(_._ignoreMove=!0,_._animationStart(),this.setOpacity(1),q=S.length-1;q>=0;q--)M=S[q],M._preSpiderfyLatlng&&(M.closePopup(),M.setLatLng(M._preSpiderfyLatlng),delete M._preSpiderfyLatlng,ut=!0,M._setPos&&(M._setPos(w),ut=!1),M.clusterHide&&(M.clusterHide(),ut=!1),ut&&v.removeLayer(M),I&&(F=M._spiderLeg,Z=F._path,it=Z.getTotalLength()+.1,Z.style.strokeDashoffset=it,F.setStyle({opacity:0})));_._ignoreMove=!1,setTimeout(function(){var st=0;for(q=S.length-1;q>=0;q--)M=S[q],M._spiderLeg&&st++;for(q=S.length-1;q>=0;q--)M=S[q],M._spiderLeg&&(M.clusterShow&&M.clusterShow(),M.setZIndexOffset&&M.setZIndexOffset(0),st>1&&v.removeLayer(M),g.removeLayer(M._spiderLeg),delete M._spiderLeg);_._animationEnd(),_.fire("unspiderfied",{cluster:f,markers:S})},200)}}),L.MarkerClusterGroup.include({_spiderfied:null,unspiderfy:function(){this._unspiderfy.apply(this,arguments)},_spiderfierOnAdd:function(){this._map.on("click",this._unspiderfyWrapper,this),this._map.options.zoomAnimation&&this._map.on("zoomstart",this._unspiderfyZoomStart,this),this._map.on("zoomend",this._noanimationUnspiderfy,this),L.Browser.touch||this._map.getRenderer(this)},_spiderfierOnRemove:function(){this._map.off("click",this._unspiderfyWrapper,this),this._map.off("zoomstart",this._unspiderfyZoomStart,this),this._map.off("zoomanim",this._unspiderfyZoomAnim,this),this._map.off("zoomend",this._noanimationUnspiderfy,this),this._noanimationUnspiderfy()},_unspiderfyZoomStart:function(){this._map&&this._map.on("zoomanim",this._unspiderfyZoomAnim,this)},_unspiderfyZoomAnim:function(u){L.DomUtil.hasClass(this._map._mapPane,"leaflet-touching")||(this._map.off("zoomanim",this._unspiderfyZoomAnim,this),this._unspiderfy(u))},_unspiderfyWrapper:function(){this._unspiderfy()},_unspiderfy:function(u){this._spiderfied&&this._spiderfied.unspiderfy(u)},_noanimationUnspiderfy:function(){this._spiderfied&&this._spiderfied._noanimationUnspiderfy()},_unspiderfyLayer:function(u){u._spiderLeg&&(this._featureGroup.removeLayer(u),u.clusterShow&&u.clusterShow(),u.setZIndexOffset&&u.setZIndexOffset(0),this._map.removeLayer(u._spiderLeg),delete u._spiderLeg)}}),L.MarkerClusterGroup.include({refreshClusters:function(u){return u?u instanceof L.MarkerClusterGroup?u=u._topClusterLevel.getAllChildMarkers():u instanceof L.LayerGroup?u=u._layers:u instanceof L.MarkerCluster?u=u.getAllChildMarkers():u instanceof L.Marker&&(u=[u]):u=this._topClusterLevel.getAllChildMarkers(),this._flagParentsIconsNeedUpdate(u),this._refreshClustersIcons(),this.options.singleMarkerMode&&this._refreshSingleMarkerModeMarkers(u),this},_flagParentsIconsNeedUpdate:function(u){var f,_;for(f in u)for(_=u[f].__parent;_;)_._iconNeedsUpdate=!0,_=_.__parent},_refreshSingleMarkerModeMarkers:function(u){var f,_;for(f in u)_=u[f],this.hasLayer(_)&&_.setIcon(this._overrideMarkerIcon(_))}}),L.Marker.include({refreshIconOptions:function(u,f){var _=this.options.icon;return L.setOptions(_,u),this.setIcon(_),f&&this.__parent&&this.__parent._group.refreshClusters(this),this}}),n.MarkerClusterGroup=a,n.MarkerCluster=l,Object.defineProperty(n,"__esModule",{value:!0})})})(cc,cc.exports)),cc.exports}PO();delete iu.Icon.Default.prototype._getIconUrl;iu.Icon.Default.mergeOptions({iconRetinaUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-icon-2x.png",iconUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-icon.png",shadowUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-shadow.png"});const MO=new iu.Icon({iconUrl:"https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-green.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]}),OO=new iu.Icon({iconUrl:"https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-grey.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]}),NO=({trees:r})=>{const t=wb(),n=X.useRef(null);return X.useEffect(()=>{if(!t)return;n.current||(n.current=iu.markerClusterGroup(),t.addLayer(n.current));const a=n.current;return a.clearLayers(),r.forEach(l=>{const u=l.status==="verified"?MO:OO,f=iu.marker([l.location.latitude,l.location.longitude],{icon:u}),_=`
                <div class="w-48">
                    <div class="p-2">
                        <h3 class="font-bold text-md">${l.speciesName}</h3>
                        <p class="text-sm text-gray-600">Estado: ${l.healthStatus}</p>
                    </div>
                </div>
            `;f.bindPopup(_),a.addLayer(f)}),()=>{a&&t.hasLayer(a)}},[r,t]),X.useEffect(()=>{const a=n.current;return()=>{a&&t.hasLayer(a)&&t.removeLayer(a)}},[t]),null},DO=()=>{const[r,t]=X.useState([]),[n,a]=X.useState(!0);return X.useEffect(()=>{const l=CM(Pp(Mp,"trees")),u=MM(l,f=>{const _=[];f.forEach(g=>{_.push({id:g.id,...g.data()})}),t(_),a(!1)},f=>{console.error("Error fetching trees:",f),a(!1)});return()=>u()},[]),dt.jsx("div",{className:"h-full w-full",children:n?dt.jsx("div",{className:"flex items-center justify-center h-full",children:dt.jsx("p",{children:"Cargando mapa y datos..."})}):dt.jsxs(bb,{center:[-30.76,-57.98],zoom:14,scrollWheelZoom:!0,className:"h-full w-full",children:[dt.jsx(Sb,{attribution:' <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors  <a href="https://carto.com/attributions">CARTO</a>',url:"https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}{r}.png"}),dt.jsx(NO,{trees:r})]})})},kO=async(r,t)=>{try{const n=await fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${r}&lon=${t}`);if(!n.ok)throw new Error("Failed to fetch address");return(await n.json()).display_name||"Direccin no encontrada"}catch(n){return console.error("Error in reverse geocoding:",n),"Error al obtener la direccin"}},VO=({onLocationChange:r})=>{const[t,n]=X.useState([-30.76,-57.98]),a=X.useRef(null),l=()=>(RO({click(f){n([f.latlng.lat,f.latlng.lng]),u(f.latlng.lat,f.latlng.lng)}}),null),u=async(f,_)=>{const g=await kO(f,_);r(f,_,g)};return dt.jsx("div",{className:"h-64 w-full rounded-md overflow-hidden z-0",children:dt.jsxs(bb,{center:t||[-30.76,-57.98],zoom:15,scrollWheelZoom:!1,children:[dt.jsx(Sb,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),t&&dt.jsx(LO,{position:t,ref:a}),dt.jsx(l,{})]})})},UO=()=>{const[r,t]=X.useState([]),[n,a]=X.useState(""),[l,u]=X.useState(""),[f,_]=X.useState(0),[g,v]=X.useState("Bueno"),[w,S]=X.useState(""),[I,M]=X.useState(null),[q,F]=X.useState(""),[Z,it]=X.useState(!1),[ut,st]=X.useState(null),St=xc();X.useEffect(()=>{(async()=>{const O=Pp(Mp,"species"),j=(await xM(O)).docs.map(B=>({id:B.id,...B.data()}));t(j)})()},[]);const Tt=(z,O,D)=>{M({lat:z,lng:O}),F(D)},kt=async z=>{if(z.preventDefault(),!I||!zo.currentUser){st("Por favor, completa todos los campos requeridos, incluyendo la ubicacin.");return}it(!0),st(null);try{const D={speciesName:n==="Otra"?l:n,estimatedAge:Number(f),healthStatus:g,notes:w,location:new Sr(I.lat,I.lng),address:q,createdBy:zo.currentUser.uid,createdAt:DM(),status:"verified"};await PM(Pp(Mp,"trees"),D),it(!1),alert("rbol registrado con xito!"),St("/")}catch(O){console.error(O),st("Ocurri un error al guardar el rbol. Intntalo de nuevo."),it(!1)}};return dt.jsxs("div",{className:"max-w-4xl mx-auto p-4 sm:p-6 lg:p-8",children:[dt.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-6",children:"Registrar un Nuevo rbol"}),dt.jsxs("form",{onSubmit:kt,className:"space-y-6 bg-white p-8 rounded-lg shadow-md",children:[dt.jsxs("div",{children:[dt.jsx("label",{htmlFor:"species",className:"block text-sm font-medium text-gray-700",children:"Especie"}),dt.jsxs("select",{id:"species",value:n,onChange:z=>a(z.target.value),className:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-green-500 focus:border-green-500 sm:text-sm rounded-md",children:[dt.jsx("option",{value:"",children:"Selecciona una especie"}),r.map(z=>dt.jsx("option",{value:z.commonName,children:z.commonName},z.id)),dt.jsx("option",{value:"Otra",children:"Otra..."})]})]}),n==="Otra"&&dt.jsxs("div",{children:[dt.jsx("label",{htmlFor:"otherSpecies",className:"block text-sm font-medium text-gray-700",children:"Nombre de la otra especie"}),dt.jsx("input",{type:"text",id:"otherSpecies",value:l,onChange:z=>u(z.target.value),className:"mt-1 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md",required:!0})]}),dt.jsxs("div",{children:[dt.jsx("label",{htmlFor:"age",className:"block text-sm font-medium text-gray-700",children:"Edad Estimada (aos)"}),dt.jsx("input",{type:"number",id:"age",value:f,onChange:z=>_(Number(z.target.value)),className:"mt-1 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md"})]}),dt.jsxs("div",{children:[dt.jsx("label",{htmlFor:"health",className:"block text-sm font-medium text-gray-700",children:"Estado de Salud"}),dt.jsxs("select",{id:"health",value:g,onChange:z=>v(z.target.value),className:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-green-500 focus:border-green-500 sm:text-sm rounded-md",children:[dt.jsx("option",{children:"Bueno"}),dt.jsx("option",{children:"Regular"}),dt.jsx("option",{children:"Malo"})]})]}),dt.jsxs("div",{children:[dt.jsx("label",{htmlFor:"notes",className:"block text-sm font-medium text-gray-700",children:"Notas Adicionales"}),dt.jsx("textarea",{id:"notes",value:w,onChange:z=>S(z.target.value),rows:3,className:"mt-1 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md"})]}),dt.jsxs("div",{children:[dt.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Ubicacin"}),dt.jsx("p",{className:"text-sm text-gray-500 mb-2",children:"Haz clic en el mapa para marcar la ubicacin exacta del rbol."}),dt.jsx(VO,{onLocationChange:Tt}),q&&dt.jsxs("p",{className:"mt-2 text-sm text-gray-600",children:["Direccin detectada: ",q]})]}),ut&&dt.jsx("p",{className:"text-red-500 text-sm",children:ut}),dt.jsx("div",{className:"pt-5",children:dt.jsx("button",{type:"submit",disabled:Z,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 disabled:bg-green-300",children:Z?"Guardando...":"Guardar rbol"})})]})]})},zO=()=>{const[r,t]=X.useState(!0),[n,a]=X.useState(""),[l,u]=X.useState(""),[f,_]=X.useState(null),[g,v]=X.useState(!1),w=xc(),S=async M=>{M.preventDefault(),v(!0),_(null);try{r?await $R(zo,n,l):await WR(zo,n,l),w("/")}catch(q){_(q.message)}finally{v(!1)}},I=async()=>{v(!0),_(null);try{await wI(zo,fO),w("/")}catch(M){_(M.message)}finally{v(!1)}};return dt.jsx("div",{className:"flex items-center justify-center min-h-full bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:dt.jsxs("div",{className:"max-w-md w-full space-y-8 p-10 bg-white rounded-xl shadow-lg",children:[dt.jsx("div",{children:dt.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:r?"Inicia sesin en tu cuenta":"Crea una nueva cuenta"})}),dt.jsxs("form",{className:"mt-8 space-y-6",onSubmit:S,children:[dt.jsxs("div",{className:"rounded-md shadow-sm -space-y-px",children:[dt.jsx("div",{children:dt.jsx("input",{id:"email-address",name:"email",type:"email",autoComplete:"email",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:ring-green-500 focus:border-green-500 focus:z-10 sm:text-sm",placeholder:"Correo electrnico",value:n,onChange:M=>a(M.target.value)})}),dt.jsx("div",{children:dt.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-b-md focus:outline-none focus:ring-green-500 focus:border-green-500 focus:z-10 sm:text-sm",placeholder:"Contrasea",value:l,onChange:M=>u(M.target.value)})})]}),f&&dt.jsx("p",{className:"text-red-500 text-sm",children:f}),dt.jsx("div",{children:dt.jsx("button",{type:"submit",disabled:g,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 disabled:bg-green-300",children:g?"Procesando...":r?"Iniciar Sesin":"Registrarse"})})]}),dt.jsx("div",{className:"text-center",children:dt.jsx("button",{onClick:()=>t(!r),className:"font-medium text-green-600 hover:text-green-500",children:r?"No tienes cuenta? Regstrate":"Ya tienes cuenta? Inicia Sesin"})}),dt.jsxs("div",{className:"relative flex py-5 items-center",children:[dt.jsx("div",{className:"flex-grow border-t border-gray-300"}),dt.jsx("span",{className:"flex-shrink mx-4 text-gray-500",children:"O"}),dt.jsx("div",{className:"flex-grow border-t border-gray-300"})]}),dt.jsx("div",{children:dt.jsxs("button",{onClick:I,disabled:g,className:"group relative w-full flex justify-center py-2 px-4 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 disabled:bg-gray-200",children:[dt.jsx("img",{className:"h-5 w-5 mr-2",src:"https://www.svgrepo.com/show/475656/google-color.svg",alt:"Google icon"}),"Continuar con Google"]})})]})})},BO=()=>{const{user:r}=z_(),t=xc(),n=async()=>{try{await nI(zo),t("/")}catch(a){console.error("Error signing out: ",a)}};return dt.jsx("nav",{className:"bg-green-700 text-white shadow-md",children:dt.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:dt.jsxs("div",{className:"flex items-center justify-between h-16",children:[dt.jsxs("div",{className:"flex items-center",children:[dt.jsxs(Zl,{to:"/",className:"font-bold text-xl flex items-center",children:[dt.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"mr-2",children:[dt.jsx("path",{d:"M12 22s-8-4.5-8-11.8A8 8 0 0 1 12 2a8 8 0 0 1 8 8.2c0 7.3-8 11.8-8 11.8z"}),dt.jsx("path",{d:"m14 9-2 2-2-2"}),dt.jsx("path",{d:"M12 12v7"})]}),"Arbolado Chajar"]}),dt.jsx("div",{className:"hidden md:block",children:dt.jsxs("div",{className:"ml-10 flex items-baseline space-x-4",children:[dt.jsx(Zl,{to:"/",className:"text-gray-200 hover:bg-green-600 hover:text-white px-3 py-2 rounded-md text-sm font-medium",children:"Mapa"}),r&&dt.jsx(Zl,{to:"/add-tree",className:"text-gray-200 hover:bg-green-600 hover:text-white px-3 py-2 rounded-md text-sm font-medium",children:"Aadir rbol"})]})})]}),dt.jsx("div",{className:"hidden md:block",children:r?dt.jsx("button",{onClick:n,className:"bg-red-500 hover:bg-red-600 text-white font-bold py-2 px-4 rounded-md text-sm",children:"Cerrar Sesin"}):dt.jsx(Zl,{to:"/auth",className:"bg-green-500 hover:bg-green-600 text-white font-bold py-2 px-4 rounded-md text-sm",children:"Iniciar Sesin"})})]})})})},HO=({children:r})=>{const{user:t,loading:n}=z_();return n?dt.jsx("div",{className:"flex justify-center items-center h-screen",children:"Cargando..."}):t?dt.jsx(dt.Fragment,{children:r}):dt.jsx(Bp,{to:"/auth",replace:!0})},jO=({children:r})=>{const{user:t,loading:n}=z_();return n?dt.jsx("div",{className:"flex justify-center items-center h-screen",children:"Cargando..."}):t?dt.jsx(Bp,{to:"/",replace:!0}):dt.jsx(dt.Fragment,{children:r})};function qO(){return dt.jsxs("div",{className:"flex flex-col h-screen bg-gray-50",children:[dt.jsx(BO,{}),dt.jsx("main",{className:"flex-grow",children:dt.jsxs(zA,{children:[dt.jsx(nc,{path:"/",element:dt.jsx(DO,{})}),dt.jsx(nc,{path:"/add-tree",element:dt.jsx(HO,{children:dt.jsx(UO,{})})}),dt.jsx(nc,{path:"/auth",element:dt.jsx(jO,{children:dt.jsx(zO,{})})}),dt.jsx(nc,{path:"*",element:dt.jsx(Bp,{to:"/"})})]})})]})}function FO(){return dt.jsx(dO,{children:dt.jsx(l1,{children:dt.jsx(qO,{})})})}const Ab=document.getElementById("root");if(!Ab)throw new Error("Could not find root element to mount to");const GO=QS.createRoot(Ab);GO.render(dt.jsx(mf.StrictMode,{children:dt.jsx(FO,{})}));
